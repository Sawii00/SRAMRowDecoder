/////////////////////////////////////////////////////
//  UMC 65nm logic/mixed_mode65 DRC rule
//  Option: G-DF-LOGIC_MIXED_MODE65N-1P10M2T2F-LL-Calibre-drc-1.14-P1
//  Generated date:  Wed Dec 29 17:52:13 CST 2010  //
//                                                 //
 
//////////////////////////////////////////////////////////////////////
//                                                                  
//     Title     :   Calibre DRC of 65nm Logic and Mixed-Mode Low Leakage
//                 Process Topological Layout Rule
//     DRC Version: 1.14 P1                                
//     Parent Doc : G-03-LOGIC/MIXED_MODE65N-LL-TLR  Ver: 1.14 P1                                                                        
//
//     Copyright (c) United Microelectronics Corporation, 1980-2010
//     All Rights Reserved
//
//     This source file is proprietary information of United
//     Microelectronics Corporation.  It may not be distributed,
//     in whole or in any part without prior written permission.                                                                             
//
//     LIMITATION OF LIABILITY:                                                  
//        United Microelectronics Corp. is not  liable  for  any               
//        property damage, personal  injury,  loss  of  profits,                  
//        interruption of business,  or  for  any other special,                  
//        consequential or incidental  damages, however  caused,                  
//        whether for breach of warranty,contract tort(including                 
//        negligence),strict liability or otherwise.                             
//
//        This file includes SVRF/TVF Technology under   license 
//        by Mentor Graphics Corporation.  "SVRF/TVF Technology" 
//        shall  mean  Mentor   Graphics' Standard  Verification 
//        rule  Format (" SVRF ") and  Tcl Verification   Format 
//        ( " TVF " )   proprietary   syntaxes   for  expressing
//        process rules. You shall not use  SVRF/TVF  Technology  
//        unless  you  are a Mentor  Graphics  customer  with  a 
//        license   to  use  Mentor   Graphics' CalibreR  tools.  
//        The exact terms  of your  obligations  and  rights are  
//        governed  by your  respective  license. You  shall not  
//        use  SVRF/TVF Technology except for  use  with  Mentor   
//        Graphics'  CalibreR  tools.    All SVRF/FVF Technology 
//        contained  in this file  constitutes or contains trade   
//        secrets   and   confidential   information  of  Mentor 
//        Graphics or its licensors.   Unless you  have obtained 
//        Mentor Graphics' prior written consent, you  shall not 
//        make SVRF/TVF  Technology  available  in any form to a 
//        Mentor Graphics Competitor.					
//								                 
//      This runset is validated with Calibre 2008.4_37.26	
//								   
//////////////////////////////////////////////////////////////////////////
// revision  date      who                 changes                      //
//========= ========== ========  =======================================//
//                                                                      //
// T.0-P1   08/19/2005  Silvio     create according to T.0 P1 TLR       //
// T.0-P1   08/23/2005  Silvio     update VIA farm rules                //
// T.0-P1   08/26/2005  Silvio     update title                         //
// T.0-P2   08/29/2005  silvio     add SP2_B  SP_12                     //
// T.1-P1   11/30/2005  C.C.Chang  1.Update:                            //
//                                  A. Update Grid Size                 //                
//                                  B. Update Rule:                     //
//                                   FEOL:                              //         
//                                    DF.WX, DF.A, DF.EA, TG.W, TG.S,   //
//                                    TG_NW.S, TG_NW.OH, NW_TG.OH,      //
//                                    TG_NW.OL, PLY_DF.S2, PLY_DF.OH1,  //
//                                    PLY_DF.OH2, PLY.A, PLY.EA, NSD.A, //
//                                    NSD.EA, N_DF_P_PU.SX.PW, PSD.A,   //
//                                    PSD.EA, SAB_PLY.S, PPNRS.S,       // 
//                                    TG_PPNRS.EN, SBLK_PLY.S, CT.S2,   //
//                                    MOAT.R.                           //
//                                   BEOL: M1.WX, M1_CT.EN5, M1.A, M1.EA//
//                                    M1.R,1XMn.WX, 1XM2.A, 1XM2.EA,    //
//                                    1XM2.R, 1XMn.A, 1XMn.EA, 1XMn.R1, //
//                                    1XVn.R2, 1XVn.R3, 2XMn.WX, XMn.WX,//
//                                    L2.S.staggered.35, DSR.W, DSR.S,  //
//                                    DSR.R, DF.W.DSR, CTB.S.DSR,       //
//                                    4XMn.W.DSR, 4XMn.W.DSR.a,         //
//                                    4XMn_4XVBn.EN.DSR,                //
//                                    1XMn_1XVBn.EN.DSR, 2XMn_VBn.EN.DSR,/ 
//                                    Vm_Vn.S.DSR, L3_L2.S.DSR, L2_L.S1,//
//                                    PLY_DF.S.RCM.Priority2,           //
//                                    PLY_DF.S1.RCM.Priority2,          //
//                                  2.Add rules:                        //
//                                    NWR_N_DF.NW, LLH_NW.R, TG_NW.R    //  
//                                    PLY_DF.S3, PPNRS_TG.S,            //
//                                    L2_WELL.S.inline.50,              //
//                                    L2_DF.S.inline.50,                //
//                                    L2_PLY.S.inline.50,               //
//                                    L2_Mn.S.inline.50,                //
//                                    L2_WELL.S.staggered.35,           // 
//                                    L2_DF.S.staggered.35,             // 
//                                    L2_PLY.S.staggered.35,            //
//                                    L2_Mn.S.staggered.35, 1XMn.R1,    //
//                                  3.Remove rules:                     //
//                                    TWEL rules, SP_RVT Rules, MG rules,/
//                                    MG_LLH.EN, NSD_P_DF.S.TW,         // 
//                                    NSD_N_DF.EN.TW, TW_PPNRS.EN,      //
//                                    MG_PPNRS.EN, PSD_N_DF.S.TW,       //
//                                    P_DF_N_PU.SX.NW, PSD_P_DF.EN.TW,  //
//                                    N_DF_P_PU.SX.TW, PPNRS_LLH.S,     //
//                                    PPNRS_SPR.S, PPNRS_TW.S,          //
//                                    2XMn.W.DSR, 2XMn.W.DSR.a,         // 
//                                    M1.WX.M1SLBK, M1.S.M1SLBK,        //
//                                    M1.R2, 1XM2.WX.M2SLBK,            //
//                                    1XM2.S.M2SLBK, 1XM2.S1.M2SLBK,    //
//                                    1XM2.R1, 1XMn.WX.MnSLBK,          //
//                                    1XMn.S.MnSLBK, 1XMn.S1.MnSLBK,    //
//                                    2XMn.WX.MnSLBK, 2XMn.S.MnSLBK,    //
//                                    2XMn.S1.MnSLBK, 2XMn.S2.MnSLBK,   //
//                                    2XMn.S3.MnSLBK, 2XMn.R,           //
//                                    4XMn.WX.MnSLBK, 4XMn.S.MnSLBK,    //
//                                    4XMn.S1.MnSLBK, 4XMn.S2.MnSLBK,   //
//                                    4XMn.S3.MnSLBK,4XMn.R.            //
//                                  4.Rename:                           // 
//                                   Mn_2XVBn.EN.DSR => 2XMn_VBn.EN.DSR //
//                                   Mn_4XVBn.EN.DSR => 4XMn_4XVBn.EN.DSR/  
// T.2-P1   12/30/2005  C.C.Chang  1.Update: 2XVBn.S.DSR                // 
//                                 2.Wording Update: 4XMn_4XVBn.EN.DSR  // 
// T.3-P1   03/01/2006  C.C.Chang  1.Add SP_062 SRAM rule(SP_16),       //
//                                    L65 LLHVT 054 SRAM RULE (SP2_Q).  //
//                                    PLY_G.P.RCM.Priority2             //
//                                 2.Update Rule number (Align to TLR)  //
//                                 3.Update and reduce layer mapping:   //
//                                    From: 65nm_layers_v1.8.cal        //
//                                    To: 65nm_layers_v2.0.cal (reduced)// 
//                                 4.Update  DNW.R, PW.S3, PLY_DF.OH1.  // 
//                                    OFF_GRID.                         // 
//                                 5.Update & Merge:                    // 
//                                       M1_CT.EN5,  M1_CT.EN6          // 
//                                          ==> M1_CT.EN5_.EN6          //   
//                                       M1_V1.EN5, M1_V1.EN6           //
//                                          ==> M1_V1.EN5_.EN6          //  
//                                       1XMn_1XVnEN5, 1XMn_1XVnEN6,    // 
//                                          ==>1XMn_1XVn.EN5_.EN6       //  
//                                 6.Wording modified:                  //
//                                    2XM8_WX, LM_L1.EN1, L2_L_L1.EN2,  //
//                                    1XMn_L3.OH1.CLV.                  //
//                                 7.Update Antenna rule:               // 
//                                    From: umc_ant_L65_SP_calibre_V1   //
//                                    To:   umc_ant_L65_SP_calibre_V4   //
// 0.1-P1   08/31/2006  C.C.Chang  1.File name update:                  // 
//                                     From: G-DF-LOGIC_MIXEDMODE65N-   //
//                                           1P10M-Calibre-drc-T.3-p1.  //  
//                                     To: G-DF-LOGIC_MIXEDMODE65N-LL-  //
//                                           Calibre-drc-T.3-p1.        // 
//                                 2.Add 55nm rules and metal options   // 
//                                 3.Add rules:                         //
//                                    SDF.W.TG33, LLH_NW.R1_.R2,        //
//                                    LL_LVT rules, NT_DF.S2s,          //
//                                    NT_DF.EN1s, PLY_NT.W2, PLY_NT.W2s,//
//                                    TG_NW.R1_.R2, TG_LLH.R3, TG_LLL.R4,/
//                                    PLY.W.TG18, PLY.W.TG18s,          // 
//                                    PLY.W.TG25, PLY.W.TG25s,          // 
//                                    PLY_NG.W.TG33GOX52_1,             //
//                                    PLY_PG.W.TG33GOX52_1,             //
//                                    PLY_NG.W.TG33GOX52_1s,            //
//                                    PLY_PG.W.TG33GOX52_1s,            //
//                                    PLY_NG.W.TG33GOX52_2,             //
//                                    PLY_PG.W.TG33GOX52_2,             //
//                                    PLY_NG.W.TG33GOX52_2s,            //
//                                    PLY_PG.W.TG33GOX52_2s, PLY.W.TG33,//
//                                    PLY_G.S1s, PLY_G.R4, PLY_DF.OH1,  //
//                                    PLY_NG.W.TG_OD, PLY_PG.W.TG_OD,   //
//                                    PLY_NG.W.G_OD, PLY_PG.W.G_OD,     //
//                                    NPNRS.S10, SBLK.R_SBLK, SBLK.R_SAB,/
//                                    MOAT.R1, MIS_IMPLANT_BLOCK rules, //
//                                    CAD_OD_MARK rules,                //
//                                    CAD_UD_MARK rules,                //
//                                    3P3V_GOX52_IMPLANT_MARK rules,    //
//                                    EFUSE_MARK rules, 1XMn_1XVm.EN5,  //
//                                    1XMn.R1, X-Architecture rules,    //
//                                    PLY_G.P.RCM.Priority2,            //
//                                    PLY_G.RCM.Priority2,              //
//                                    eDRAM rule:umc65_eDRAM_v0.1_P3.cal,/ 
//                                 4.Update: DIB.W1, DIB.S1, DIB_NW.S3, //
//                                    DIB_TG.S4, TG.W1, TG.S1, TG_NW.S3,//
//                                    TG_NW.OH1, NW_TG.OH2, TG_NW.OL1,  //
//                                    PLY_DF.S3_.S4__PLY_F_DF.S7,       //
//                                    PLY_DF.S5, PLY_DF.L1, DF_PLY_G.OH4,/
//                                    DF_PLY_G.OH.TG, NSD_P_DF.S3.PW,   //
//                                    NSD_N_DF.EN1.NW, N_DF_P_PU.S5.PW, //
//                                    PSD_N_DF.S2.NW, PSD_P_DF.EN1.PW,  // 
//                                    P_DF_N_PU.S5.NW, PNRS.W2, PNRS.L1,//
//                                    PSD_PPNRS.EN2__NSD_NPNRS.EN3,     //
//                                    TG_PPNRS.EN4, PNRS_TG.S9,         //
//                                    NDNRS.W3, NDNRS.L2, CT_PLY_DF.S4, //
//                                    BP.W, BP.S, M1_CT.EN5, 1XMn.S2,   //
//                                    V1.S1, V1.S2, V1.S3, M1_V1.EN5,   //
//                                    1XM5_1XV5.EN5, M1.W11.DSR,        //
//                                    1XMn.W4.DSR,                      //
//                                    DF_CT.EN3_EN4.RCM.Priority4,      // 
//                                    SRAM rule: umc65sp_memory_v1.3.cal//
//                                    (Update: SP_062, add: DP_7)       //
//                                 5.Merge: PLY_CT.EN1.RCM.Priority3,   //
//                                          PLY_CT.EN2.RCM.Priority3,   //
//                                    ==> PLY_CT.EN1_.EN2.RCM.Priority3.//
//                                 6.Rename: Update rule Number.        //
//                                   (Align to TLR version 0.1_P1)      //
// 0.2-P1   01/17/2007  C.C.Chang  1.Add : NT.W1, NT.S1, NT_DF.S2,      //
//                                    NT_NW.S3, NT_TG.S4, TG_NT.EN2,    //
//                                    TG_NT.R1_.R2, NT_NRS.S5,          //
//                                    NT_DF.EN1, PLY_NT.W2,             //
//                                    PLY_NT.W3.TG18, PLY_NT.W3s.TG18,  //
//                                    PLY_NT.W3.TG25, PLY_NT.W3s.TG25,  //
//                                    TG_PLY_G.EN2, DIB_TG.OH1,         //
//                                    TG_DIB.OH2, DIB_TG.OL1,           //
//                                    DIB_TG.R1_.R2, TG_PLY_G.S4,       //
//                                    NW_MIS.R3, MIS.R4, HR rules,      //
//                                    MR rules, M1.W2, M1.S4,           //
//                                    M1.L1, 1XM2.W2, 1XM2.S4, 1XM2.L1, //
//                                    2XMn.W2, 2XM7.S4, 2XM7.L1,        //
//                                    30KA Metal rules (4B.6.2),        //
//                                    30KA VIA rules (4B.7.2), DSR.R5,  //
//                                    DSR.R5s, 30VBn.W12.DSR.a,         //
//                                    30VBn.W12.DSR.b, 30KMn_VBm.EN9.DSR,/
//                                    30KVBn.S11.DSR, OPC rules         //
//                                 2.Update: NWR.S1, NWR_NW.S2,         //
//                                    TG_PLY_G.S2, TG_PLY_G.EN1,        //
//                                    PLY_PG.W.TG33GOX52_2,             //
//                                    PLY_PG.W.TG33GOX52_2s,            // 
//                                    PSD_PPNRS.EN2__NSD_NPNRS.EN3,     //
//                                    NT.R1.                            //
//                                 3.Remove: Mn.R1, 1XMn.R1, DSR.R2,    //
//                                    DSR.R2s, DSR.R3, DSR.R3s.         //    
//                                 4.Wording modify:  MIS_BP.S3,        //
//                                    MIS_SAB.S4, MIS.R4, MIS.R5, MIS.R6,/
//                                    NWR_N_DF.S3__NW_NWR.EN1.          //
//                                 5.Update SRAM rule                   //
//                                      From: umc65sp_memory_v1.3.cal   //
//                                      To:   umc65sp_memory_v1.6.cal   //
// 0.2-P2   03/14/2007  C.C.Chang   1.Update SRAM rule                  //
//                                      From: umc65sp_memory_v1.6.cal   //
//                                      To:   umc65sp_memory_v1.7.cal   //
//                                  2.Update  layer mapping             //
//                                      From: 65nm_layers_v2.1.cal      //
//                                      To:   65nm_layers_v2.2.cal      //
//                                  3.Update eDRAM rule:                //
//                                      From: umc65_eDRAM_vA.D_PB.cal   //
//                                      To:   umc65_eDRAM_vA.E_PB.cal   //
//                                        ( Also cancel the excluding   //
//                                         rules in logic for AW area ) // 
//                                  4.Update NWR.S1, NWR_NW.S2, NW.S2,  //
//                                     PLY_G.P.RCM.Priority2,           //
//                                     PLY_G.R4 (with SRAM rules),      //
//                                     PLY.W.TG33, NW_MRP.EN2,          //
//                                     NW_HRP.EN2, NT_DF.EN1,           //
//                                     NT_DF.EN1s, MOAT.R1.             //
//                                  5.Seperate skewedge rules and waive //
//                                     them while the metal within IND  //
//                                     area.                            //
//                                     ( Commented by Sandy/ 0227/2007 )//
//                                  6.Run time Optimized: M1_CT.EN5,    // 
//                                     1XMn_1XVm.EN5, 1XMn_1XVn.EN5.    //  
// 0.3-P1   05/10/2007  C.C.Chang   1.Add DF.W3, DF.S3, DF.L1,          //
//                                     NSD_NPRS.EN5, PSD_PPRS.EN5,      //
//                                     PSD_DNRS.EN5, PLY_NT.W3.T33,     //
//                                     PLY_NT.W3s.TG33, PLY.W.TG33s.    //
//                                  2.Update PLY.W.TG33, PPNRS_NW.S6,   // 
//                                     DNW_N_DF.S2, PLY_DF.S5, PLY_G.R1,//
//                                     DF_PLY_G.OH4, NSD_NPRS.EN5,      //
//                                     NW_PPNRS.EN1, OD.R, SAB_CT.S4,   //
//                                     PSD_PPNRS.EN2__NSD_NPNRS.EN3,    //
//                                     2XMn.WX, 4XMn.WX, 325KAMn.WX,    //
//                                     M1.D, M1.D1, 1XMn.D, 1XMn.D1,    //
//                                     2XMn.D, 2XMn.D1, 4XMn.D, 4XMn.D1,//
//                                     325KAMn.D, 325KAMn.D1,           //
//                                     1XVn.S2.CLVS, NW_DNW.EN2.        //
//                                  3.Seperate                          //
//                                     PSD_NDNRS.S7 in to               //
//                                       PSD_NDNRS.S7 and NSD_PDNRS.S10.//
//                                     NSD_PPNRS.S8 in to               // 
//                                       NSD_PPNRS.S8 and PSD_NDNRS.S11.//
//                                     (SPEC also be updated)           //
//                                  4.Update definition for SAB_DIF_RES //
//                                     (follow the change of TLR)       //
//                                  5.Rename                            //
//                                     30KA*  ==> 325KA*                //
//                                     SBLK.R_SBLK ==> SBLK.R           //
//                                     SBLK.R_SAB  ==> SAB.R4           //
//                                     1XMn_1XVn.EN2_.OH1_.EN4          //
//                                       ==> 1XMn_1XVn.EN2_.EN3_.EN4    //
//                                  6.Remove Die Seal Ring rules        //
//                                      SAB.R2, SAB.R3, IND.R7.         //
//                                    (Original SAB.R2 and IND.R7 are   //
//                                    removed, we have new rules in     //
//                                    current TLR)                      // 
//                                  7.Wording modify                    // 
//                                     M1_V1.EN2_.OH1_.EN4              //
//                                     derived layer name AI_  ==> AL_  //
//                                  8.Update SRAM rule                  //
//                                      From: umc65sp_memory_v1.7.cal   //
//                                      To:   umc65sp_memory_v1.8.cal   //
//                                  9.Update X_architecture rule        //
//                                      From: umc-65SP-X_architecture_  //
//                                     Calibre-drc-V3                   //
//                                      To:   umc-65SP-X_architecture_  //
//                                     Calibre-drc-V4                   //
//                                  10.Turn on Manhattan rule check     //
//                                     only by default.                 //
// 0.3-P2   06/15/2007  C.C.Chang   1.SRAM rule update                  //
//                                      From: umc65sp_memory_v1.8.cal   //
//                                      To:   umc65sp_memory_v1.9.cal   //
//                                  2.Update EFM_NW.S3__NW_EFM.EN2 ,    //
//                                     EFM_TG.S4__TG_EFM.EN3, PLY_DF.L1.//
// 0.4-P1   08/13/2007  C.C.Chang   1.Add: V1.R.RCM.Priority1           //
//                                  2.Update: LLH.S1, LLH_NW.S3,        //
//                                     LLH_TG.S4, LLH_NW.OH1,           //
//                                     NW_LLH.OH2, NW_LLH.OL1,          //
//                                     LLH_NW.R1_.R2, LLL.S1, LLL_NW.S3,//
//                                     LLL_TG.S4, LLL_NW.OH1,           //
//                                     NW_LLL.OH2, NW_LLL.OL1,          //
//                                     LLL_NW.R1_.R2, TG_NW.R1_.R2,     //
//                                     M1.S2, M1.S3, V1.R3, 1XVn.R2,    //
//                                     1XVn.R3, 1XVn.R4,                //
//                                     M1.WX, 1XMn.WX, 2XMn.WX, 4XMn.WX,// 
//                                     6XMn.WX, 325KAMn.WX,  MIM.R7,    // 
//                                     M1.D, M1.D1, 1XMn.D, 1XMn.D1,    //
//                                     2XMn.D, 2XMn.D1, 4XMn.D, 4XMn.D1,//
//                                     6XMn.D, 6XMn.D1, 325KAMn.D,      //
//                                     325KAMn.D1,  PLY_G.RCM.Priority2.//               
//                                     exclude CLVS rules for BOACMK area/
//                                     update connection between AL_RDL //
//                                     and top metal.                   //
//                                     Layer mapping file updated:      // 
//                                      From: 65nm_layers_v2.2.cal      //
//                                      To:   65nm_layers_v2.3.cal      //
//                                  3.Remove:                           //
//                                     PLY_NG.W.TG33GOX52_1,            //
//                                     PLY_PG.W.TG33GOX52_1,            //
//                                     PLY_NG.W.TG33GOX52_1s,           //
//                                     PLY_PG.W.TG33GOX52_1s,           //
//                                     PLY_NG.W.TG33GOX52_2,            //
//                                     PLY_PG.W.TG33GOX52_2,            //
//                                     PLY_NG.W.TG33GOX52_2s,           //
//                                     PLY_PG.W.TG33GOX52_2s, PLY_G.R4, // 
//                                     PLY_NG.W.G_OD, PLY_PG.W.G_OD,    //
//                                     CAD_UD_MARK Rule,                //
//                                     3P3V_GOX52_IMPLANT_MARK rules.   //
//                                  4.Rename:                           //
//                                     NSD_PDNRS.S10 ==>  NSD_PDNRS.S11 //
//                                     PSD_NDNRS.S11 ==>  PSD_NDNRS.S12 //
//                                     SAB.R1_1      ==>  SAB.R1        //
//                                     SAB.R1_2      ==>  SAB.R4        //
//                                     SAB.R2        ==>  SAB.R5        // 
//                                     1XVn.R5.RCM.Priority1            //
//                                                   ==>  1XVn.R7       //
//                                  5.Wording modify                    //
//                                     Rule_OPC.2C_*                    //
//                                  6.Antenna rule update:              //
//                                     From: umc_ant_L65_SP_calibre_V5  //
//                                     To:   umc_ant_L65_calibre_V6     //
//                                  7.Turn OFF all DFM rule by default. //
// 0.4-P2   09/03/2007  C.C.Chang   1.SRAM rule update                  //
//                                     From: umc65sp_memory_v1.9.cal    //
//                                     To:   umc65_memory_v2.0.cal      //
//                                  2.Update MOAT_NW.S2, MOAT_DF.S3,    //
//                                           MOAT_NT.S4, LLL_NW.S3,     //
//                                           LLH_NW.S3, NW_MIS.EN1,     //
//                                           NW_LLH.OL1, NW_LLL.OL1,    //
//                                           TG_NW.OL1, NT_TG.S4,       //
//                                           NW_PPNRS.EN1, TG_NT.EN2,   //
//                                           PSD_NDNRS.S7, NSD_PDNRS.S11//
//                                  3.Wording modify:  OPC.1C_VIn       //
//                                  4.Metal option set up modify        //
// 1.0-P1   10/19/2007  C.C.Chang   1.Add  PLY_NT.W4.TG25_OD33,         //
//                                         PLY_NT.W4.TG25_OD33s,        //
//                                         PLY_NG.W.TG25_OD33,          //
//                                         PLY_NG.W.TG25_OD33s,         // 
//                                         PLY_PG.W.TG25_OD33,          //
//                                         PLY_PG.W.TG25_OD33s.         //
//                                  2.Remove DF.W.TG33GOX52,            //
//                                      PLY_NG.W.TG_OD, PLY_PG.W.TG_OD. //
//                                  3.Update for add SINGULAR check     //
//                                      DF.S1, DF.S.TG, NW.S1, NWR.S1,  //
//                                      LLH_PLY_G.EN1, NW_LLH.OL1,      //
//                                      LLL_PLY_G.EN1, DIB.S1, PSD.S1,  //
//                                      NSD.S1,  SAB.S1, SBLK.S1,       //
//                                      PESD.S1, BP.S, M1.S1, 1XM2.S1,  //
//                                      1XMn.S1, 2XMn.S1, 4XMn.S1,      //
//                                      6XMn.S1, 325KAMn.S1,            //
//                                      L3.S1.inline.50, 1XMn.S1.CLVS,  //
//                                      L3.S1.staggered.35, MIMBP.S1,   //
//                                      MIMTP.S2, L2_L.S1,              // 
//                                      DF.S1.RCM.Priority2.            // 
//                                  4.Update for ABUT check             //  
//                                      MRP_CT_SAB.S5, HRP_CT_SAB.S5,   //   
//                                      SBLK_SAB.S2, PSD_NDNRS.S7,      // 
//                                      HR_DF.S6, MR_DF.S6,             //
//                                      NSD_N_DF.EN1.NW, NSD_N_DF.EN2.PW,/ 
//                                      SAB_MRP.OH1, SAB_HRP.OH1,       //
//                                      PSD_P_DF.EN1.PW, HR_PLY.S2,     //
//                                      MR_PLY.S2, PSD_P_DF.EN2.NW.     // 
//                                  5.Antenna rule update               //
//                                     From: umc_ant_L65_calibre_V6     //
//                                     To:   umc_ant_L65_calibre_V7     //
//                                  6.Rename                            //
//                                     SAB_NDNRS.OH1  ==>  SAB_DNRS.OH1 //
//                                     TG_PPNRS.EN4   ==>  TG_PNRS.EN4  //
//                                     PSD_NDNRS.S12  ==>  PSD_NPNRS.S12//
//                                     *.Priority3    ==>  *.Priority2  //     
//                                     *.Priority4    ==>  *.Priority2  // 
// 1.0-P2   11/19/2007  C.C.Chang   1.Remove all 55nm options.          //
//                                  2.Rename: (follow TLR 1.0_P2 )      // 
//                                     CT_DF_PLY.S3                     //
//                                         ==> CT_DF_PLY_G.S3           // 
//                                     CT_DF_PLY.S.TG                   // 
//                                         ==> CT_DF_PLY_G.S.TG         // 
//                                  3.Update for add SINGULAR check     //
//                                     TG_NW.S3, NW_LLL.OL1, TG_NW.OL1, // 
//                                     DIB_DIODE.EN1, TG.S1, PLY_F.S.TG,//
//                                     PLY_DF.OH1, SAB_PLY.S3.          // 
//                                  4.SRAM rule update                  //
//                                     From: umc65_memory_v2.0.cal      //
//                                     To:   umc65_memory_v2.1.cal      // 
// 1.1-P1   11/29/2007  C.C.Chang   1.Add: CT.SZ2,                      //
//                                    ( add layer: CONTEBK 69 (8) )     //
//                                  2.Update:                           //
//                                     DF.D, DF.DX, Mn.D, Mn.D1 ,CT.SZ1,//
//                                     OD.S1, L2.W1.L2SLOT.             //
//                                  3.SRAM rule change/add              //
//                                     From: umc65_memory_v2.1.cal      // 
//                                     To:   umc65_memory_v2.2.cal      //
//                                  4.Antenna rule update               //
//                                     From: umc_ant_L65_calibre_V7     //
//                                     To:   umc_ant_L65_calibre_V8     //
// 1.2-P1   02/14/2008  C.C.Chang   1.Add: L1.R1.                       //
//                                  2.Update: SBLK_PLY.S4, CT.R2,       //
//                                     TG_PLY_G.EN2, V1.R5, 1XVn.R5,    //
//                                     2XVn.R1, 4XVn.R1, 325KAVn.R1.    //
//                                  3.Rename:                           //
//                                     SBLK_PLY.OH2 --> SBLK_PLY_G.OH2  //
//                                     PLY_SBLK.OH3 --> PLY_G_SBLK.OH3  //
//                                     SBLK_PLY.OL1 --> SBLK_PLY_G.OL1  // 
//                                  4.Wording modify: SBLK_PLY_G.OH2,   //
//                                     PLY_G_SBLK.OH3, SBLK_PLY_G.OL1,  //
//                                     NT_DF.EN1.                       // 
//                                  5.SRAM rule change/add              //
//                                     From: umc65_memory_v2.2.cal      // 
//                                     To:   umc65_memory_v2.3.cal      //
//                                  6.Antenna rule update               //
//                                     From: umc_ant_L65_calibre_V8     //
//                                     To:   umc_ant_L65_calibre_V9     //  
//                                  7.X-architecture rule update        //  
//                                     From: umc-65SP-X_architecture    //
//                                           _Calibre-drc-V4            //
//                                     To  : umc-65SP-X_architecture    //
//                                           _Calibre-drc-V5            // 
// 1.3-P1  05/29/2008  C.C.Chang    1.Add: MIS_NW.S6                    //
//                                  2.Update: NW_MIS.EN1, NW_MIS.R3_.R7,//
//                                     L2_WDP.S6.* PLY_NG.W.TG25_OD33s, //
//                                     PLY_DF.OH3, PLY_PG.W.TG25_OD33s, //
//                                     PLY_DF.S4.RCM.Priority2.         //
//                                  3.SRAM rule change/add              //
//                                     From: umc65_memory_v2.3.cal      // 
//                                     To:   umc65_memory_v2.4.cal      //
//                                  4.Update eDRAM rule:                //
//                                      From: umc65_eDRAM_vA.E_PB.cal   //
//                                      To:   umc65_eDRAM_v0.1_P1.cal   //
//                                  5.Set DRC UNSELECT option for MIM.R7//  
// 1.4-P1  06/20/2008  C.C.Chang    1.Add: ESD_PLY_G.S2, DIF_PESD_N.EN1,//
//                                     PESD.A, PESD.EA, PESD.R, M1.R3,  //
//                                     1XMn.R3, 2XMn.R1, 4XMn.R1, 6XMn.R,/
//                                     325KAMn.R1, L3_WELL.S6.inline.50,//
//                                     L3_WELL.S6.staggered.35.         //  
//                                  2.Remove: L2_WDP.S6.*               // 
//                                  3.Update: MIS_DF.S5, SAB_HRP.OH1,   //
//                                     SAB_MRP.OH1, L2.Mn.S7.inline.50, //
//                                     L2.Mn.S7.staggered.35.           // 
//                                  4.Rename & Move & Update:           //           
//                                     PLY_DF.OH3                       // 
//                                     --> PLY_DF.OH3.RCM.Priority2.    //  
//                                  5.SRAM rule update                  //
//                                     From: umc65_memory_v2.4.cal      // 
//                                     To:   umc65_memory_v2.5.cal      //
// 1.4-P2  07/25/2008  C.C.Chang    1.Update: DF.D, PLY.D, PESD_PLY_G.S2,/
//                                     DIF_PESD_N_EN1, M1.S2, L3_WELL.S6//
//                                  2.Wording modify: 1XMn.R            //
//                                  3.Rename :                          //           
//                                     1XMn.R3  --> 1XMn.R              // 
//                                  4.Layer mapping file updated:       // 
//                                     From: 65nm_layers_v2.3.cal       //
//                                     To:   65nm_layers_v2.4.cal       //
//                                  5.SRAM rule update                  //
//                                     From: umc65_memory_v2.5.cal      // 
//                                     To:   umc65_memory_v2.6.cal      //  
// 1.5-P1  10/20/2008  C.C.Chang    1.Add: HRP_NW.S8, MRP_NW.S8.        //  
//                                  2.Update: DNW_PW.EN3, SAB.R4,       // 
//                                     SBLK_PLY_G.OL1, PESD.R,          // 
//                                     MIS_DF.EN2, HR_HRP.EN1, HR_PLY.S2,/
//                                     NSD_HRP.S3, HRP_CT_SAB.S5,       //
//                                     HR_DF.S6, NW_HRP.EN2,            //
//                                     HR_PSD_HRP.EN3, PSD_HRP.S7,      //
//                                     MR_MRP.EN1, MR_PLY.S2, NSD_MRP.S3,/
//                                     MRP_CT_SAB.S5, MR_DF.S6,         //
//                                     NW_MRP.EN2, MR_PSD_MRP.EN3,      //
//                                     PSD_MRP.S7, PNRS.W2, HRP_PLY.W2, //
//                                     SBLK_PLY.S4, L3.Mn.S7,           //
//                                     NSD_PDNRS.S11, PLY_DF.S5,        //
//                                     PLY_DF.S4.RCM.Priority2,         //
//                                     TG_PLY_G.EN2, OPC.1C.*, Mn.D1,   // 
//                                     PLY_CT.EN1_.EN2, PLY_DF.S8,      // 
//                                     M1_CT.EN2_.EN3_.EN4, NW.W1, NW.R,//  
//                                     1XMn_1XVm.EN2_.EN3_.EN4,         //  
//                                     1XMn_1XVn.EN2_.EN3_.EN4,         //
//                                     2XMn_2XVn.EN2_.EN3_.EN4,         // 
//                                  3.Remove: PSD_HR.S4, PSD_MR.S4,     // 
//                                     IND.R6.                          //
//                                  4.SRAM rule change/add              //
//                                     From: umc65_memory_v2.6.cal      // 
//                                     To:   umc65_memory_v2.7.cal      //
//                                  5.Layer mapping file updated:       // 
//                                    Add layer: PESDBK, NS_REX.        // 
//                                  6.Remove option/group for TG25_OD33.//  
//                                  7.Set option for "BULK" definition. // 
//                                  8.Wording modify: SBLK.R, *.A1.     // 
// 1.5-P2  01/07/2009  C.C.Chang    1.SRAM rule update.                 //  
//                                     From: umc65_memory_v2.7.cal      // 
//                                     To:   umc65_memory_v2.8.cal      //
//                                  2.eDRAM rule update.                //  
//                                     From: umc65_eDRAM_v0.1_P1.cal    //
//                                     To:   umc65_eDRAM_LL-vA.B_PB.cal // 
//                                  3.Update: PESD.EA, PLY.W.TG33.      //  
//                                  4.Wording modify: SAB_DNRS.OH1,     //
//                                     OFF_GRID_EFUSEMK,                //
//                                     SKEW_EDGE_EFUSEMK, 2XMn_2XVm.EN1.//
//                                  5.Rule item change:                 // 
//                                     Mn.NOTE3 ==> Mn.NOTE1            // 
// 1.6-P1  02/26/2009  C.C.Chang    1.Add: DNW_NW.S6, LLH.R4, LLL.R4.   // 
//                                    OD.R1, OD.R2.                     //  
//                                  2.Remove: Original OD.*             // 
//                                  3.Derived layer update:             // 
//                                    P_TUB/PWEL related definitions    // 
//                                    are updated.  (WELL related rules //
//                                    will be impacted.)                // 
//                                  4.Update: DF.S.TG, DF.W3, DF.S3,    //
//                                    NW_N_DF.S5.TG, NW_P_DF.EN3.TG,    //
//                                    PW.S3, PW.S4.TG, DNW_PW.EN3,      //
//                                    DNW.R1, LLH.S1, LLL.S1,           //
//                                    PSD_P_DF.EN1.PW, CT.S2, *.EA,     //
//                                    *.EA1, 1XMn.W2, 1XMn.S4, 1XM1.L1, //
//                                    4XMn.S2, 6XMn.S2, L1.SZ1, OPC.1C. //
//                                  5.Wording modify: SAB_PNRS.OH2,     //
//                                    SBLK_DF.OH1,                      // 
//                                  6.SRAM rule update.                 // 
//                                     From: umc65_memory_v2.8.cal      // 
//                                     To:   umc65_memory_v2.9.cal      // 
//                                  7.eDRAM rule update.                // 
//                                     From: umc65_eDRAM_LL-vA.B_PB.cal //
//                                     To:   umc65_eDRAM_LL-vB.A_PB.cal // 
//                                                                      // 
// 1.7-P1  07/24/2009  C.C.Chang    1.Add: SAB.R6, L3.L2, L2.S8, L3.SP1.//
//                                    Tritier rules, MIMBP_UM.S8_.R7.   //
//                                  2.Update TG_PLY_G.EN1, TG_PLY_G.EN2,//
//                                    TG_PLY_G.S4, DF_PLY_G.OH.TG,      //
//                                    N_DF_PSD.OH1, PSD_DF.OL1,         //
//                                    P_DF_NSD.OH1, NSD_DF.OL1,         //
//                                    MIS_DF.S5, M1.W2 M1.S4, CT.S2,    //
//                                    DNW.R2, DF.W.TG18, DF.W.TG25,     //
//                                    DF.W.TG33, PLY_F_DF.S6.           //
//                                    HRP_CT_SAB.S5, MRP_CT_SAB.S5,     //
//                                    1XMn.A1, BDBK_BM.S5,              //
//                                    MnBK_MIMBP.EN3, L3.S1.            //
//                                    Update minimum metal densdity     //
//                                     rule (Mn.D) for n = top metal.   //
//                                  3.Remove: M1.L1, DF.L1, 1XMn.L1,    //
//                                    2XMn.L1.                          //
//                                  4.Antenna rule update.              // 
//                                     From: umc_ant_L65_calibre_V9     // 
//                                     To:   umc_ant_L65_calibre_V10    // 
//                                  5.SRAM rule update.                 // 
//                                     From: umc65_memory_v2.9.cal      // 
//                                     To:   umc65_memory_v2.10.cal     // 
//                                  6.Layer mapping file update:        // 
//                                     From: 65nm_layers_v2.4.cal       // 
//                                     To:   65nm_layers_v2.4_P1.cal    //  
// 1.9-P1  10/09/2009  C.C.Chang    1.Add: DFDM*, PLYDM*, M1DM*, 1XMnDM*,/
//                                     2XMnDM*, 4XMnDM*, 6XMnDM*,       //
//                                     32.5KAMnDM*.                     // 
//                                  2.Update: IND.WLX, Mn.D, L2.S8,     //
//                                     P_DF_N_PU.S5.NW.                 // 
//                                  3.Antenna rule update.              // 
//                                     From: umc_ant_L65_calibre_V10    // 
//                                     To:   umc_ant_L65_calibre_V12    // 
//                                  4.SRAM rule update.                 // 
//                                     From: umc65_memory_v2.10.cal     // 
//                                     To:   umc65_memory_v2.12.cal     // 
// 1.10-P1 11/03/2009  C.C.Chang    1.Add: L2_36K rules.                // 
//                                  2.Update eDRAM rule:                // 
//                                     From: umc65_eDRAM_LL-vB.A_PB.cal //
//                                     To:   umc65_eDRAM_LL-vB.C_PB.cal //
//                                  3.Antenna rule update.              // 
//                                     From: umc_ant_L65_calibre_V12    // 
//                                     To:   umc_ant_L65_calibre_V13    // 
// 1.11-P1 01/22/2010  C.C.Chang    1.Add eFLASH65 rules:               // 
//                                     Include sub rule file:           //  
//                                     umc65_eFLASH_EE2PROM-LL-T.A-PB.cal/ 
//                                  2.Remove: DFDM_TG.S7, DFDM_TG.EN3,  //
//                                     PLYDM_TG.S12, PLYDM_TG.EN3, L2.D1./ 
//                                  3.Update: OPC.1C*, OPC.2C*.         // 
//                                  4.X-architecture rule update        //  
//                                     From: umc-65SP-X_architecture    //
//                                           _Calibre-drc-V5            //
//                                     To  : umc-65-X_architecture      //
//                                           _Calibre-drc-V6            //
// 1.11-P2 01/28/2010  C.C.Chang    1.SRAM rule update.                 // 
//                                     From: umc65_memory_v2.12.cal     // 
//                                     To:   umc65_memory_v2.13.cal     // 
// 1.12-P1 05/19/2010  C.C.Chang    1.Add: L1.R1, IND.R9.               //
//                                  2.Update: L1.D2, M1DM.S5, 1XMnDM.S5,//
//                                     2XMnDM.S5, 4XMnDM.S3, 6XMnDM.S3, // 
//                                     32.5KAMnDM.S2, IND.WLX.          //
//                                  3.Rename: L1.D ==> L1.D1.           //
//                                  4.Remove: eFLASH65 rules.           //
//                                  5.Run time optimized:               //
//                                    LAYOUT TOP ==> LAYOUT BASE        //
// 1.13-P1 11/12/2010  C.C.Chang    1.Add: L2_L.S1_2, LOGO_6.20B_extra, //
//                                    HRPO1_sanity2, MRPO1_sanity2.     //
//                                  2.Update: L1.SZ1, L1.R1, L2_L.W1,   //  
//                                    LOGO_6.13D, LOGO_6.22A, OPC.2C*,  //
//                                    CLVS.MEn, GROUP of CLVS, L2.S8,   //
//                                    NSD_PLY_PG.S4, NW_PPNRS.EN1,      //
//                                    NSD_PPNRS.S8, PNRS_TG.S9.         //
//                                  3.Wording modify: IND.R9.           //
//                                  4.Rename:                           //
//                                    L2_L.S1_36K --> L2_L.S1_2         //  
//                                    HRPO1_sanity -->  HRPO1_sanity1   // 
//                                    MRPO1_sanity -->  MRPO1_sanity1   // 
//                                  5.SRAM rule update.                 // 
//                                     From: umc65_memory_v2.13.cal     // 
//                                     To:   umc65_memory_v2.15.cal     // 
//                                  6.Antenna rules seperate:           //
//                                     From: umc_ant_L65_calibre_V13    // 
//                                     To: umc_ant_L65_calibre_V14      //
//                                      _12KA_L2                        //  
//                                         umc_ant_L65_calibre_V14      //
//                                      _25KA_L2                        //  
//                                         umc_ant_L65_calibre_V14      //
//                                      _36KA_L2                        // 
// 1.14-P1 12/31/2010  C.C.Chang    1.Add: metal option:                // 
//                                     1P8M1T0F, 1P8M0T1F, 1P9M2T0F,    // 
//                                     1P9M1T1F, 1P9M0T2F, 1P8M0T1H,    //
//                                     1P9M1T1H, 1P9M0T2H.              // 
//                                  2. Update: SBLK_PLY.S4.             //  
//////////////////////////////////////////////////////////////////////////
// Notice (Important, Read Me First)
// =================================
// (1) Please set up RESOLUTION,LAYOUT PATH,LAYOUT PRIMARY 
//     for your design before running CALIBRE drc.
//     Set up DRC UNSLECT CHECK as your requirements
//     Use DRC SELECT CHECK to check one or two groups only
// (2) It is recommanded to meet DFM and Recommand rule if there is no 
//     area penalty.The DFM rules are turned off by default.
// (3) The enclosure less than 0.3um cases in M1_CT.EN5, 1XMn_1XVm.EN5 and 1XMn_1XVn.EN5 are covered by
//     its EN2, EN3 and EN4 rules.
// (4) Declaration of SRAM rule DRC:
//       1. Since any changes of SRAM layout may cause process issue and are NOT allowed, 
//     DRC coding for SRAM rules are implanted to prevent unintentional change. 
//     Any damages or issues due to changes of SRAM layout should be token care by 
//     the changed SRAM layout owner. 
//       2. This DRC of SRAM rules recognize SRAM layouts by identified marker layers, 
//     please check if your SRAM layout with correct marker layer before using this DRC deck.
//       3. As the bit cells of SRAM are kept in reversion, they might be unmatched to this run deck,
//     please also confirm the version before using DRC deck. 
// (5) OPC rules are turned off by default except Rule_OPC.2C.
//     Rule_OPC.2C will be treated as a common rule and can't be turned off.
// (6) For INDUCTOR design, DRC excepts some special cases in rule 325KAMn.W1 
//     by the TLR wording in IND.R8. Other metal widths will NOT be waived
//     on this stage. If customers have any concerns about this, please contact us.
// (7) The layer mapping file in this package is a reduced one for this command 
//     file only, for other layers definition, please refer to 
//     G-06LMT-GENERATION65N-LAYER_MAPPING_TABLE.
// (8) Metal option clarify:
//       OPTION       PO1    Metal    2X-METAL    4X-METAL    6X-METAL    32.5KA-METAL       
//   ==============  =====  =======  ==========  ==========  ==========  ==============  
//     1PaMbTcFdU      1       a         b           c            0             d             
//     1PaMbTeH        1       a         b           0            e             0         
//   
// (9) This document includes 99 files.
//	65nm_layers_v2.6_P2.cal (reduced)
//	G-DF-LOGIC_MIXED_MODE65N-1P10M2T1F1U-LL-Calibre-drc-1.14-P1
//	G-DF-LOGIC_MIXED_MODE65N-1P10M2T2F-LL-Calibre-drc-1.14-P1
//	G-DF-LOGIC_MIXED_MODE65N-1P10M2T2H-LL-Calibre-drc-1.14-P1
//	G-DF-LOGIC_MIXED_MODE65N-1P4M0T0F1U-LL-Calibre-drc-1.14-P1
//	G-DF-LOGIC_MIXED_MODE65N-1P4M0T1F-LL-Calibre-drc-1.14-P1
//	G-DF-LOGIC_MIXED_MODE65N-1P4M0T1H-LL-Calibre-drc-1.14-P1
//	G-DF-LOGIC_MIXED_MODE65N-1P4M1T0F-LL-Calibre-drc-1.14-P1
//	G-DF-LOGIC_MIXED_MODE65N-1P4M1T1F-LL-Calibre-drc-1.14-P1
//	G-DF-LOGIC_MIXED_MODE65N-1P5M0T0F1U-LL-Calibre-drc-1.14-P1
//	G-DF-LOGIC_MIXED_MODE65N-1P5M0T1F-LL-Calibre-drc-1.14-P1
//	G-DF-LOGIC_MIXED_MODE65N-1P5M0T1F1U-LL-Calibre-drc-1.14-P1
//	G-DF-LOGIC_MIXED_MODE65N-1P5M0T1H-LL-Calibre-drc-1.14-P1
//	G-DF-LOGIC_MIXED_MODE65N-1P5M0T2F-LL-Calibre-drc-1.14-P1
//	G-DF-LOGIC_MIXED_MODE65N-1P5M0T2H-LL-Calibre-drc-1.14-P1
//	G-DF-LOGIC_MIXED_MODE65N-1P5M1T0F-LL-Calibre-drc-1.14-P1
//	G-DF-LOGIC_MIXED_MODE65N-1P5M1T0F1U-LL-Calibre-drc-1.14-P1
//	G-DF-LOGIC_MIXED_MODE65N-1P5M1T1F-LL-Calibre-drc-1.14-P1
//	G-DF-LOGIC_MIXED_MODE65N-1P5M1T1H-LL-Calibre-drc-1.14-P1
//	G-DF-LOGIC_MIXED_MODE65N-1P5M2T0F-LL-Calibre-drc-1.14-P1
//	G-DF-LOGIC_MIXED_MODE65N-1P6M0T0F1U-LL-Calibre-drc-1.14-P1
//	G-DF-LOGIC_MIXED_MODE65N-1P6M0T1F-LL-Calibre-drc-1.14-P1
//	G-DF-LOGIC_MIXED_MODE65N-1P6M0T1F1U-LL-Calibre-drc-1.14-P1
//	G-DF-LOGIC_MIXED_MODE65N-1P6M0T1H-LL-Calibre-drc-1.14-P1
//	G-DF-LOGIC_MIXED_MODE65N-1P6M0T2F-LL-Calibre-drc-1.14-P1
//	G-DF-LOGIC_MIXED_MODE65N-1P6M0T2H-LL-Calibre-drc-1.14-P1
//	G-DF-LOGIC_MIXED_MODE65N-1P6M1T0F-LL-Calibre-drc-1.14-P1
//	G-DF-LOGIC_MIXED_MODE65N-1P6M1T0F1U-LL-Calibre-drc-1.14-P1
//	G-DF-LOGIC_MIXED_MODE65N-1P6M1T1F-LL-Calibre-drc-1.14-P1
//	G-DF-LOGIC_MIXED_MODE65N-1P6M1T1F1U-LL-Calibre-drc-1.14-P1
//	G-DF-LOGIC_MIXED_MODE65N-1P6M1T1H-LL-Calibre-drc-1.14-P1
//	G-DF-LOGIC_MIXED_MODE65N-1P6M1T2F-LL-Calibre-drc-1.14-P1
//	G-DF-LOGIC_MIXED_MODE65N-1P6M1T2H-LL-Calibre-drc-1.14-P1
//	G-DF-LOGIC_MIXED_MODE65N-1P6M2T0F-LL-Calibre-drc-1.14-P1
//	G-DF-LOGIC_MIXED_MODE65N-1P6M2T0F1U-LL-Calibre-drc-1.14-P1
//	G-DF-LOGIC_MIXED_MODE65N-1P6M2T1F-LL-Calibre-drc-1.14-P1
//	G-DF-LOGIC_MIXED_MODE65N-1P6M2T1H-LL-Calibre-drc-1.14-P1
//	G-DF-LOGIC_MIXED_MODE65N-1P7M0T0F1U-LL-Calibre-drc-1.14-P1
//	G-DF-LOGIC_MIXED_MODE65N-1P7M0T1F-LL-Calibre-drc-1.14-P1
//	G-DF-LOGIC_MIXED_MODE65N-1P7M0T1F1U-LL-Calibre-drc-1.14-P1
//	G-DF-LOGIC_MIXED_MODE65N-1P7M0T1H-LL-Calibre-drc-1.14-P1
//	G-DF-LOGIC_MIXED_MODE65N-1P7M0T2F-LL-Calibre-drc-1.14-P1
//	G-DF-LOGIC_MIXED_MODE65N-1P7M0T2H-LL-Calibre-drc-1.14-P1
//	G-DF-LOGIC_MIXED_MODE65N-1P7M1T0F-LL-Calibre-drc-1.14-P1
//	G-DF-LOGIC_MIXED_MODE65N-1P7M1T0F1U-LL-Calibre-drc-1.14-P1
//	G-DF-LOGIC_MIXED_MODE65N-1P7M1T1F-LL-Calibre-drc-1.14-P1
//	G-DF-LOGIC_MIXED_MODE65N-1P7M1T1F1U-LL-Calibre-drc-1.14-P1
//	G-DF-LOGIC_MIXED_MODE65N-1P7M1T1H-LL-Calibre-drc-1.14-P1
//	G-DF-LOGIC_MIXED_MODE65N-1P7M1T2F-LL-Calibre-drc-1.14-P1
//	G-DF-LOGIC_MIXED_MODE65N-1P7M1T2H-LL-Calibre-drc-1.14-P1
//	G-DF-LOGIC_MIXED_MODE65N-1P7M2T0F-LL-Calibre-drc-1.14-P1
//	G-DF-LOGIC_MIXED_MODE65N-1P7M2T0F1U-LL-Calibre-drc-1.14-P1
//	G-DF-LOGIC_MIXED_MODE65N-1P7M2T1F-LL-Calibre-drc-1.14-P1
//	G-DF-LOGIC_MIXED_MODE65N-1P7M2T1F1U-LL-Calibre-drc-1.14-P1
//	G-DF-LOGIC_MIXED_MODE65N-1P7M2T1H-LL-Calibre-drc-1.14-P1
//	G-DF-LOGIC_MIXED_MODE65N-1P7M2T2F-LL-Calibre-drc-1.14-P1
//	G-DF-LOGIC_MIXED_MODE65N-1P7M2T2H-LL-Calibre-drc-1.14-P1
//	G-DF-LOGIC_MIXED_MODE65N-1P8M0T1F-LL-Calibre-drc-1.14-P1
//	G-DF-LOGIC_MIXED_MODE65N-1P8M0T1F1U-LL-Calibre-drc-1.14-P1
//	G-DF-LOGIC_MIXED_MODE65N-1P8M0T1H-LL-Calibre-drc-1.14-P1
//	G-DF-LOGIC_MIXED_MODE65N-1P8M0T2F-LL-Calibre-drc-1.14-P1
//	G-DF-LOGIC_MIXED_MODE65N-1P8M0T2H-LL-Calibre-drc-1.14-P1
//	G-DF-LOGIC_MIXED_MODE65N-1P8M1T0F-LL-Calibre-drc-1.14-P1
//	G-DF-LOGIC_MIXED_MODE65N-1P8M1T0F1U-LL-Calibre-drc-1.14-P1
//	G-DF-LOGIC_MIXED_MODE65N-1P8M1T1F-LL-Calibre-drc-1.14-P1
//	G-DF-LOGIC_MIXED_MODE65N-1P8M1T1F1U-LL-Calibre-drc-1.14-P1
//	G-DF-LOGIC_MIXED_MODE65N-1P8M1T1H-LL-Calibre-drc-1.14-P1
//	G-DF-LOGIC_MIXED_MODE65N-1P8M1T2F-LL-Calibre-drc-1.14-P1
//	G-DF-LOGIC_MIXED_MODE65N-1P8M1T2H-LL-Calibre-drc-1.14-P1
//	G-DF-LOGIC_MIXED_MODE65N-1P8M2T0F-LL-Calibre-drc-1.14-P1
//	G-DF-LOGIC_MIXED_MODE65N-1P8M2T0F1U-LL-Calibre-drc-1.14-P1
//	G-DF-LOGIC_MIXED_MODE65N-1P8M2T1F-LL-Calibre-drc-1.14-P1
//	G-DF-LOGIC_MIXED_MODE65N-1P8M2T1F1U-LL-Calibre-drc-1.14-P1
//	G-DF-LOGIC_MIXED_MODE65N-1P8M2T1H-LL-Calibre-drc-1.14-P1
//	G-DF-LOGIC_MIXED_MODE65N-1P8M2T2F-LL-Calibre-drc-1.14-P1
//	G-DF-LOGIC_MIXED_MODE65N-1P8M2T2H-LL-Calibre-drc-1.14-P1
//	G-DF-LOGIC_MIXED_MODE65N-1P9M0T2F-LL-Calibre-drc-1.14-P1
//	G-DF-LOGIC_MIXED_MODE65N-1P9M0T2H-LL-Calibre-drc-1.14-P1
//	G-DF-LOGIC_MIXED_MODE65N-1P9M1T1F-LL-Calibre-drc-1.14-P1
//	G-DF-LOGIC_MIXED_MODE65N-1P9M1T1F1U-LL-Calibre-drc-1.14-P1
//	G-DF-LOGIC_MIXED_MODE65N-1P9M1T1H-LL-Calibre-drc-1.14-P1
//	G-DF-LOGIC_MIXED_MODE65N-1P9M1T2F-LL-Calibre-drc-1.14-P1
//	G-DF-LOGIC_MIXED_MODE65N-1P9M1T2H-LL-Calibre-drc-1.14-P1
//	G-DF-LOGIC_MIXED_MODE65N-1P9M2T0F-LL-Calibre-drc-1.14-P1
//	G-DF-LOGIC_MIXED_MODE65N-1P9M2T0F1U-LL-Calibre-drc-1.14-P1
//	G-DF-LOGIC_MIXED_MODE65N-1P9M2T1F-LL-Calibre-drc-1.14-P1
//	G-DF-LOGIC_MIXED_MODE65N-1P9M2T1F1U-LL-Calibre-drc-1.14-P1
//	G-DF-LOGIC_MIXED_MODE65N-1P9M2T1H-LL-Calibre-drc-1.14-P1
//	G-DF-LOGIC_MIXED_MODE65N-1P9M2T2F-LL-Calibre-drc-1.14-P1
//	G-DF-LOGIC_MIXED_MODE65N-1P9M2T2H-LL-Calibre-drc-1.14-P1
//	umc-65-X_architecture_Calibre-drc-V6
//	umc65_memory_v2.15.cal
//	umc65_eDRAM_LL-vB.C_PB.cal
//	umc_ant_L65_calibre_V14_12KA_L2
//	umc_ant_L65_calibre_V14_25KA_L2
//	umc_ant_L65_calibre_V14_36KA_L2
//      Application_Note_LOGIC_MIXED_MODE65N-LL-Calibre-drc-1.0-P1.pdf
//      Release_Note_LOGIC_MIXED_MODE65N-LL-Calibre-drc-1.14-P1.pdf
//      DRC_QA_Report_G-DF-LOGIC_MIXED_MODE65N-LL-CALIBRE-DRC-Ver.1.14_P1.pdf
//////////////////////////////////////////////////////////////////////
 
// INPUT LAYERS refer to 65nm_layers_v2.6_P2.cal ( reduced and modified from 65nm_layers_v2.6.cal )

INCLUDE "65nm_layers_v2.6_P2.cal"
 
   
LAYOUT BASE LAYER DIFF PO1 CONT NPLUS PPLUS 

   
   
   
//===========================
//===  Setup Environment  ===
//===========================
//
 
LAYOUT DEPTH  ALL
LAYOUT SYSTEM GDSII
 
RESOLUTION 1
PRECISION  1000
 
UNIT CAPACITANCE FF
UNIT LENGTH      U
UNIT RESISTANCE  OHM
UNIT TIME        US
 
FLAG OFFGRID YES
 
//================================
//===  Setup Defaults for DRC  ===
//================================
//

//LAYOUT PATH "/Project/drcdeck/QA_PATTERN/OLD_0.065/L65N_1P9M2F/G_QA_LOGIC_MIXED_MODE65N_1P10M2T2F_V03_P1_B1_061017.gds"
//LAYOUT PRIMARY "pass"
//DRC RESULTS DATABASE "./pass.db" ASCII
//DRC SUMMARY REPORT   "./pass.sum"

 
DRC CHECK TEXT       COMMENTS RFI   
DRC KEEP EMPTY       NO
DRC MAXIMUM RESULTS  1000
DRC MAXIMUM VERTEX   199
DRC TOLERANCE FACTOR .0005


// *************************************************************
// you can comment one or more lines to run these opional checks
// with basic rule check, or change DRC UNSELECT CHECK ... to 
// DRC SLELECT CHECK ... to run one or more optional checks only
// *************************************************************
//
//DRC UNSELECT CHECK POLY_DENSITY        // PO1 density checking
//DRC UNSELECT CHECK METAL_DENSITY       // METAL density checking
//DRC UNSELECT CHECK DIFF_DENSITY        // diffusion density checking
//DRC UNSELECT CHECK L2_DENSITY          // AL_RDL density checking
//DRC UNSELECT CHECK TG25_RULE           // 2.5V TG rules checking
//DRC UNSELECT CHECK TG33_RULE           // 3.3V TG rules checking
//DRC UNSELECT CHECK LOGO_RULES          // LOGO rules checking
DRC UNSELECT CHECK OPC_GUIDE_LINE              // OPC GUIDELINE checking

//EXCLUDE CELL DRC_LOGOMK_DEL_*          // DRC delete the LOGO cell
//LAYOUT WINDEL X1 Y1 X2 Y2              // Specifies a polygon window that defines the exclusion of input polygon for DRC 
//LAYOUT WINDEL LAYER LOGOMK             // DRC delete the LOGOMK area, it is not recommended to use this command,
//DRC UNSELECT CHECK MMC_RULES           // Metal Metal Capacitor rules 
//DRC UNSELECT CHECK MIMBP_UM.S8_.R7     // MIMBP_UM.S8_.R7 checking 

 
//** DFM RULEs SELECT ** 

DRC UNSELECT CHECK DFM_Priority1
DRC UNSELECT CHECK DFM_Priority2

//DRC UNSELECT CHECK CLVS

//DRC UNSELECT CHECK Inline          // Wire bump Inline rules
DRC UNSELECT CHECK Staggered        // Wire bump Staggered rules
DRC UNSELECT CHECK Tri_tier         // Wire bump Tri_tier rules


DRC UNSELECT CHECK High_Temperature_Pad // Please turn it on for >85 probing test.



DRC UNSELECT CHECK L2_25K_36K        // Please turn it on for 25KA or 36KA L2
//DRC UNSELECT CHECK L2_GENERAL // Please turn it on for general L2 



// ** The following UNSELECT OPTIONs are for saving run time. **
//    User can seperate the deck by turning on/off those options.

//DRC UNSELECT CHECK FEOL
//DRC UNSELECT CHECK BEOL
//DRC UNSELECT CHECK SRAM_RULE
//DRC UNSELECT CHECK eDRAM_RULE

//   Option for different derived layer " BULK "
//     ** For Non-orientable boundary error, please try this option to avoid it.
//   Please be notice this option will cause different derived layer "BULK", 
//   please do not use it when "DRC SELECT CHECK" is used ( especially for DENSITY rule check ). 

// #DEFINE BULK_DEFINE_OPTION




GROUP FEOL DF? NW? PW.? DNW? PW.? LLH? LLL? NT? PLY? DIB? TG? NSD? PSD? P_DF? N_DF? NPBJ? SAB? PPNRS? DNRS? SBLK? CT? BP? PESD? MOAT? MIS? OD? HR? MR? EFM?
//DRC UNSELECT CHECK GRID_005            // UNSELECT CHECK 0.005 GRID RULE. 
 
GROUP GRID_005 OFF_GRID_? 

GROUP TG25_RULE DF.W.TG25 PLY.W.TG25? PLY_NT.W3.TG25 // PLY_NT.W3s.TG25
GROUP TG25_OD33_RULE ?TG25_OD33 // ?TG25_OD33s
GROUP TG33_RULE DF.W.TG33 PLY.W.TG33? PLY_NT.W3.TG33 // PLY_NT.W3s.TG33

GROUP BEOL M1? 1X? V1?  2X? 4X? L1? L2? L3? AC.S.?       ?CLVS CLVS? METAL_DENSITY     LM_L1.EN1  ?.D1 MMC_RULES 
GROUP SRAM_RULE 55SRAM_RULE 65SRAM_RULE 
GROUP eDRAM_RULE eDRAM_?



//
// Metal Rule check: Default X-Architecture is NOT included.
// If you want to run X rule, please turn OFF the setup
//

 #DEFINE ONLY_Manhattan_CHECK   // If you want to run X rule, please turn OFF the setup.

//
//======================================
//===  Map TEXT layer to port names  ===
//======================================
//
TEXT DEPTH PRIMARY
TEXT LAYER PO_TEXT M1_TEXT M2_TEXT M3_TEXT M4_TEXT M5_TEXT M6_TEXT M7_TEXT M8_TEXT M9_TEXT M10_TEXT

TEXT LAYER ME1 ME2 ME3 ME4 ME5 ME6 ME7 ME8 ME9 ME10 AL_RDL

ATTACH PO_TEXT PO1
ATTACH M1_TEXT ME1
ATTACH M2_TEXT ME2
ATTACH M3_TEXT ME3
ATTACH M4_TEXT ME4
ATTACH M5_TEXT ME5
ATTACH M6_TEXT ME6
ATTACH M7_TEXT ME7
ATTACH M8_TEXT ME8
ATTACH M9_TEXT ME9
ATTACH M10_TEXT ME10

VIRTUAL CONNECT COLON YES
VIRTUAL CONNECT NAME VBB VCC ?VSS? ?VDD? V3IO V0IO VAS VAD
//==================================================
//===  Establish Layer Connectivity for DRC Only ===
//==================================================
//
TMV_RDL_ALL =  TMV_RDL OR TMVBAR
VI9_ALL     = VI9 OR VI9BAR
VI8_ALL     = VI8 OR VI8BAR
VI7_ALL     = VI7 OR VI7BAR
VI6_ALL     = VI6 OR VI6BAR
VI5_ALL     = VI5 OR VI5BAR
VI4_ALL     = VI4 OR VI4BAR
VI3_ALL     = VI3 OR VI3BAR
VI2_ALL     = VI2 OR VI2BAR
VI1_ALL     = VI1 OR VI1BAR
CONT_ALL     = CONT OR CONTBAR
CONNECT AL_RDL ME10 BY TMV_RDL_ALL
CONNECT  ME10 ME9 BY VI9_ALL
CONNECT  ME9 ME8 BY VI8_ALL
CONNECT  ME8 MMCTP  MMCBP ME7 BY VI7_ALL
CONNECT  ME7 ME6 BY VI6_ALL
CONNECT  ME6 ME5 BY VI5_ALL
CONNECT  ME5 ME4 BY VI4_ALL
CONNECT  ME4 ME3 BY VI3_ALL
CONNECT  ME3 ME2 BY VI2_ALL
CONNECT  ME2 ME1 BY VI1_ALL
CONNECT  ME1  NTAP PTAP BY CONT_ALL
CONNECT  ME1  CONT 
SCONNECT ME1  PO1 BY CONT_ALL
SCONNECT NTAP NWELL
SCONNECT PTAP PWEL_ALL
SCONNECT NTAP RNWELL_HEAD

//===================================================================
//===  Defined types from combinations of layers (DO NOT MODIFY)  ===
//===================================================================
 

#IFDEF BULK_DEFINE_OPTION

 DRC:1     = EXTENT
 BULK      = SIZE DRC:1 BY 1.0
 
#ELSE

 DRC:00    = EXTENT
 DRC:01    = EXTENT CELL "*" ORIGINAL
 DRC:1     = DRC:00 OR DRC:01
 BULK      = SIZE DRC:1 BY 1.0

#ENDIF

DIFF_ALL = DIFF OR DIFFDUMY

//
//   DEFINE NWELL AND NWELL RESISTOR
//
RNWELL    = NWEL INTERACT     NWR
NWELL     = NWEL NOT INTERACT NWR 
RNWELL_HEAD = RNWELL NOT NWR

//   DEFINE PWEL_ALL
//
   PWEL_ALL = DRC:1 NOT NWEL
//

//
//   DEFINE MOS S/D AND P/N WELL TAP
//
ACTIVE_NW = DIFF NOT OUTSIDE NWEL 
ACTIVE_PS = DIFF OUTSIDE NWEL 
ACTIVE_NT = COPY ACTIVE_NW
PTAP      = PPLUS AND ACTIVE_PS  
NDIF      = ACTIVE_PS NOT PPLUS 
NDIFF     = DIFF NOT PPLUS
PDIFF     = DIFF AND PPLUS 
PDIF      = PPLUS AND ACTIVE_NW
NTAP      = ACTIVE_NW NOT PPLUS

// For SP DEVICES

ALL_SP_PTAP   = PTAP NOT INTERACT (TG  OR NATIVE)
ALL_SP_NDIF   = NDIF NOT INTERACT (TG  OR NATIVE)
ALL_SP_PDIF   = PDIF NOT INTERACT (TG  OR NATIVE)
ALL_SP_NTAP   = NTAP NOT INTERACT (TG  OR NATIVE)

SP_MOS_PTAP   = ALL_SP_PTAP NOT INTERACT SPHVT
SP_MOS_NDIF   = ALL_SP_NDIF NOT INTERACT SPHVT
SP_MOS_PDIF   = ALL_SP_PDIF NOT INTERACT SPHVT
SP_MOS_NTAP   = ALL_SP_NTAP NOT INTERACT SPHVT

SPHVT_MOS_PTAP   = ALL_SP_PTAP INTERACT SPHVT
SPHVT_MOS_NDIF   = ALL_SP_NDIF INTERACT SPHVT
SPHVT_MOS_PDIF   = ALL_SP_PDIF INTERACT SPHVT
SPHVT_MOS_NTAP   = ALL_SP_NTAP INTERACT SPHVT


// For I/O DEVICES

IO_MOS_PTAP      = (PTAP  INTERACT TG) NOT INTERACT NATIVE
IO_MOS_NDIF      = (NDIF  INTERACT TG) NOT INTERACT NATIVE
IO_MOS_PDIF      = (PDIF  INTERACT TG) NOT INTERACT NATIVE
IO_MOS_NTAP      = (NTAP  INTERACT TG) NOT INTERACT NATIVE


BUT_PPLUS = PPLUS INSIDE EDGE DIFF 
BUT_NPLUS = NPLUS INSIDE EDGE DIFF
PSD       = PDIF NOT PO1 
NSD       = NDIF NOT PO1 
BUT_PS    = PSD TOUCH NTAP
BUT_NTAP  = NTAP TOUCH PSD
BUT_NS    = NSD TOUCH PTAP
BUT_PTAP  = PTAP TOUCH NSD


//
//   DEFINE GATE PO1 AND INTERCONNECT PO1 
//

GATE      = PO1 AND DIFF 
GATE_W    = PO1 COIN INSIDE EDGE GATE
GATE_L    = GATE INSIDE EDGE PO1
//
PGATE     = GATE AND PPLUS
NGATE     = GATE NOT PPLUS
//
GATE_W_MG = GATE_W INSIDE EDGE MG
GATE_W_TG = GATE_W INSIDE EDGE TG
//
EXPOL     = PO1  NOT DIFF 
EXDIFF    = DIFF NOT PO1 
EXPO_E    = PO1 NOT COIN INSIDE EDGE GATE
INTPOL    = EXPOL NOT INTERACT CONT   

//
//   DEFINE PO1 CONT AND DIFF CONT
//
POLCNT    = CONT OUTSIDE DIFF 
DIFCNT    = CONT NOT OUTSIDE DIFF 


//For High Resistor PO1 

HRPOLY  = PO1 INTERACT HR
PURPOLY = PO1 NOT HRPOLY
SABPOLY = HRPOLY INSIDE EDGE SAB
HRCONT  = CONT AND HR


//For MR Resistor PO1 

MRPOLY  = PO1 INTERACT MR
PURPOLY_MR = PO1 NOT MRPOLY
SABPOLY_MR = MRPOLY INSIDE EDGE SAB
MRCONT  = CONT AND MR

//
//*******************
//***  DRC Rules  ***
//*******************
//


Off_Grid {
   @ Vertice is drawn off-grid.
   DRAWN OFFGRID
}

FLAG SKEW YES

//SkewEdges {
//   @ Safety: Edge violates 45 or 90 degrees
//   DRAWN SKEW    
//}

GROUP SkewEdges SKEW_EDGE?

//
//==============================================
//===  Diffusion (Active) Layer Rules (P20)  ===
//==============================================
//
DIFF_W = DIFF  COIN INSIDE EDGE GATE
//

OFF_GRID_DIFF {@ Grid SIZE of DIFF is 0.001
  OFFGRID DIFF 1
}

SKEW_EDGE_DIFF {@ SKEW EDGE 
   ANGLE DIFF >0<45
   ANGLE DIFF >45<90
}   
   
DF.W1_.W2 {@ Minimum diffusion width for not over TG device is 0.08um
           @ Minimum diffusion width for interconnect is 0.08um
   X = INT DIFF < 0.08 ABUT<90 SINGULAR REGION
   E = X NOT ( MEMORY_MARK_55 OR MEMORY_MARK_65 ) 
   E NOT LOGOMK
}

DF.W.TG18 {@ Minimum diffusion width (over TG) is 0.24um
   E = LENGTH GATE_W_TG < 0.24
   E OUTSIDE EDGE LOGOMK
}

DF.W.TG25 {@ Minimum diffusion width (over TG) is 0.32um
   E = LENGTH GATE_W_TG < 0.32
   E OUTSIDE EDGE LOGOMK
}

DF.W.TG33 {@ Minimum diffusion width ( over TG of 3.3V device ) is 0.32um
   E = LENGTH GATE_W_TG < 0.32
   E OUTSIDE EDGE LOGOMK
}

DF.WX {@ Maximum DIFF width is 100 um
   E = SIZE (SIZE DIFF BY -50) BY 50  TRUNCATE 50
   E NOT LOGOMK
}

//DF.W2 covered by DF.W1_.W2

DF.S1 {@ Minimum space and notch of DIFFUSION is 0.11um 
   X = EXT DIFF < 0.11 ABUT<90 SINGULAR REGION
   E = X NOT ( MEMORY_MARK_55 OR MEMORY_MARK_65 ) 
   E NOT LOGOMK
}

DF.S.TG {@ Minimum space and notch of DIFFUSION (DIFFUSION touching TG) is 0.18um
   X = DIFF INTERACT TG
   E = EXT X DIFF < 0.18 ABUT>0<90 SINGULAR REGION
   E NOT LOGOMK
}

DF.S2 {@ Minimum DIFF spacing if common run length >= 0.6 is 0.12um
       @ When both DIFF width >= 0.24um
    X = SIZE (SIZE DIFF BY -0.119) BY 0.119 TRUNCATE 0 INSIDE OF DIFF STEP 0.119
    Y = (EXT X < 0.12 OPPOSITE REGION) NOT DIFF
    E = Y WITH EDGE (LENGTH Y >= 0.6)
    E NOT LOGOMK
}

DF.A {@ Minimum area of DIFFUSION region is 0.054 sq.um
   X = AREA DIFF < 0.054
   E = ( X NOT MEMORY_MARK_65 ) NOT MEMORY_MARK_55 
   ( E NOT LOGOMK ) NOT URAMMK
}

DF.EA {@ Minimum DIFFUSION enclosed area is 0.085 sq.um
   A = HOLES DIFF INNER < 4.25 // SELECT INNER HOLES AREA < 50 X a
   B = A NOT DIFF // SELECT ENCLOSED AREA    
   E = AREA B < 0.085 
   E NOT LOGOMK
}

GROUP DIFF_DENSITY  DF.D?
 

CHIP_NOT_TESTKEYMK       = DRC:1 NOT TESTKEYMK
COPY_CHIP_NOT_TESTKEYMK  = DRC:1 AND CHIP_NOT_TESTKEYMK

DF.D {@ Minimum DIFF density over 150um X 150um area is 20%
      @ stepped in 50um increments across the chip
      @ exclude CAD_TESTKEY_MARK
   DIFF_ALL = DIFF OR DIFFDUMY
   DENSITY DIFF_ALL CHIP_NOT_TESTKEYMK INSIDE OF LAYER COPY_CHIP_NOT_TESTKEYMK < 0.20 WINDOW 150 STEP 50  BACKUP PRINT DF.D.DEN    
   [AREA(DIFF_ALL)/AREA(CHIP_NOT_TESTKEYMK)]  

//   DENSITY DIFF_ALL CHIP_NOT_TESTKEYMK INSIDE OF LAYER COPY_CHIP_NOT_TESTKEYMK < 0.20 WINDOW 150 STEP 50  BACKUP RDB ONLY results.rdb  
//   [AREA(DIFF_ALL)/AREA(CHIP_NOT_TESTKEYMK)]  
//RDB ONLY       
}

DF.DX {@ Maximum DIFF density over 150um X 150um area stepped in 50um is 80%
       @ stepped in 50um increments across the chip
   DIFF_ALL = DIFF OR DIFFDUMY
   DENSITY DIFF_ALL INSIDE OF LAYER DRC:1  > 0.8 WINDOW 150 STEP 50 BACKUP   PRINT DF.DX.DEN
}

DF.W3 {@ Minimum width of 45 degree DIFFUSION is 0.18um
  E = INT DIFF < 0.18 ANGLED == 2 REGION
  E NOT LOGOMK
}

DF.S3 {@ Minimum spacing of 45 degree DIFFUSION is 0.18um
  E = EXT DIFF < 0.18 ANGLED == 2 REGION
  E NOT LOGOMK
}
//
//DF.L1 {@ Minimum Length of 45 degree DIFFUSION is 1.0um
//  X = ANGLE DIFF >0<90
//  Y = LENGTH X < 1
//  E1 = INT [Y] < 0.1 ABUT 
//  E1 NOT INSIDE EDGE LOGOMK
//  
//  E2 = INT DIFF < 1 PROJ <1 ANGLED ==2 REGION
//  E2 NOT LOGOMK
//}



// DIFFUSION DUMMY RULES

DFDM.W4 {@ Minimum DIFFUSION_CUSTOMER_DUMMY width is 1.5 um
   E = INT DIFFDUMY < 1.5 ABUT<90 SINGULAR REGION
   E NOT LOGOMK
}

DFDM.S4 {@ Minimum spacing and notch of DIFFUSION_CUSTOMER_DUMMY is 0.5 um
   E = EXT DIFFDUMY < 0.5 ABUT<90 SINGULAR REGION
   E NOT LOGOMK
}

DFDM_NW.S5 {@ Minimum spacing of DIFFUSION_CUSTOMER_DUMMY to NWEL is 0.4 um
   E = EXT DIFFDUMY NWEL < 0.4 ABUT<90 OVERLAP SINGULAR REGION
   E NOT LOGOMK
}

DFDM_NW.EN1 {@ Minimum N_WELL enclosure of DIFFUSION_CUSTOMER_DUMMY is 0.4 um
   E = ENC DIFFDUMY NWEL < 0.4 ABUT<90 OVERLAP SINGULAR REGION
   E NOT LOGOMK
}

DFDM_AW.S6 {@ Minimum spacing of DIFFUSION_CUSTOMER_DUMMY to AW is 0.4 um
   E = EXT DIFFDUMY AW < 0.4 ABUT<90 OVERLAP SINGULAR REGION
   E NOT LOGOMK
}

DFDM_AW.EN2 {@ Minimum AW enclosure of DIFFUSION_CUSTOMER_DUMMY is 0.4 um
   E = ENC DIFFDUMY AW < 0.4 ABUT<90 OVERLAP SINGULAR REGION
   E NOT LOGOMK
}

// Removed in 1.11 P1
//DFDM_TG.S7 {@ Minimum spacing of DIFFUSION_CUSTOMER_DUMMY to TG is 0.4 um
//   E = EXT DIFFDUMY TG < 0.4 ABUT<90 OVERLAP SINGULAR REGION
//   E NOT LOGOMK
//}
//
// Removed in 1.11 P1
//DFDM_TG.EN3 {@ Minimum TG enclosure of DIFFUSION_CUSTOMER_DUMMY is 0.4 um
//   E = ENC DIFFDUMY TG < 0.4 ABUT<90 OVERLAP SINGULAR REGION
//   E NOT LOGOMK
//}
//

DFDM_DF.S8 {@ Minimum spacing of DIFFUSION_CUSTOMER_DUMMY to DIFFUSION is 1.0 um
   E1 = EXT DIFFDUMY DIFF < 1.0 ABUT<90 OVERLAP SINGULAR REGION
   E1 NOT LOGOMK
   E2 = DIFFDUMY AND DIFF
   E2 NOT LOGOMK
}

DFDM_PLY.S9 {@ Minimum spacing of DIFFUSION_CUSTOMER_DUMMY to POLY1 is 1.0 um
   E1 = EXT DIFFDUMY PO1 < 1.0 ABUT<90 OVERLAP SINGULAR REGION
   E1 NOT LOGOMK
   E2 = DIFFDUMY AND PO1
   E2 NOT LOGOMK   
}

DFDM_NWR.S10 {@ Minimum spacing of DIFFUSION_CUSTOMER_DUMMY to N_WELL_RESISTOR is 1.0 um
   E1 = EXT DIFFDUMY NWR < 1.0 ABUT<90 OVERLAP SINGULAR REGION
   E1 NOT LOGOMK
   E2 = DIFFDUMY AND NWR
   E2 NOT LOGOMK   
}

DFDM_DFDM.S11 {@ Minimum spacing of DIFFUSION_CUSTOMER_DUMMY to DIFFUSION_DUMMY_BLOCK is 1.0 um
   E = EXT DIFFDUMY DIFDMBK < 1.0 ABUT<90 OVERLAP SINGULAR REGION
   E NOT LOGOMK
}

DFDM_FM.S12 {@ Minimum spacing of DIFFUSION_CUSTOMER_DUMMY to FUSE_MARK is 1.0 um
   E1 = EXT DIFFDUMY FUSEMARK < 1.0 ABUT<90 OVERLAP SINGULAR REGION
   E2 = DIFFDUMY AND FUSEMARK
   E1 NOT LOGOMK
   E2 NOT LOGOMK
}

//
//===========================
//===  N-Well Rules (P92)  ==
//===========================
//

OFF_GRID_NWEL {@ Grid SIZE of NWEL is 0.005
  OFFGRID ( NWEL OUTSIDE ( MEMORY_MARK_55 OR MEMORY_MARK_65 ) ) 5
  OFFGRID NWEL  1
}

SKEW_EDGE_NWEL {@ SKEW EDGE 
   ANGLE NWEL >0<45
   ANGLE NWEL >45<90
}   
  
NW.W1 {@ Minimum NWEL width is 0.45um
   X = INT NWEL < 0.45 ABUT<90 SINGULAR REGION
   E = X NOT ( MEMORY_MARK_55 OR MEMORY_MARK_65 )
   E NOT LOGOMK
}

NW.S1 {@ Minimum spacing and notch of N_Well for equal-potential is 0.45um
  X =  EXT NWEL < 0.45 ABUT<90 SINGULAR REGION 
  E = X  NOT ( MEMORY_MARK_55 OR MEMORY_MARK_65 )
  E NOT LOGOMK
}

NW.S2 {@ Minimum spacing and notch of N_Well for non-equal-potential is 0.9um
  E1 = EXT NWELL < 0.9 ABUT<90 NOT CONNECTED REGION
  ( E1 NOT LOGOMK ) NOT MEMORY_MARK_65
  E2 = EXT RNWELL_HEAD < 0.9 ABUT<90 NOT CONNECTED REGION
  ( E2 NOT LOGOMK ) NOT MEMORY_MARK_65 
  E3 = EXT RNWELL_HEAD NWELL< 0.9 ABUT<90 NOT CONNECTED REGION
  ( E3 NOT LOGOMK ) NOT MEMORY_MARK_65      
}

NW_N_DF.S3 {@ Minimum spacing of N_WEL to N+ DIFFUSION is 0.15um
   X = EXT NWEL NDIF < 0.15 ABUT<90 OVERLAP SINGULAR REGION
   E = X NOT ( MEMORY_MARK_55 OR MEMORY_MARK_65 )
   E NOT LOGOMK
}

NW_P_DF.S4 {@ Minimum spacing of N_WEL to P+ DIFFUSION is 0.14um
   X = EXT NWEL PTAP < 0.14 ABUT<90 OVERLAP SINGULAR REGION
   E = ( X NOT MEMORY_MARK_65 ) NOT MEMORY_MARK_55
   E NOT LOGOMK
}

NW_N_DF.S5.TG {@ Minimum spacing of N_WEL to ( N+ DIFFUSION touching TG ) is 0.31um
   E = EXT IO_MOS_NDIF NWEL < 0.31 ABUT<90 OVERLAP SINGULAR REGION
   E NOT LOGOMK
}

NW_N_DF.EN1 {@ Minimum NWEL enclosure of N+ DIFFUSION is 0.14um   
   E = ENC NTAP NWEL < 0.14 ABUT<90 SINGULAR OVERLAP REGION
   ( E NOT LOGOMK ) NOT ( MEMORY_MARK_55 OR MEMORY_MARK_65 ) 
}

NW_P_DF.EN2 {@ Minimum NWEL enclosure of P+ DIFFUSION is 0.15um
   X = ENC PDIF NWEL < 0.15 ABUT<90 SINGULAR OVERLAP REGION
   E = X NOT ( MEMORY_MARK_55 OR MEMORY_MARK_65 )
   E NOT LOGOMK
}

NW_P_DF.EN3.TG {@ Minimum NWEL enclosure of ( P+ DIFFUSION touching TG ) is 0.31um
   X = PDIF INTERACT TG
   E = ENC X NWEL < 0.31 ABUT<90 SINGULAR OVERLAP REGION
   E NOT LOGOMK
}

NW.R {@ NWELL shapes must be orthogonal
  E =  ANGLE NWEL >0<90
  E OUTSIDE EDGE LOGOMK
}

//
//==================================
//===  NWEL resistor Rules (P92) ===
//==================================
//

OFF_GRID_NWR {@ Grid SIZE of NWR is 0.005
  OFFGRID NWR 5
}

SKEW_EDGE_NWR {@ SKEW EDGE 
   ANGLE NWR >0<45
   ANGLE NWR >45<90
}     

RNWELL_BODY = RNWELL AND NWR
RNWELL_W = RNWELL_BODY COIN INSIDE EDGE RNWELL

//

Recommend_NWR {@ DIFFUSION or DIFFUSION dummy over N-Well resistor is not allowed
   E1 = NWR AND DIFFDUMY
   E2 = NWR AND DIFF
   E1 NOT LOGOMK
   E2 NOT LOGOMK
}   

NWR.W1 {@ Minimum width of N_WELL_RESISTOR is 1.5um
   E = INT RNWELL_W < 1.5 ABUT>0<90  REGION
   E NOT LOGOMK   
}

NWR.WX {@ Maximum width of N_WELL_RESISTOR is 20 um
   X = EXPAND EDGE RNWELL_W INSIDE BY 10 CORNER FILL
   Y = RNWELL_BODY NOT X
   E = RNWELL_BODY INTERACT Y
   E NOT LOGOMK   
}

NWR.S1 {@ Minimum spacing and notch of N_WELL_RESISTOR is 0.9um  
   E = EXT RNWELL_BODY       < 0.9 ABUT<90 SINGULAR REGION
   E NOT LOGOMK   
} 

NWR_NW.S2 {@ Minimum spacing of N_WELL_RESISTOR to NWEL is 0.9um  
   E = EXT RNWELL_BODY NWEL < 0.9 ABUT<90 SINGULAR REGION
   E NOT LOGOMK   
} 

//NWR.R {@ NWEL resistor must be within NWEL
//   NWR  NOT RNWELL
//}  The rule is removed in TLR 0.2 P1 // The DRC check is covered by NWR_N_DF.S3__NW_NWR.EN1.

NWR_N_DF.S3__NW_NWR.EN1 {@ Exact spacing of N_WELL_RESISTOR to N+ DIFFUSION within the same well is 0um
                         @ Exact N_WELL enclosure of length of N_WELL_RESISTOR is 0um
   x = NWR NOT COIN INSIDE EDGE RNWELL
   x NOT TOUCH OUTSIDE EDGE NTAP
   E = RNWELL_BODY AND NTAP
   E NOT LOGOMK   
}

//
//============================
//===  DEEP_N_WELL Rules   === 
//============================
//


OFF_GRID_DNW {@ Grid SIZE of DNW is 0.005
  OFFGRID ( DNW OUTSIDE ( MEMORY_MARK_55 OR MEMORY_MARK_65 ) ) 5
  OFFGRID  DNW 1
}

SKEW_EDGE_DNW {@ SKEW EDGE 
   ANGLE DNW >0<45
   ANGLE DNW >45<90
} 

DNW.W1 {@ Minimum DEEP_N_WELL width is 3.0um
  E = INT DNW < 3 ABUT<90 SINGULAR REGION
  E NOT LOGOMK
}

DNW.S1 {@ Minimum spacing and notch of DEEP_N_WELL to DEEP_N_WELL is 3.5um
  E = EXT DNW < 3.5 ABUT<90 SINGULAR REGION
  E NOT LOGOMK
}

DNW_N_DF.S2 {@ Minimum spacing of DEEP_N_WELL to N+ DIFFUSION outside NWEL is 1.4um  
  E = EXT DNW ( NDIFF NOT NWEL ) < 1.4 ABUT<90 OVERLAP SINGULAR REGION
  E NOT LOGOMK
}

P_TUB  = PWEL_ALL INSIDE DNW
P_WELL = PWEL_ALL NOT P_TUB
TG_P_TUB = PWEL_ALL INSIDE ( DNW NOT OUTSIDE TG )


PW.S3 {@ Minimum spacing of P_TUB to (P_TUB OR P_WELL of non-equal-potential) within DEEP_N_WELL is 1um
  E = EXT P_TUB PWEL_ALL <1 ABUT<90 SINGULAR NOT CONNECTED REGION
  ( ( E NOT LOGOMK ) NOT MEMORY_MARK_65 ) NOT MEMORY_MARK_55
}

PW.S4.TG {@ Minimum spacing of P_TUBL to ( P_TUB or P_WELL of non-equal-potential within ( DEEP_N_WELL touching TG)) is 1.2um
  E = EXT TG_P_TUB  PWEL_ALL <1.2 ABUT<90 SINGULAR NOT CONNECTED REGION
  E NOT LOGOMK
}

DNW_PG.S5 {@ Minimum spacing of DEEP_N_WELL to PMOS gate is 1um
  E = EXT DNW PGATE < 1 ABUT<90 OVERLAP SINGULAR REGION
  E NOT LOGOMK
}

DNW_NW.S6 {@ Minimum spacing of DEEP_N_WELL to ( N_WELL of non-equal potential ) is 1.9 um    
  X =  STAMP DNW BY NWELL
  Y =  DNW NOT X
  E1 = EXT X   NWELL  < 1.9 ABUT < 90 OVERLAP SINGULAR NOT CONNECTED MEASURE ALL REGION
  E2 = EXT Y   NWELL  < 1.9 ABUT < 90 OVERLAP SINGULAR MEASURE ALL REGION  
  E3 = EXT DNW RNWELL < 1.9 ABUT < 90 OVERLAP SINGULAR MEASURE ALL REGION  
  E1 NOT LOGOMK
  E2 NOT LOGOMK 
  E3 NOT LOGOMK    
}// Check non-equal potential only

DNW_PG.EN1 {@ Minimum DEEP_N_WELL enclosure of PMOS GATE is 1um
  E = ENC PGATE DNW < 1 ABUT<90 OVERLAP SINGULAR REGION
  ( ( E NOT LOGOMK ) NOT MEMORY_MARK_65 ) NOT MEMORY_MARK_55
}

NW_DNW.EN2 {@ Minimum N_WELL enclosure of DEEP_N_WELL is 1um
            @ P_WELL cross DEEP_N_WELL edge is allowed.
  E = ENC DNW NWEL < 1 ABUT<90 SINGULAR REGION
  E NOT LOGOMK
}

DNW_PW.EN3 {@ Minimum DEEP_N_WELL enclosure of P_TUB is 0.4um
  E = ENC P_TUB DNW < 0.4 ABUT<90 OVERLAP SINGULAR OUTSIDE ALSO REGION
  E NOT LOGOMK 
  // Even, due to the definition of P_TUB, the output of OVERLAP and OUTSIDE ALSO are always empty.
} // DRC coding still keep them to declare this rule. // P_TUB = PWEL_ALL INSIDE DNW

DNW.R {@ NWEL within DEEP_N_WELL must be at the same potential
  E = DNW INTERACT NWELL >1 BY NET
  E NOT LOGOMK
}

DNW.R2 {@ MOAT is not allowed within DEEP_N_WELL
  ( AND DNW MOAT ) NOT LOGOMK
}

DNW.R3 {@ DEEP_N_WELL patterns must be orthogonal
  E = ANGLE DNW >0<90
  E OUTSIDE EDGE LOGOMK
}

DNW.R4 {@ N_WELL_RESISTOR within DEEP_N_WELL is not allowed
  ( AND DNW NWR ) NOT LOGOMK
}

// Note.1: P_TUB = (REVERSE (N_WELL)) fully within DEEP_N_WELL
// Note.2: P_WELL = ( REVERSE ( N_WELL )) not fully within DEEP_N_WELL
// Note.3 P_TUB can be used in designs for beter noise isolation or various back-bias conditions for performance.
//

//=======================
//===  LLHVT Rules   === 
//=======================
//

OFF_GRID_LL_HVT {@ Grid SIZE of LL_HVT is 0.005
  OFFGRID ( LL_HVT OUTSIDE ( MEMORY_MARK_55 OR MEMORY_MARK_65 ) ) 5
  OFFGRID LL_HVT 1
}

SKEW_EDGE_LLHVT {@ SKEW EDGE 
   ANGLE LL_HVT >0<45
   ANGLE LL_HVT >45<90
} 

LLH.W1 {@ Minimum width of LL_HVT region is 0.36um
   E1 = INT LL_HVT < 0.36 ABUT>0<90  CORNER   REGION
   E1 NOT LOGOMK
   E2 = INT LL_HVT < 0.36 ABUT>0<90  OPPOSITE REGION
   E2 NOT LOGOMK
}

LLH.S1 {@ Minimum space between two LL_HVT regions is 0.20um
   E = EXT LL_HVT < 0.20 ABUT>0<90  REGION
   E NOT LOGOMK
}// SINGULAR case is waived by LLH.R3

LLH_PLY_G.S2 {@ Minimum LL_HVT to GATE spacing is 0.15
   E1 = EXT LL_HVT GATE < 0.15 ABUT<90 SINGULAR REGION
   E1 NOT LOGOMK
   E2 = LL_HVT  INSIDE EDGE GATE
   E2 OUTSIDE EDGE LOGOMK
}

LLH_PLY_G.EN1 {@ Minimum LL_HVT overlap gate is 0.15um
   X = GATE INTERACT LL_HVT
   E = ENC X LL_HVT < 0.15 ABUT SINGULAR INSIDE ALSO REGION
   E NOT LOGOMK
}

LLH.R {@ LL_HVT shapes must be orthogonal
   E = ANGLE LL_HVT >0<90
   E OUTSIDE EDGE LOGOMK
}

LLH_NW.S3 {@ Minimum spacing of LL_HVT to NWELL is 0.18um
   E = EXT NWELL LL_HVT < 0.18 ABUT>0<90 SINGULAR REGION
   E NOT LOGOMK
}

LLH_TG.S4 {@ Minimum space of LL_HVT to TG is 0.18um
   E = EXT LL_HVT TG < 0.18 ABUT>0<90 INSIDE ALSO SINGULAR REGION
   E NOT LOGOMK
}

LLH_NW.OH1 {@ Minimum LL_HVT overhang of N_WELL is 0.18um
   X = NWEL  INTERACT  LL_HVT
   E = ENC X  LL_HVT < 0.18  ABUT>0<90 SINGULAR  REGION
   ( E NOT LOGOMK ) NOT MEMORY_MARK_65
}

NW_LLH.OH2 {@ Minimum NWEL overhang of LL_HVT is 0.18um
   X = LL_HVT INTERACT NWEL
   E = ENC X NWEL < 0.18 ABUT>0<90 SINGULAR REGION
   E NOT LOGOMK
}

NW_LLH.OL1 {@ NWEL overlap of LL_HVT is 0.18um
   E = INT NWEL LL_HVT  < 0.18 ABUT>0<90 SINGULAR REGION
   E NOT LOGOMK
}

LLH_NW.R1_.R2 {@ LL_HVT coincident with NWEL is not allowed if common run length < 0.18um
    X = LL_HVT COIN EDGE NWEL
    E = LENGTH  X  < 0.18
    E OUTSIDE EDGE LOGOMK
}

//LLH.R3 {@ Point touch of LL_HVT regions is allowed if all edges adjacent to touching corner >= 0.18um  
//} Covered by LLH.S1

LLH.R4 {@ Butting cell with common run length 0.2 um is allowed.
  OUTER_CORNER = EXT [LL_HVT] < 0.001 ABUT   
  E1      = INT LL_HVT        < 0.2           ABUT < 90 REGION
  E2      = INT OUTER_CORNER  > 0.2  < 0.36   ABUT < 90 REGION
  FILTER  = INT OUTER_CORNER  > 0.199  < 0.201            REGION   
  
  E1 NOT LOGOMK 
  ( E2 NOT ENCLOSE FILTER ) NOT LOGOMK 
} 

//
//=======================
//===  LL_LVT Rules   === 
//=======================
//

OFF_GRID_LL_LVT {@ Grid SIZE of LL_LVT is 0.005
  OFFGRID ( LLLVT NOT MEMORY_MARK_65 ) 5
  OFFGRID LLLVT 1
}

SKEW_EDGE_LLLVT {@ SKEW EDGE 
   ANGLE LLLVT >0<45
   ANGLE LLLVT >45<90
} 

LLL.W1 {@ Minimum width of LL_LVT region is 0.36um
   E1 = INT LLLVT < 0.36 ABUT>0<90 OPPOSITE REGION
   E1 NOT LOGOMK
   E2 = INT LLLVT < 0.36 ABUT>0<90 CORNER   REGION
   E2 NOT LOGOMK
}

LLL.S1 {@ Minimum space between two LL_LVT regions is 0.20um
   E = EXT LLLVT < 0.20 ABUT>0<90  REGION
   E NOT LOGOMK
}// SINGULAR case is waived by LLL.R3

LLL_PLY_G.S2 {@ Minimum LL_LVT to GATE spacing is 0.15
   E1 = EXT LLLVT GATE < 0.15 ABUT<90 SINGULAR REGION
   E1 NOT LOGOMK
   E2 = LLLVT  INSIDE EDGE GATE
   E2 OUTSIDE EDGE LOGOMK
}

LLL_PLY_G.EN1 {@ Minimum LL_LVT overlap gate is 0.15um
   X = GATE INTERACT LLLVT
   E = ENC X LLLVT < 0.15 ABUT SINGULAR INSIDE ALSO REGION
   E NOT LOGOMK
}

LLL.R {@ LL_LVT shapes must be orthogonal
   E = ANGLE LLLVT >0<90
   E OUTSIDE EDGE LOGOMK
}

LLL_NW.S3 {@ Minimum spacing of LL_LVT to NWELL is 0.18um
   E = EXT NWELL LLLVT < 0.18 ABUT>0<90 SINGULAR REGION
   E NOT LOGOMK
}

LLL_TG.S4 {@ Minimum space of LL_LVT to TG is 0.18um
   E = EXT LLLVT TG < 0.18 ABUT>0<90 INSIDE ALSO SINGULAR REGION
   E NOT LOGOMK
}

LLL_NW.OH1 {@ Minimum LL_LVT overhang of N_WELL is 0.18um
   X = NWEL  INTERACT  LLLVT
   E = ENC X  LLLVT < 0.18  ABUT>0<90 SINGULAR  REGION
   E NOT LOGOMK
}

NW_LLL.OH2 {@ Minimum NWEL overhang of LL_LVT is 0.18um
   X = LLLVT INTERACT NWEL
   E = ENC X NWEL < 0.18 ABUT>0<90 SINGULAR REGION
   E NOT LOGOMK
}

NW_LLL.OL1 {@ NWEL overlap of LL_LVT is 0.18um
   E = INT NWEL LLLVT  < 0.18 ABUT>0<90 SINGULAR REGION
   E NOT LOGOMK
}

LLL_NW.R1_.R2 {@ LL_LVT coincident with NWEL is not allowed if common run length < 0.18um
    X = LLLVT COIN EDGE NWEL
    E = LENGTH  X  < 0.18
    E OUTSIDE EDGE LOGOMK
}
//LLL.R3 {@ Point touch of LL_LVT regions is allowed if all edges adjacent to touching corner >= 0.18um  
//} Covered by LLL.S1

LLL.R4 {@ Butting cell with common run length 0.20 is allowed
  OUTER_CORNER = EXT [LLLVT]  < 0.001 ABUT   
  E1      = INT LLLVT         < 0.20          ABUT < 90 REGION
  E2      = INT OUTER_CORNER  > 0.20  < 0.36  ABUT < 90 REGION
  FILTER  = INT OUTER_CORNER  > 0.199 < 0.201           REGION  
  
  E1 NOT LOGOMK 
  ( E2 NOT ENCLOSE FILTER ) NOT LOGOMK    
} 

//
//================  
//===  NATIVE  ===   
//================
//

GATE_NATIVE = GATE_W INSIDE EDGE NATIVE

//


OFF_GRID_NATIVE {@ Grid SIZE of NATIVE is 0.005
  OFFGRID ( NATIVE NOT MEMORY_MARK_65 ) 5
  OFFGRID  NATIVE 1
}

SKEW_EDGE_NATIVE {@ SKEW EDGE 
   ANGLE NATIVE >0<45
   ANGLE NATIVE >45<90
} 

NATIVE_DIFFUSION = DIFF INTERACT NATIVE

NT.W1 {@ Minimum NATIVE DIFFUSION width is 0.47um
   E = INT NATIVE_DIFFUSION < 0.47 ABUT<90 SINGULAR REGION
   E NOT LOGOMK
}

NT.S1 {@ Minimum spacing and notch of NATIVE is 0.47um
   E = EXT NATIVE < 0.47 ABUT<90 SINGULAR REGION
   E NOT LOGOMK
}

NT_DF.S2 {@ Minimum spacing of NATIVE to unrelated DIFFUSION is 0.25um
   E = EXT NATIVE DIFF < 0.25 ABUT SINGULAR REGION
   E NOT LOGOMK
}

//NT_DF.S2s {@ Minimum spacing of NATIVE to unrelated DIFFUSION is 0.28um
//           @ For shrinkable case
//   E = EXT NATIVE DIFF < 0.28 ABUT SINGULAR REGION
//   E NOT LOGOMK
//}

NT_NW.S3 {@ Minimum spacing of NATIVE to N_WELL is 0.9um
   E = EXT NATIVE NWEL < 0.9 ABUT<90 SINGULAR INSIDE ALSO REGION
   E NOT LOGOMK
}

NT_TG.S4 {@ Minimum spacing of NATIVE to TG is 0 or 0.36um
   E = EXT NATIVE TG < 0.36 ABUT>0<90 OVERLAP SINGULAR REGION
   E NOT LOGOMK
}

TG_NT.EN2 {@ Minimum TG enclosure of NATIVE is 0.36um
   E = ENC NATIVE TG < 0.36 ABUT>0<90 OVERLAP SINGULAR REGION
   E NOT LOGOMK   
}

TG_NT.R1_.R2 {@ If TG and NATIVE have a common run >= 0.36um,
              @ Than a spacing of zero is allowed along the common run
              @ If TG and NATIVE have a common run >= 0.36um,
              @ Than a overhang of zero is allowed along the common run
   X = TG COIN EDGE NATIVE
   E =  LENGTH  X  < 0.36
   E OUTSIDE EDGE LOGOMK   
}

NT_NRS.S5 {@ Minimum spacing of NATIVE to N+/P+POLY1 non-salicide resistor body is 0.48um
   E = EXT ( SAB_POL AND SAB ) NATIVE  < 0.48 ABUT INSIDE ALSO SINGULAR  REGION
   E NOT LOGOMK
   // non-salicide resistor inside NATIVE is not allowed. (commented by Jim 0413/2006)
}

NT_DF.EN1 {@ NATIVE enclosure of DIFFUSION is should be between 0.25 and 0.28 um
           @ two DIFFUSION inside one NATIVE are not allowed
           @ Non-shrinkable
   E1 = ENC DIFF NATIVE < 0.25 ABUT SINGULAR REGION
   E1 NOT LOGOMK
   
   X = SIZE ( NATIVE INTERACT DIFF ) BY -0.281
   E2 = X NOT INSIDE EDGE DIFF  
   E2 OUTSIDE EDGE LOGOMK
}

//NT_DF.EN1s {@ Exact NATIVE enclosure of DIFFUSION is 0.28um
//            @ two DIFFUSION inside one NATIVE are not allowed
//            @ shrinkable
//   X = SIZE NATIVE BY -0.28
//   E1 = ( DIFF INTERACT NATIVE ) NOT COIN INSIDE EDGE X   
//   E1 OUTSIDE EDGE LOGOMK
//   E2 = NATIVE INTERACT DIFF >1
//   E2 NOT LOGOMK
//}

PLY_NT.W2 {@ Minimum POLY1 width for NATIVE device over NATIVE but not over TG (non-shrinkable) is 0.20um
   E = INT ( GATE_W INSIDE EDGE NATIVE ) < 0.2 ABUT<90  REGION
   E NOT LOGOMK
}

//PLY_NT.W2s {@ Minimum POLY1 width for NATIVE device over NATIVE but not over TG (non-shrinkable) is 0.22um
//            @ For shrinkable case 
//   E = INT ( GATE_W INSIDE EDGE NATIVE ) < 0.22 ABUT<90  REGION
//   E NOT LOGOMK
//}

PLY_NT.W3.TG18 {@ Minimum POLY1 width for NATIVE device over NATIVE and over TG of 1.8V device (non-shrinkable) is 1.0um
   E = INT ( GATE_W_TG INSIDE EDGE NATIVE ) < 1.0 ABUT<90  REGION
   E NOT LOGOMK
}

//PLY_NT.W3s.TG18 {@ Minimum POLY1 width for NATIVE device over NATIVE and over TG of 1.8V device (shrinkable) is 1.1um
//             @ For shrinkable case 
//   E = INT ( GATE_W_TG INSIDE EDGE NATIVE ) < 1.1 ABUT<90  REGION
//   E NOT LOGOMK
//}

PLY_NT.W3.TG25 {@ Minimum POLY1 width for NATIVE device over NATIVE and over TG of 2.5V device  (non-shrinkable) is 1.2um
   E = INT ( GATE_W_TG INSIDE EDGE NATIVE ) < 1.2 ABUT<90  REGION
   E NOT LOGOMK
}

//PLY_NT.W3s.TG25 {@ Minimum POLY1 width for NATIVE device over NATIVE and over TG of 2.5V device  (shrinkable) is 1.33um
//                 @ For shrinkable case 
//   E = INT ( GATE_W_TG INSIDE EDGE NATIVE ) < 1.33 ABUT<90  REGION
//   E NOT LOGOMK
//}

PLY_NT.W4.TG25_OD33 {@ Minimum POLY1 width for NATIVE device over NATIVE and over TG 
                     @ and over CAD_OD_MARK of 2.5V overdrive 3.3V device 
                     @ (for 3.3V +/- 10% voltage tolerance for NMOS )(non-shrinkable) is 1.4 um
   E = INT ( ( GATE_W_TG INSIDE EDGE NATIVE ) INSIDE EDGE ODMK ) < 1.4  ABUT<90  REGION
   E NOT LOGOMK
}

//PLY_NT.W4.TG25_OD33s {@ Minimum POLY1 width for NATIVE device over NATIVE and over TG 
//                      @ and over CAD_OD_MARK of 2.5V overdrive 3.3V device 
//                      @ (for 3.3V +/- 10% voltage tolerance for NMOS )(shrinkable) is 1.55 um
//   E = INT ( ( GATE_W_TG INSIDE EDGE NATIVE ) INSIDE EDGE ODMK ) < 1.55 ABUT<90  REGION
//   E NOT LOGOMK
//}

PLY_NT.W3.TG33 {@ Minimum POLY1 width for NATIVE device over NATIVE and over TG of 3.3V device  (non-shrinkable) is 1.2um
   E = INT ( GATE_W_TG INSIDE EDGE NATIVE ) < 1.2 ABUT<90  REGION
   E NOT LOGOMK
}

//PLY_NT.W3s.TG33 {@ Minimum POLY1 width for NATIVE device over NATIVE and over TG of 3.3V device  (shrinkable) is 1.33um
//                 @ For shrinkable case 
//   E = INT ( GATE_W_TG INSIDE EDGE NATIVE ) < 1.33 ABUT<90  REGION
//   E NOT LOGOMK
//}

NT.R {@ NATIVE shapes must be orthogonal
   E = ANGLE NATIVE >0<90
   E OUTSIDE EDGE LOGOMK
}

NT.R1 {@ NATIVE over P+ DIFFUSION is not allowed
   E = NATIVE AND PDIFF
   E NOT LOGOMK
}

//
//===================================
//===  DIMPBK (DIODE_IMP_BLOCK)   ===
//===================================
//

OFF_GRID_DIMPBK {@ Grid SIZE of DIMPBK is 0.005
  OFFGRID ( DIMPBK NOT MEMORY_MARK_65 ) 5
  OFFGRID DIMPBK 1
}

SKEW_EDGE_DIMPBK {@ SKEW EDGE 
   ANGLE DIMPBK >0<45
   ANGLE DIMPBK >45<90
} 

DIB.W1 {@ Minimum width of DIMPBK is 0.36um
   E = INT DIMPBK < 0.36 ABUT>0<90 SINGULAR REGION
   E NOT LOGOMK
}

DIB.S1 {@ Minimum space between two DIMPBK regions is 0.36um
   E = EXT DIMPBK < 0.36 ABUT>0<90 SINGULAR REGION
   E NOT LOGOMK
}

DIB_DF.S2 {@ Minimum spacing of DIMPBK to DIFF which is not in diode region is 0.18um
   E = EXT DIMPBK DIFF < 0.18 ABUT<90 SINGULAR OVERLAP REGION
   E NOT LOGOMK
}

DIB_NW.S3 {@ Minimum spacing of DIMPBK to NWEL is 0.36um
   E = EXT NWEL DIMPBK < 0.36 ABUT<90 OVERLAP SINGULAR REGION
   E NOT LOGOMK
}

DIB_TG.S4 {@ Minimum spacing of DIMPBK to TG is 0.36um
   E = EXT TG DIMPBK < 0.36 ABUT>0<90  SINGULAR REGION
   E NOT LOGOMK
}

DIB_DIODE.EN1 {@ Minimum DIMPBK enclosure of diode region is 0.12um
   X = DIFF INTERACT DIMPBK
   E = ENC X DIMPBK < 0.12 ABUT SINGULAR INSIDE ALSO REGION	
   E NOT LOGOMK
}

DIB_TG.OH1 {@ Minimum DIODE_IMP_BLOCK overhang of TG is 0.36um
   E = ENC TG DIMPBK < 0.36 ABUT>0<90 SINGULAR REGION
   E NOT LOGOMK  
}

TG_DIB.OH2 {@ Minimum DIODE_IMP_BLOCK overhang of TG is 0.36um
   E = ENC DIMPBK TG < 0.36 ABUT>0<90 SINGULAR REGION
   E NOT LOGOMK   
}

DIB_TG.OL1 {@ Minimum DIODE_IMP_BLOCK overlap of TG is 0.36um
   E = INT DIMPBK TG  < 0.36 ABUT>0<90 SINGULAR REGION
   E NOT LOGOMK  
}

DIB_TG.R1_.R2 {@ If DIODE_IMP_BLOCK and TG have a common run >=0.36um,
               @ then a spacing of zero is allowed along the common run
               @ If DIODE_IMP_BLOCK and TG have a common run >=0.36um,
               @ then a overhang of zero is allowed along the common run
   X = DIMPBK COIN EDGE TG   
   E = LENGTH X < 0.36
   E NOT INSIDE EDGE LOGOMK    
}

DIB.R {@ DIMPBK shapes must be orthogonal
   E = ANGLE DIMPBK >0<90
   E OUTSIDE EDGE LOGOMK
}

//
//==========================
//===  TG   Rules (P21)  ===
//==========================
//


OFF_GRID_TG {@ Grid SIZE of TG is 0.005
   OFFGRID TG 5

}

SKEW_EDGE_TG {@ SKEW EDGE 
   ANGLE TG >0<45
   ANGLE TG >45<90
} 

TG.W1 {@ Minimum width of TG region is 0.44um
   E = INT TG < 0.44 ABUT>0<90 SINGULAR REGION
   E NOT LOGOMK
}

TG.S1 {@ Minimum space between two TG regions is 0.44um
   E = EXT TG < 0.44 ABUT>0<90 SINGULAR REGION
   E NOT LOGOMK
}

TG_PLY_G.S2 {@ Minimum TG to unrelated GATE spacing is 0.30um
             @ ( in the direction parallel to gate width )
   E1 = EXT TG GATE < 0.30 ABUT<90 SINGULAR REGION
   E1 NOT LOGOMK
   E2 = TG  INSIDE  EDGE  GATE 
   E2 OUTSIDE EDGE LOGOMK
}

TG_PLY_G.S4 {@ Minimum TG to unrelated GATE spacing is 0.34um
             @ ( in the direction parallel to gate length )
   X = TG INSIDE EDGE DIFF             
   E = EXT X GATE_W < 0.34 ABUT<90  REGION
   E NOT LOGOMK
}

TG_NW.S3 {@ Minimum spacing of TG to NWEL is 0.36um
   E = EXT TG NWEL < 0.36 ABUT>0<90 SINGULAR REGION
   E NOT LOGOMK
}

TG_NW.OH1 {@ Minimum TG overhang of NWEL is 0.36um
   E = ENC NWEL TG < 0.36 ABUT>0<90 SINGULAR REGION
   E NOT LOGOMK
}

NW_TG.OH2 {@ Minimum NWEL overhang of TG is 0.36um
   E = ENC TG NWEL < 0.36 ABUT>0<90 SINGULAR REGION
   E NOT LOGOMK
}

TG_NW.OL1 {@ Minimum TG overlap of NWEL is  0.36um
   E = INT TG NWEL < 0.36 ABUT >0<90 SINGULAR REGION
   E NOT LOGOMK
}

TG_NW.R1_.R2 {@ TG coincident with NWEL is not allowed if common run length < 0.18um
   X = TG COIN EDGE NWEL
   E =  LENGTH  X  < 0.18
   E OUTSIDE EDGE LOGOMK
}

TG_LLH.R3 {@ TG coincident with LL_HVT is not allowed if common run length < 0.36um
   X = TG COIN OUTSIDE EDGE LL_HVT
   E =  LENGTH  X  < 0.36
   E OUTSIDE EDGE LOGOMK
}

TG_LLL.R4 {@ TG coincident with LL_LVT is not allowed if common run length < 0.36um
   X = TG COIN OUTSIDE EDGE LLLVT
   E =  LENGTH  X  < 0.36
   E OUTSIDE EDGE LOGOMK
}

TG_PLY_G.EN1 {@ Minimum TG enclosure of gate is 0.27um
              @ ( in the direction parallel to gate width )
   E = ENC GATE TG < 0.27 ABUT<90 SINGULAR REGION
   E NOT LOGOMK
}

TG_PLY_G.EN2 {@  Minimum TG enclosure of gate is 0.34um
              @ ( in the direction parallel to gate length )            
   E = ENC GATE_W TG < 0.34 OPPOSITE ABUT<90  REGION
   E NOT LOGOMK
}

TG.R {@ TG shapes must be orthogonal 
   E = ANGLE TG >0<90
   E OUTSIDE EDGE LOGOMK
}

//
//==========================
//===  Poly Rules (P30)  ===
//==========================
//
END_CAP    =  INTPOL   TOUCH   GATE == 1
DIFF_W_ECAP = DIFF    INTERACT  END_CAP

END_CAP_W = END_CAP COIN INSIDE EDGE ( PO1 TOUCH EDGE GATE_W )

DIFF_E_NG = DIFF OUTSIDE EDGE GATE
GATE_E_ENDCAP = DIFF_W COIN EDGE ( END_CAP INTERACT GATE_02 )

//

OFF_GRID_PO1 {@ Grid SIZE of PO1 is 0.001
  OFFGRID PO1 1

}

SKEW_EDGE_PO1 {@ SKEW EDGE 
   ANGLE PO1 >0<45
   ANGLE PO1 >45<90
} 

PLY_NG.W1 {@ Minimum PO1 width for NMOS is 0.06um
   X = GATE_W  INSIDE EDGE  NPLUS
   E = INT  X < 0.06  ABUT>0<90  REGION
   E NOT LOGOMK
}

PLY_PG.W2 {@ Minimum PO1 width for PMOS is 0.06um
   X = GATE_W  INSIDE EDGE  PPLUS
   E = INT  X < 0.06  ABUT>0<90  REGION
   E NOT LOGOMK

}

PLY_ICN.W3 {@ Minimum PO1 width for interconnect is 0.06um
    E = INT PO1 < 0.06 ABUT>0<90 SINGULAR REGION
    E NOT ( ( ( MEMORY_MARK_55 OR MEMORY_MARK_65 ) OR LOGOMK ) OR URAMMK )
}

PLY.W.TG18 {@ Minimum PO1 width for 1.8V device is 0.18um
            @ For 1.8V +/- 10% voltage tolerance
            @ Non-shrinkable
   E = INT GATE_W_TG < 0.18 ABUT>0<90 REGION
   E NOT LOGOMK
}

//PLY.W.TG18s {@ Minimum PO1 width for 1.8V device is 0.20um
//             @ For 1.8V +/- 10% voltage tolerance 
//             @ Shrinkable             
//  E = INT GATE_W_TG < 0.20 ABUT>0<90 REGION  
//  E NOT LOGOMK
//}


PLY.W.TG25 {@ Minimum PO1 width for 2.5V device is 0.24um
            @ For 2.5V +/-10% voltage tolerance
  E =  INT GATE_W_TG < 0.24 ABUT>0<90 REGION
  E NOT LOGOMK
}

//PLY.W.TG25s {@ Minimum PO1 width for 2.5V device is 0.26um
//             @ For 2.5V +/-10% voltage tolerance shrinkable case.
//  E =  INT GATE_W_TG < 0.26 ABUT>0<90 REGION
//  E NOT LOGOMK
//}

PLY_NG.W.TG25_OD33 {@ Minimum PO1 width over TG and CAD_OD_MARK 
                    @ of 2.5V overdrive 3.3V device ( for 3.3V +/- 10% voltage tolotance) 
                    @ for NMOS is 0.5 um
                    @ non-shrinkable
  E =  INT ( ( GATE_W_TG INSIDE EDGE ODMK ) NOT INSIDE EDGE PPLUS ) < 0.5 ABUT>0<90 REGION
  E NOT LOGOMK
}

//PLY_NG.W.TG25_OD33s {@ Minimum PO1 width over TG and CAD_OD_MARK 
//                     @ of 2.5V overdrive 3.3V device ( for 3.3V +/- 10% voltage tolotance) 
//                     @ for NMOS is 0.5 um
//                     @ SP shrinkage capable
//  E =  INT ( ( GATE_W_TG INSIDE EDGE ODMK ) NOT INSIDE EDGE PPLUS ) < 0.5 ABUT>0<90 REGION
//  E NOT LOGOMK
//}

PLY_PG.W.TG25_OD33 {@ Minimum PO1 width over TG and CAD_OD_MARK 
                    @ of 2.5V overdrive 3.3V device ( for 3.3V +/- 10% voltage tolotance) 
                    @ for PMOS is 0.4 um
                    @ non-shrinkable
  E =  INT ( ( GATE_W_TG INSIDE EDGE ODMK )  INSIDE EDGE PPLUS ) < 0.4 ABUT>0<90 REGION
  E NOT LOGOMK
}

//PLY_PG.W.TG25_OD33s {@ Minimum PO1 width over TG and CAD_OD_MARK 
//                     @ of 2.5V overdrive 3.3V device ( for 3.3V +/- 10% voltage tolotance) 
//                     @ for PMOS is 0.42 um
//                     @ SP shrinkage capable
//  E =  INT ( ( GATE_W_TG INSIDE EDGE ODMK )  INSIDE EDGE PPLUS ) < 0.42 ABUT>0<90 REGION
//  E NOT LOGOMK
//}

PLY.W.TG33 {@ Minimum PO1 width over TG of 3.3V device ( for 3.3V +/- 10% voltage tolerance ) is 0.37um
  E =  INT GATE_W_TG  < 0.37 ABUT>0<90 REGION
  E NOT LOGOMK
}

//PLY.W.TG33s {@ Minimum PO1 width over TG of 3.3V device ( for 3.3V +/- 10% voltage tolerance ) is 0.41um
//             @ NOT over 3P3V_GOX52_IMPLANT_MARK
//  E =  INT ( GATE_W_TG NOT INSIDE EDGE GOX523P3VIMPMK ) < 0.41 ABUT>0<90 REGION
//  E NOT LOGOMK
//}

PLY_G.S1 {@ Minimum PO1 spacing on diffusion regions is 0.13um
  E = EXT GATE_W < 0.13 ABUT<90 REGION
  E NOT LOGOMK
}

//PLY_G.S1s {@ Minimum PO1 spacing on diffusion regions is 0.15um
//           @ For shrinkable case
//  E = EXT GATE_W < 0.15 ABUT<90 REGION
//  E NOT LOGOMK
//}

PLY_G.S.TG {@ Minimum Poly spacing on diffusion regions for IO(TG) is 0.18um
   E = EXT GATE_W_TG  GATE_W < 0.18 ABUT>0<90 REGION
   E NOT LOGOMK
}

PLY_G.S {@ Minimum spacing of parallel PO1 gates is at least one PO1 width >=0.3um is 0.15um
   X = (GATE WITH WIDTH >= 0.3) COIN INSIDE EDGE PO1
   E = EXT X  GATE_W  < 0.15 ABUT>0<90 REGION
   E NOT LOGOMK
}

PLY_F.S2 {@ Minimum spacing and notch of PO1 on filed is 0.12um
   X = EXT  PO1 < 0.12 ABUT>0<90 SINGULAR REGION
   E = X  NOT ( MEMORY_MARK_55 OR MEMORY_MARK_65 )
   E NOT LOGOMK
}

PLY_F.S.TG {@ Minimum Poly spacing on field regions is 0.18um
            @ over TG
   X = PO1 INTERACT (GATE AND TG)
   E = EXT X PO1 < 0.18 ABUT>0<90 SINGULAR REGION
   E NOT LOGOMK
}

PLY_DF.S3_.S4__PLY_F_DF.S7 {@ Minimum spacing of PO1 end cap to related diffusion is 0.05um
          @ Minimum spacing of PO1 corner to diffusion if PO1 common run length with adjacent,parallel diffusion <= 0.2um is 0.05um
          @ Minimum spacing of PO1 on field to diffusion is 0.05um

    E = EXT PO1 DIFF < 0.05 ABUT<90 SINGULAR REGION
    E NOT ( ( ( MEMORY_MARK_55 OR MEMORY_MARK_65 ) OR LOGOMK ) OR URAMMK )
}


// PLY_DF.S4 checked by PLY_DF.S3

PLY_DF.S5 {@ Minimum spacing of PO1 corner to diffusion is 0.07 um
           @ if PO1 common run length with adjacent, parallel diffusion > 0.37 um
           @ PO1 and diffusion on the same MOS

   A = EXT DIFF EXPOL < 0.01 ABUT == 90 REGION       
   B = A COIN OUTSIDE EDGE DIFF 
   C = ( ( EXPAND EDGE B OUTSIDE BY 0.001 EXTEND BY 0.37 ) TOUCH OUTSIDE EDGE B ) NOT OUTSIDE EDGE EXDIFF   
   D = EXT EXPOL [C] < 0.07 OPPOSITE
   E = ( LENGTH D > 0.37 ) TOUCH EDGE A
   F = EXT EXPOL E < 0.07 REGION 
   ( F NOT LOGOMK ) NOT MEMORY_MARK_65
}

PLY_F_DF.S6 {@ Minimum spacing of PO1 on field to diffusion when PO1 across diffusion notch with spacing < 0.17um is 0.12um 
   X = EXT DIFF < 0.17 ABUT>0<90 NOTCH OPPOSITE REGION
   Y = DIFF TOUCH EDGE X
   Z = PO1 AND X
   A = Z TOUCH GATE == 2
   E = EXT A Y < 0.12 OPPOSITE PROJ<= 0.3 REGION
   E NOT LOGOMK
}

// PLY_F_DF.S7 checked by PLY_DF.S3

PLY_DF.S8 {@ Minimum spacing of 90 degree POLY1 corner to 90 degree DIFFUSION corner is 0.14 um

    DIFF_90 =  CONVEX EDGE DIFF == 1
    PO1_90  =  CONVEX EDGE PO1  == 1
    
    DIFF_EP_X =  EXPAND EDGE DIFF_90 INSIDE BY 0.005
    PO1_EP_X  =  EXPAND EDGE PO1_90  INSIDE BY 0.005
    
    DIFF_EP_Y =  EXPAND EDGE DIFF_90 INSIDE BY 0.005 CORNER FILL
    PO1_EP_Y  =  EXPAND EDGE PO1_90  INSIDE BY 0.005 CORNER FILL
    
    DIFF_CORNER = DIFF_EP_Y  NOT  DIFF_EP_X
    PO1_CORNER  = PO1_EP_Y   NOT  PO1_EP_X
    
    DIFF_EP_Z =  (EXPAND EDGE DIFF_90 OUTSIDE BY 0.005 CORNER FILL)  INTERACT  GATE
    PO1_EP_Z  =  (EXPAND EDGE PO1_90  OUTSIDE BY 0.005 CORNER FILL)  INTERACT  GATE
    
    DONUT1 = (DIFF_EP_Z OR  PO1_EP_Z) NOT (DIFF OR PO1)
    DONUTX = DONUT DONUT1
    
    E = EXT DIFF_CORNER PO1_CORNER < 0.14 ABUT<90 CORNER TO CORNER REGION 
    (E  INTERACT DONUTX)  NOT  LOGOMK
}


PLY_DF.L1 {@ Minimum POLY1 endcap length is 0.12um
   E = ENC DIFF PO1 < 0.12 ABUT<90 REGION
   ( ( (E NOT ( MEMORY_MARK_55 OR MEMORY_MARK_65 ) ) INTERACT END_CAP ) NOT LOGOMK ) NOT URAMMK
}

PLY_DF.OH1 {@ Minimum PO1 overhang of DIFF is 0.11um   
   E = ENC DIFF PO1 < 0.11 ABUT<90 SINGULAR REGION
   E NOT ( ( ( MEMORY_MARK_55 OR MEMORY_MARK_65 )  OR LOGOMK ) OR URAMMK )
}

PLY_DF.OH2 {@ Minimum PO1 overhang of DIFF(PO1 end cap) is 0.14um
            @ If spacing of PO1 to three adjacent PO1 < 0.13um
    X = EXT END_CAP PO1 < 0.13 OPPOSITE REGION
    Y = END_CAP INTERACT X > 2
    E = ENC DIFF_W_ECAP Y < 0.14 ABUT>0<90 MEASURE COIN REGION
    ( E NOT LOGOMK ) NOT URAMMK
}

DF_PLY_G.OH4 {@ Minimum diffusion overhang of PO1 gate is 0.115um
   E = ENC GATE_W DIFF < 0.115 ABUT<90  REGION 
   E NOT ( ( MEMORY_MARK_55 OR MEMORY_MARK_65 ) OR LOGOMK )
}

DF_PLY_G.OH.TG {@ Minimum diffusion overhang of PO1 gate over TG is 0.115um
   E = ENC GATE_W_TG DIFF < 0.115 ABUT<90 REGION
   E NOT LOGOMK
}

PLY_G.AX {@ Maximum PO1 overlap of DIFF region area is 6400 sq.um
   E = AREA GATE > 6400
   E NOT LOGOMK
}

PLY.A {@ Minimum PO1 area is 0.0375 sq.um
   X = AREA PO1 < 0.0375
   X NOT ( ( MEMORY_MARK_55 OR MEMORY_MARK_65 ) OR LOGOMK )
}

PLY.EA {@ Minimum PO1 enclosed area is 0.077 sq.um
   A = HOLES PO1 INNER < 3.85 // SELECT INNER HOLES AREA < 50 X a
   B = A NOT PO1 // SELECT ENCLOSED AREA    
   E = AREA B < 0.077 
   E NOT LOGOMK
}

//

GROUP POLY_DENSITY  PLY.D?


PLY.D {@ Minimum POLY1 density over 1mm X 1mm area ( stepped in 500um increments across the chip ) is 15%. 
       @ Exclude CAD_TESTKEY_MARK 
   PO1_ALL = PO1 OR PO1DUMY
   DENSITY PO1_ALL CHIP_NOT_TESTKEYMK INSIDE OF LAYER COPY_CHIP_NOT_TESTKEYMK < 0.15 WINDOW 1000 STEP 500 BACKUP PRINT POLY.D.DEN
   [AREA(PO1_ALL)/AREA(CHIP_NOT_TESTKEYMK)] 

//   DENSITY PO1_ALL CHIP_NOT_TESTKEYMK INSIDE OF LAYER COPY_CHIP_NOT_TESTKEYMK < 0.15 WINDOW 1000 STEP 500 BACKUP RDB ONLY results.rdb 
//   [AREA(PO1_ALL)/AREA(CHIP_NOT_TESTKEYMK)]  
//RDB ONLY  
}

PLY.DX {@ The PO1 coverage must be less than 75% of entire chip area
   PO1_ALL = PO1 OR PO1DUMY
   DENSITY PO1_ALL INSIDE OF LAYER DRC:1 > 0.75 WINDOW 1000 STEP 500  PRINT POLY.DX.DEN
}

PLY_G.R1 {@ POLY1 Bent gate is not allowed
   X = VERTEX GATE > 4
   E = X NOT ( ( ( MEMORY_MARK_55 OR MEMORY_MARK_65 ) OR LOGOMK ) OR URAMMK ) 
   E OUTSIDE SDSYM // waived by 65nm LL eDRAM rule B.A PB.
}

PLY_G.R2__PLY.R3 {@ POLY1 over field region may only turn at 90 degree.
                  @ POLY1 may only intersect DIFFUSION at 90 degree.
   E = ANGLE PO1 >0<90
   ( E OUTSIDE EDGE LOGOMK ) OUTSIDE EDGE URAMMK 
}

// PLY.R3 covered by PLY_DF.S3_.S4__PLY_F_DF.S7
//




// POLY DUMMY RULES

PLYDM.W4 {@ Minimum POLY1_CUSTOMER_DUMMY width is 1.1 um
   E = INT PO1DUMY < 1.1 ABUT<90 SINGULAR REGION
   E NOT LOGOMK
}

PLYDM.S9 {@ Minimum spacing and notch of POLY1_CUSTOMER_DUMMY is 0.9 um
   E = EXT PO1DUMY < 0.9 ABUT<90 SINGULAR REGION
   E NOT LOGOMK
}

PLYDM_NW.S10 {@ Minimum spacing of POLY1_CUSTOMER_DUMMY to NWEL is 0.6 um
   E = EXT PO1DUMY NWEL < 0.6 ABUT<90 OVERLAP SINGULAR REGION
   E NOT LOGOMK
}

PLYDM_NW.EN1 {@ Minimum N_WELL enclosure of POLY1_CUSTOMER_DUMMY is 0.6 um
   E = ENC PO1DUMY NWEL < 0.6 ABUT<90 OVERLAP SINGULAR REGION
   E NOT LOGOMK
}

PLYDM_AW.S11 {@ Minimum spacing of POLY1_CUSTOMER_DUMMY to AW is 0.6 um
   E = EXT PO1DUMY AW < 0.6 ABUT<90 OVERLAP SINGULAR REGION
   E NOT LOGOMK
}

PLYDM_AW.EN2 {@ Minimum AW enclosure of POLY1_CUSTOMER_DUMMY is 0.6 um
   E = ENC PO1DUMY AW < 0.6 ABUT<90 OVERLAP SINGULAR REGION
   E NOT LOGOMK
}

// Removed in 1.11 P1
//PLYDM_TG.S12 {@ Minimum spacing of POLY1_CUSTOMER_DUMMY to TG is 0.6 um
//   E = EXT PO1DUMY TG < 0.6 ABUT<90 OVERLAP SINGULAR REGION
//   E NOT LOGOMK
//}
//
//Removed in 1.11 P1
//PLYDM_TG.EN3 {@ Minimum TG enclosure of POLY1_CUSTOMER_DUMMY is 0.6 um
//   E = ENC PO1DUMY TG < 0.6 ABUT<90 OVERLAP SINGULAR REGION
//   E NOT LOGOMK
//}
//

PLYDM_DF.S13 {@ Minimum spacing of POLY1_CUSTOMER_DUMMY to DIFFUSION is 1.2 um
   E1 = EXT PO1DUMY DIFF < 1.2 ABUT<90 OVERLAP SINGULAR REGION
   E1 NOT LOGOMK
   E2 = PO1DUMY AND DIFF
   E2 NOT LOGOMK
}

PLYDM_PLY.S14 {@ Minimum spacing of POLY1_CUSTOMER_DUMMY to POLY1 is 1.2 um
   E1 = EXT PO1DUMY PO1 < 1.2 ABUT<90 OVERLAP SINGULAR REGION
   E1 NOT LOGOMK
   E2 = PO1DUMY AND PO1
   E2 NOT LOGOMK   
}

PLYDM_NWR.S15 {@ Minimum spacing of POLY1_CUSTOMER_DUMMY to N_WELL_RESISTOR is 1.2 um
   E1 = EXT PO1DUMY NWR < 1.2 ABUT<90 OVERLAP SINGULAR REGION
   E2 = PO1DUMY AND NWR
   E1 NOT LOGOMK
   E2 NOT LOGOMK   
}

PLYDM_PLYDM.S16 {@ Minimum spacing of POLY1_CUSTOMER_DUMMY to POLY1_DUMMY_BLOCK is 1.2 um
   E = EXT PO1DUMY PLYDMBK < 1.2 ABUT<90 OVERLAP SINGULAR REGION
   E NOT LOGOMK
}

PLYDM_FM.S17 {@ Minimum spacing of POLY1_CUSTOMER_DUMMY to FUSE_MARK is 1.2 um
   E1 = EXT PO1DUMY FUSEMARK < 1.2 ABUT<90 OVERLAP SINGULAR REGION
   E2 = PO1DUMY AND FUSEMARK
   E1 NOT LOGOMK
   E2 NOT LOGOMK
}



//================================
//===  N+ Implant Rules (P98)  ===
//================================
//

OFF_GRID_NPLUS {@ Grid SIZE of NPLUS is 0.001
  OFFGRID NPLUS 1

}

SKEW_EDGE_NPLUS {@ SKEW EDGE 
   ANGLE NPLUS >0<45
   ANGLE NPLUS >45<90
} 

NSD.W1 {@ Minimum width of a NPLUS region is 0.18um
   E = INT NPLUS < 0.18 ABUT>0<90 SINGULAR REGION
   E NOT LOGOMK 
}

NSD.S1 {@ Minimum space between two NPLUS regions is 0.18um
   E = EXT NPLUS < 0.18 ABUT>0<90 SINGULAR REGION
   ( E NOT LOGOMK ) NOT MEMORY_MARK_55
}

NSD_P_DF.S2.NW {@ Minimum NPLUS to P+ DIFF spacing (over N-Well not over T_WELL) is 0.09
   X = EXT NPLUS ACTIVE_NW < 0.09  ABUT<90 SINGULAR REGION
   X NOT ( ( MEMORY_MARK_55 OR MEMORY_MARK_65 ) OR LOGOMK )
}

NSD_P_DF.S3.PW {@ Minimum NPLUS to P+ DIFF spacing(inside P-Well) is 0.02
   E = EXT NPLUS ACTIVE_PS < 0.02 ABUT<90 SINGULAR REGION
   E NOT LOGOMK
}

NSD_PLY_PG.S4 {@ Minimum spacing of N+ implant to PMOS gate is 0.15um
               @ Extra check NPLUS over PMOS GATE
   E1 = EXT GATE_L NPLUS < 0.15 ABUT<90 REGION
   E1 NOT ( ( MEMORY_MARK_55 OR MEMORY_MARK_65 ) OR LOGOMK )
   E2 = PGATE AND NPLUS  
   E2 NOT ( ( MEMORY_MARK_55 OR MEMORY_MARK_65 ) OR LOGOMK )  
}

NSD_N_DF.EN1.NW {@ Minimum NPLUS overlap N+ DIFF over N-Well is 0.02um
   E1 = ENC ACTIVE_NW  NPLUS < 0.02 ABUT<90 SINGULAR  REGION
   ( ( E1 NOT LOGOMK ) NOT MEMORY_MARK_65 )  NOT MEMORY_MARK_55
   E2 = ENC ACTIVE_NW ( NPLUS NOT COIN OUTSIDE EDGE PPLUS ) < 0.001  ABUT REGION
   ( ( E2 NOT LOGOMK ) NOT MEMORY_MARK_65  ) NOT MEMORY_MARK_55  
}

NSD_N_DF.EN2.PW {@ Minimum NPLUS overlap N+ DIFF over P-Well is 0.09um 
   E1 = ENC ACTIVE_PS NPLUS  < 0.09 ABUT<90 SINGULAR REGION
   E1 NOT ( ( MEMORY_MARK_55 OR MEMORY_MARK_65 ) OR LOGOMK )   
   E2 = ENC ACTIVE_PS ( NPLUS NOT COIN OUTSIDE EDGE PPLUS ) < 0.001  ABUT REGION
   E2 NOT ( ( MEMORY_MARK_55 OR MEMORY_MARK_65 ) OR LOGOMK )  
}

NSD_PLY_NG.EN3 {@ Minimum NPLUS enclosure of NMOS gate is 0.15um
   X = ENC GATE_L NPLUS < 0.15 ABUT<90 REGION
   X NOT ( ( MEMORY_MARK_55 OR MEMORY_MARK_65 ) OR LOGOMK )
   E = GATE CUT NPLUS
   E NOT ( ( MEMORY_MARK_55 OR MEMORY_MARK_65 ) OR LOGOMK )
}

NSD_NPRS.EN5 {@ Minimum N+ implant enclosure of N+ POLY1 salicide resistor is 0.15um
   E = ENC ( ( PO1 AND PSYMBOL ) OUTSIDE SAB ) NPLUS < 0.15 ABUT SINGULAR REGION
   E NOT LOGOMK
} 

NSD.A {@ Minimum NPLUS area is 0.122 sq.um
   E = AREA NPLUS < 0.122
   E NOT LOGOMK
}

NSD.EA {@ Minimum NPLUS enclosed areais  0.122 sq.um
   A = HOLES NPLUS INNER < 6.1 // SELECT INNER HOLES AREA < 50 X a
   B = A NOT NPLUS // SELECT ENCLOSED AREA    
   E = AREA B < 0.122
   E NOT LOGOMK
}

//
//===================================
//===   N+/P+ Butting Rules (P97) ===
//=================================== 
//

//
EXP_NW   = SIZE NWELL BY 0.16
EXP_PTAP = SIZE EXP_PTAP_MG BY 14 OUTSIDE OF NWEL STEP 0.5
NDIF_MOS = NDIF INTERACT PO1
EXP_PTAP_MG = SIZE PTAP BY 16 OUTSIDE OF NWEL STEP 0.5
//

N_DF_P_PU.S5.PW {@ Maximum NPLUS diffusion to nearest P+ pick-up spacing is 30um
                 @ IO, RAM, ROM, capacitor and diode are excepted.
   X = NDIF_MOS NOT EXP_PTAP
   X NOT ( ( ( ( ( MEMORY_MARK_55 OR MEMORY_MARK_65 ) OR IOID )  OR LOGOMK ) OR DSYMBOL ) OR CSYMBOL )
}// ROM area is not defined in current document.


//EXP_PTAP_TWEL = SIZE PTAP BY 15 INSIDE OF TWEL STEP 0.5

//

NPBJ_PLY_PG.S6 {@ Minimum N+ implant to PO1 spacing to form P+ S/D region is 0.22um         
   X = EXT GATE_W BUT_NPLUS < 0.22 ABUT<90 REGION
  ( ( X NOT INTERACT TG ) NOT LOGOMK ) NOT ( MEMORY_MARK_55 OR MEMORY_MARK_65 )
}

NPBJ_PLY_PG.S.TG {@ Minimum N+ implant to PO1 spacing to form P+ S/D over TG region is 0.3um         
   X = EXT GATE_W BUT_NPLUS < 0.3 ABUT<90 REGION
   ( X INTERACT TG ) NOT LOGOMK
}

NPBJ_PLY_NG.S7 {@ Minimum spacing of N+/P+ butted junction edge to NMOS gate is 0.22um         
   X = ENC GATE_W BUT_NPLUS < 0.22 ABUT REGION
   (( X NOT INTERACT TG ) NOT LOGOMK ) NOT MEMORY_MARK_65
}

NPBJ_PLY_NG.S.TG {@ Minimum spacing of N+/P+ butted junction edge to NMOS gate over TG is 0.3um        
   X = ENC GATE_W BUT_NPLUS < 0.3 ABUT REGION
   ( X INTERACT TG ) NOT LOGOMK
}

NSD_CT_P_DF.S8 {@ Minimum NPLUS implant to P+ contact spacing is 0.06um
   E1 = EXT DIFCNT BUT_NPLUS < 0.06 ABUT<90 REGION
   ( E1 NOT LOGOMK ) NOT ( MEMORY_MARK_55 OR MEMORY_MARK_65 )
   E2 = BUT_NPLUS  INSIDE  EDGE  DIFCNT
   ( E2 OUTSIDE EDGE LOGOMK ) OUTSIDE EDGE ( MEMORY_MARK_55 OR MEMORY_MARK_65 )
}

N_DF_P_DF.S9__P_DF_N_DF.S9 {@ Minimum NPLUS to P+ DIFF space in the same potential is 0 um
   x = NPLUS AND PPLUS
   ( x AND DIFF ) NOT LOGOMK
}

NSD_CT_N_DF.EN4 {@ Minimum NPLUS overlap CO region is 0.06um, no butted contact.
   E = ENC DIFCNT BUT_NPLUS < 0.06 ABUT REGION
   E NOT LOGOMK

}

P_DF_NSD.OH1 {@ Minimum DIFF extension over N+ implant to form P+ region is 0.13 um
   E = ENC BUT_NPLUS DIFF < 0.13 ABUT<90 REGION
   ( E NOT LOGOMK ) NOT ( MEMORY_MARK_55 OR MEMORY_MARK_65 )
}

NSD_DF.OL1 {@ Minimum N+ implant overlap DIFF to form N+ region is 0.13um
   E = INT DIFF BUT_NPLUS < 0.13 ABUT<90 REGION
   ( E NOT LOGOMK ) NOT ( MEMORY_MARK_55 OR MEMORY_MARK_65 ) 
}

NSD_.PSD.R {@ Soft CONTACTs are prohibited
   E1 = BUT_PS   NOT ENCLOSE CONT
   E2 = BUT_NS   NOT ENCLOSE CONT
   E3 = BUT_NTAP NOT ENCLOSE CONT
   E4 = BUT_PTAP NOT ENCLOSE CONT
   ( E1 NOT LOGOMK ) NOT ( MEMORY_MARK_55 OR MEMORY_MARK_65 )
   ( E2 NOT LOGOMK ) NOT ( MEMORY_MARK_55 OR MEMORY_MARK_65 )
   ( E3 NOT LOGOMK ) NOT ( MEMORY_MARK_55 OR MEMORY_MARK_65 )
   ( E4 NOT LOGOMK ) NOT ( MEMORY_MARK_55 OR MEMORY_MARK_65 )
}


//
//================================
//===  P+ Implant Rules (P97)  ===
//================================
//

OFF_GRID_PPLUS {@ Grid SIZE of PPLUS is 0.001
  OFFGRID PPLUS 1

}

SKEW_EDGE_PPLUS {@ SKEW EDGE 
   ANGLE PPLUS >0<45
   ANGLE PPLUS >45<90
} 

PSD.W1 {@ Minimum PPLUS IMPLANT width is 0.18um
   E = INT PPLUS < 0.18 ABUT>0<90 SINGULAR REGION
   ( E NOT LOGOMK ) NOT MEMORY_MARK_55
}

PSD.S1 {@ Minimum spacing and notch of PPLUS is 0.18um
   E = EXT PPLUS < 0.18 ABUT>0<90 SINGULAR REGION
   E NOT LOGOMK
}

PSD_N_DF.S2.NW {@ Minimum spacing of P+ implant to ( N+ DIFFUSION over N_WELL ) is 0.02um
   E = EXT PPLUS ACTIVE_NW < 0.02 ABUT<90 SINGULAR REGION
   E NOT LOGOMK
}

PSD_N_DF.S3.PW {@ Minimum spacing of P+ implant to ( N+ DIFFUSION over P-Well) is 0.09um
  E = EXT PPLUS ACTIVE_PS < 0.09  ABUT<90 SINGULAR REGION
   E NOT ( ( MEMORY_MARK_55 OR MEMORY_MARK_65 ) OR LOGOMK )
}

PSD_PLY_NG.S4 {@ Minimum P+ implant to PO1 gate edge spacing is 0.15um
   X = EXT PPLUS GATE_L < 0.15  ABUT<90 REGION
   X NOT ( ( MEMORY_MARK_55 OR MEMORY_MARK_65 ) OR LOGOMK )
}

PSD_P_DF.EN1.PW {@ Minimum P+ implant enclosure of ( P+ diffusion over PWEL_ALL ) is 0.02um   
   E1 = ENC ACTIVE_PS PPLUS < 0.02 ABUT<90 SINGULAR REGION
   E1 NOT LOGOMK
   E2 = ENC ACTIVE_PS ( PPLUS NOT COIN OUTSIDE EDGE NPLUS ) < 0.001  ABUT REGION
   E2 NOT LOGOMK   
}

PSD_P_DF.EN2.NW {@ Minimum P+ implant enclosure of ( P+ diffusion over NWEL ) is 0.09um
   E1 = ENC ACTIVE_NW  PPLUS   < 0.09  ABUT<90 SINGULAR REGION
   E1 NOT ( ( MEMORY_MARK_55 OR MEMORY_MARK_65 ) OR LOGOMK )
   E2 = ENC ACTIVE_NW ( PPLUS NOT COIN OUTSIDE EDGE NPLUS )  < 0.001  ABUT REGION
   E2 NOT ( ( MEMORY_MARK_55 OR MEMORY_MARK_65 ) OR LOGOMK )     
}

PSD_PLY_PG.EN3 {@ Minimum P+ implant enclosure of PMOS gate is 0.15um
   X = ENC GATE_L PPLUS < 0.15 ABUT<90 REGION
   X NOT ( ( MEMORY_MARK_55 OR MEMORY_MARK_65 ) OR LOGOMK )
   E = GATE CUT PPLUS
   E NOT ( ( MEMORY_MARK_55 OR MEMORY_MARK_65 ) OR LOGOMK )
}

PSD_PPRS.EN5 {@ Minimum P+ implant enclosure of P+ POLY1 salicide resistor is 0.15um
   E = ENC ( ( PO1 AND PSYMBOL ) OUTSIDE SAB ) PPLUS < 0.15 ABUT SINGULAR REGION
   E NOT LOGOMK
}

PSD.A {@ Minimum PPLUS area is 0.122 sq.um
   E = AREA PPLUS < 0.122
   ( E NOT LOGOMK ) NOT ( MEMORY_MARK_55 OR MEMORY_MARK_65 )
}

PSD.EA {@ Minimum PPLUS enclosed area is 0.122 sq.um
   A = HOLES PPLUS INNER < 6.1 // SELECT INNER HOLES AREA < 50 X a
   B = A NOT PPLUS // SELECT ENCLOSED AREA    
   E = AREA B < 0.122 
   E NOT LOGOMK
}

//
//===================================
//===   N+/P+ Butting Rules (P97) ===
//=================================== 
//

EXP_NTAP = SIZE ( NTAP AND NPLUS ) BY 30 INSIDE OF NWEL STEP 0.5

//

P_DF_N_PU.S5.NW {@ Maximum spacing of P+ DIFFUSION to the nearest ( N+ pick-up within N_WELL )  is 30um
                 @ IO, RAM, ROM, capacitor and diode are excepted.
   X = (PDIF INTERACT PO1)  NOT  EXP_NTAP   
   X NOT ((((( MEMORY_MARK_55 OR MEMORY_MARK_65 ) OR IOID)  OR LOGOMK ) OR DSYMBOL ) OR CSYMBOL )
} //ROM area is not defined in current document.

NPBJ_PLY_NG.S6 {@ Minimum spacing of N+/P+ butted junction edge to NMOS gate is 0.22um
       
   X = EXT GATE_W BUT_PPLUS < 0.22 ABUT<90 REGION
   E = X NOT INTERACT TG
   ( E NOT LOGOMK ) NOT MEMORY_MARK_65
}

NPBJ_PLY_NG.S.TG.P {@ Minimum spacing of N+/P+ butted junction edge to NMOS gate over TG is 0.3um      
   X = EXT GATE_W BUT_PPLUS < 0.3 ABUT<90 REGION
   E = X INTERACT TG
   E NOT LOGOMK
}

NPBJ_PLY_PG.S7 {@ Minimum spacing of N+/P+ butted junction edge to PMOS gate is 0.22um     
   X = ENC GATE_W BUT_PPLUS < 0.22 ABUT REGION
   E = X NOT INTERACT TG
   ( E NOT LOGOMK ) NOT ( MEMORY_MARK_55 OR MEMORY_MARK_65 )
}

NPBJ_PLY_PG.S.TG.P {@ Minimum spacing of N+/P+ butted junction edge to PMOS gate over TG is 0.3um
       
   X = ENC GATE_W BUT_PPLUS < 0.3 ABUT REGION
   E = X INTERACT TG
   E NOT LOGOMK
}

PSD_CT_N_DF.S8 {@ Minimum PPLUS implant to N+ contact spacing is 0.06um
   E1 = EXT DIFCNT BUT_PPLUS < 0.06 ABUT<90 REGION
   E1 NOT LOGOMK
   E2 = BUT_PPLUS  INSIDE  EDGE  DIFCNT
   E2 OUTSIDE EDGE LOGOMK
}

// P_DF_N_DF.S9  checked by  N_DF_P_DF.S9


PSD_CT_P_DF.EN4 {@ Minimum PPLUS overlap CONTACT region is 0.06um, no butted contact.
   E = ENC DIFCNT BUT_PPLUS < 0.06 ABUT REGION
   ( E NOT LOGOMK )  NOT ( MEMORY_MARK_55 OR MEMORY_MARK_65 )
}

N_DF_PSD.OH1 {@ Minimum DIFF extension over P+ implant to form N+ region is 0.13um
   E = ENC BUT_PPLUS DIFF < 0.13 ABUT<90 REGION
   ( E NOT LOGOMK ) NOT ( MEMORY_MARK_55 OR MEMORY_MARK_65 )
}

PSD_DF.OL1 {@ Minimum P+ implant overlap DIFF to form P+ region is 0.13um
   E = INT DIFF BUT_PPLUS < 0.13 ABUT<90 REGION
   ( E NOT LOGOMK ) NOT ( MEMORY_MARK_55 OR MEMORY_MARK_65 )
}


//
//==========================================
//===  Salicide-Block (SAB) Rules (P29)  ===
//==========================================
//
SAB_DIF_RES = ( ( ( DIFF INTERACT SAB ) NOT INTERACT PO1 ) INTERACT CONT ) NOT INTERACT BIPOLAR   // SAB diff resistor

P_SAB_DIF_RES = SAB_DIF_RES    INTERACT    PPLUS
N_SAB_DIF_RES = SAB_DIF_RES  NOT INTERACT  PPLUS

SBLK_DIFF    = DIFF        INTERACT  SBLK     // ACTIVE with SBLK
IO_SD_SBLK   = SBLK_DIFF   INTERACT  GATE     // SBLK DIFF with gates
IO_SDa_SBLK  = IO_SD_SBLK    NOT     GATE     // I/O S/D
IO_D_SBLK    = IO_SDa_SBLK INTERACT  SBLK     // I/O drain
IO_SBLK      = SBLK        INTERACT  IO_SD_SBLK

aSAB_POL  = EXPOL      INTERACT    SAB        // SAB poly resistor
SAB_POL   = ( aSAB_POL NOT INTERACT  HR ) NOT INTERACT MR       // NON-HR/MR SAB poly resistor
hSAB_POL  = aSAB_POL   INTERACT    HR         // HR SAB poly resistor
P_SAB_POL = SAB_POL    INTERACT    PPLUS
N_SAB_POL = SAB_POL  NOT INTERACT  PPLUS


//

OFF_GRID_SAB {@ Grid SIZE of SAB is 0.005
  OFFGRID SAB 5
}

SKEW_EDGE_SAB {@ SKEW EDGE 
   ANGLE SAB >0<45
   ANGLE SAB >45<90
} 

SAB.W1 {@ Minimum SAB width is 0.36um
   E = INT SAB < 0.36 ABUT>0<90 SINGULAR REGION
   E NOT LOGOMK
}

SAB.S1 {@ Minimum SAB space is 0.36um
   E = EXT SAB < 0.36 ABUT>0<90 SINGULAR REGION
   E NOT LOGOMK
}

SAB_DF.S2 {@ Minimum SAB to unrelated DIFF spacing is 0.15
   E = EXT SAB DIFF < 0.15 ABUT<90 SINGULAR REGION
   E NOT LOGOMK
}

SAB_PLY.S3 {@ Minimum SAB to unrelated PO1 spacing is 0.20
   E = EXT SAB PO1 < 0.20 ABUT<90 SINGULAR REGION
   E NOT LOGOMK
}

SAB_CT.S4 {@ Minimum SAB to contact spacing is 0.18
    E = EXT SAB CONT < 0.18 ABUT<90 SINGULAR INSIDE ALSO REGION
    E NOT LOGOMK
}

SAB_DNRS.OH1 {@ Minimum SAB overhang of N+/P+ DIFFUSION  non-salicide-resistor is 0.17um
    E1 = ENC N_SAB_DIF_RES SAB < 0.17 ABUT<90 SINGULAR REGION
    E1 NOT LOGOMK
    E2 = ENC P_SAB_DIF_RES SAB < 0.17 ABUT<90 SINGULAR REGION
    E2 NOT LOGOMK
}

SAB_PNRS.OH2 {@ Minimum SAB overhang of P+/N+ PO1 non-salicide-resistor is 0.17um
   E1 = ENC P_SAB_POL SAB < 0.17 ABUT<90 SINGULAR REGION
   E1 NOT LOGOMK
   E2 = ENC N_SAB_POL SAB < 0.17 ABUT<90 SINGULAR REGION
   E2 NOT LOGOMK
} //Rules about SAB overhang of MR/HR POLY resistor are implanted in MR/HR section.

SAB.A {@ Minimum SAB area is 0.3 sq.um
   E = AREA SAB < 0.3
   E NOT LOGOMK
}

SAB.EA {@ Minimum SAB enclosed area is 0.3 sq.um
   A = HOLES SAB INNER < 15 // SELECT INNER HOLES AREA < 50 X a
   B = A NOT SAB // SELECT ENCLOSED AREA    
   E = AREA B < 0.3
   E NOT LOGOMK
}

SAB.R1 {@ Contact over SAB is not allowed
   ( CONT AND SAB ) NOT LOGOMK
}

PNRS.W2 {@ Minimum N+/P+ POLY1 non-salicide resistor width is 0.36um
   X = P_SAB_POL INSIDE EDGE SAB 
   E1 = INT X < 0.36 ABUT>0<90 REGION 
   ( E1 NOT LOGOMK ) NOT NS_REX
   Y = N_SAB_POL INSIDE EDGE SAB 
   E2 = INT Y < 0.36 ABUT>0<90 REGION 
   ( E2 NOT LOGOMK ) NOT NS_REX
   
   Z = P_SAB_POL INSIDE EDGE SAB 
   E3 = INT Z < 0.13 ABUT>0<90 REGION    
   ( E3 NOT LOGOMK ) AND NS_REX    
   U = N_SAB_POL INSIDE EDGE SAB 
   E4 = INT U < 0.13 ABUT>0<90 REGION 
   ( E4 NOT LOGOMK ) AND NS_REX  
    
   //   For N+/P+ POLY1 non-salicide resistor within NS_REX, 
   // this rule is waived to 0.13 um by 
   // DSM: G-03-LOGIC/MIXED_MODE65N-LL-TLR-B A.B phase B.     
} //Rules about width of HR/MR POLY1 non-salicide resistor are implanted in MR/HR section. 
  //(HRP_PLY.W2/MRP_PLY.W2)

PNRS.L1 {@ Minimum P+(N+) PO1 non-salicide resistor length is 0.70um 
   X = SAB INSIDE EDGE P_SAB_POL
   E1 = INT X < 0.70 ABUT OPPOSITE REGION 
   E1 NOT LOGOMK
   Y = SAB INSIDE EDGE N_SAB_POL
   E2 = INT Y < 0.70 ABUT OPPOSITE REGION 
   E2 NOT LOGOMK
} //Rules about width of HR/MR POLY1 non-salicide resistor are implanted in MR/HR section. 
  //(HRP_SAB.W3/MRP_SAB.W3)

PPNRS.S5__NPNRS.S10 {@ Minimum spacing of two P+(N+) Poly non-salicide resistors body without common run length is 0.6um
   E1 = EXT ( P_SAB_POL AND SAB )  < 0.6 CORNER TO CORNER REGION	
   E1 NOT LOGOMK
   E2 = EXT ( N_SAB_POL AND SAB )  < 0.6 CORNER TO CORNER REGION
   E2 NOT LOGOMK
}

PPNRS_NW.S6 {@ Minimum P+ PO1 non-salicide resistor to N-WELL spacing is 0.20 
   E = EXT  P_SAB_POL  NWEL < 0.20 ABUT<90 SINGULAR REGION 
   E NOT LOGOMK
} //Rules about spacing between NWEL and HR/MR POLY1 non-salicide resistor are implanted in MR/HR section. 
  //(HRP_NW.S8/MRP_NW.S8)

PSD_NDNRS.S7  {@ Minimum PPLUS to N+ DIFFUSION resistor spacing is 0.18
   E1 = EXT  N_SAB_DIF_RES  PPLUS < 0.18 ABUT  SINGULAR REGION
   E1 NOT LOGOMK
   E2 = EXT SAB_DIF_RES PPLUS < 0.01 ABUT <90 SINGULAR REGION  // To complete the N_SAB_DIF_RES check for touch case  
   E2 NOT LOGOMK                                               // Due to the definition of N_SAB_DIF_RES.  
}

NSD_PDNRS.S11 {@ Minimum NPLUS to P+ DIFFUSION resistor spacing is 0.18
   E1 = EXT P_SAB_DIF_RES NPLUS < 0.18 ABUT < 90 SINGULAR REGION
   E1 NOT LOGOMK
   E2 = P_SAB_DIF_RES AND NPLUS 
   E2 NOT LOGOMK  
} 

NSD_PPNRS.S8  {@ Minimum N+ to P+POLY1 non-salicide resistor spacing is 0.20 
               @ Extra check NPLUS inside P+POLY1 non-salicide resistor case
               @ Extra check MR/HR area.         
   E1 = EXT P_SAB_POL  NPLUS < 0.20 ABUT < 90 SINGULAR INSIDE ALSO REGION 
   E1 NOT LOGOMK
   E2 = EXT HRPOLY     NPLUS < 0.20 ABUT < 90 SINGULAR INSIDE ALSO REGION 
   E2 NOT LOGOMK
   E3 = EXT MRPOLY     NPLUS < 0.20 ABUT < 90 SINGULAR INSIDE ALSO REGION 
   E3 NOT LOGOMK     
}

PSD_NPNRS.S12 {@ Minimum P+ to N+POLY1 non-salicide resistor spacing is 0.20 
   E1 = EXT N_SAB_POL  PPLUS < 0.20 ABUT < 90 SINGULAR REGION 
   E1 NOT LOGOMK
   E2 = EXT SAB_POL    PPLUS < 0.01 ABUT <90 SINGULAR REGION  // To complete the N_SAB_POL check for touch case  
   E2 NOT LOGOMK                                              // Due to the definition of N_SAB_POL   
}//Rules about spacing between PPLUS and HR/MR POLY1 non-salicide resistor are implanted in MR/HR section. 

NW_PPNRS.EN1 {@ Minimum N-Well enclosure of P+ PO1 non-salicider resistor is 0.20
              @ Extra check MR/HR area.   
   E1 = ENC P_SAB_POL NWEL < 0.20 ABUT<90 OVERLAP SINGULAR REGION
   E1 NOT LOGOMK
   E2 = ENC HRPOLY    NWEL < 0.20 ABUT<90 OVERLAP SINGULAR REGION
   E2 NOT LOGOMK
   E3 = ENC MRPOLY    NWEL < 0.20 ABUT<90 OVERLAP SINGULAR REGION
   E3 NOT LOGOMK        
}

PSD_PPNRS.EN2__NSD_NPNRS.EN3 {@ Minimum PPLUS(NPLUS) enclosure of P+(N+) PO1 resistor is 0.20
                              @ HR and MR layer are excepted.
   E1 = ENC P_SAB_POL PPLUS < 0.20 ABUT < 90 OVERLAP SINGULAR REGION
   ( ( E1 NOT LOGOMK ) NOT HR ) NOT MR
   E2 = ENC N_SAB_POL NPLUS < 0.20 ABUT < 90 OVERLAP SINGULAR REGION
   ( ( E2 NOT LOGOMK ) NOT HR ) NOT MR
}

TG_PNRS.EN4 {@ Minimum TG enclosure of N+/P+ POLY1 non-salicide resistor body is 0.48um
   X = ( P_SAB_POL AND SAB ) INTERACT TG
   E1 = ENC X TG < 0.48 ABUT<90 OVERLAP SINGULAR REGION
   E1 NOT LOGOMK
   Y = ( N_SAB_POL AND SAB ) INTERACT TG
   E2 = ENC Y TG < 0.48 ABUT<90 OVERLAP SINGULAR  REGION
   E2 NOT LOGOMK
}

PSD_DNRS.EN5 {@ Minimum P+ implant enclosure of P+ DIFFUSION non-salicide resistor is 0.2um
   E = ENC SAB_DIF_RES PPLUS < 0.2 ABUT SINGULAR REGION
   E NOT LOGOMK
}

NSD_DNRS.EN6 {@ Minimum N+ implant enclosure of N+ DIFFUSION non-salicide resistor is 0.2um
              @ Extra check: A resistor without PPLUS will be treat as a N+ DIFFUSION resistor
              @              and it should be within NPLUS area.
   E = ENC N_SAB_DIF_RES NPLUS < 0.2 ABUT SINGULAR OUTSIDE ALSO REGION
   E NOT LOGOMK   
} // In order to complete all DIFFUSION resistor cases, this coding is different to the PSD_DNRS.EN5 one.

PNRS_TG.S9 {@ Minimum spacing of N+/P+ POLY1 non-salicide resister body to TG is 0.48um
            @ Extra check MR and HR area.
   X1 = SAB_POL AND SAB 
   E1 = EXT X1 TG < 0.48 ABUT<90 OVERLAP SINGULAR REGION
   E1 NOT LOGOMK
   
   X2 = MRPOLY AND SAB 
   E2 = EXT X2 TG < 0.48 ABUT<90 OVERLAP SINGULAR REGION
   E2 NOT LOGOMK   
   
   X3 = HRPOLY AND SAB 
   E3 = EXT X3 TG < 0.48 ABUT<90 OVERLAP SINGULAR REGION
   E3 NOT LOGOMK    
}

DNRS.W3 {@ Minimum width of N+/P+ DIFFUSION non-salicide resistor is 0.36um
   X =  (N_SAB_DIF_RES AND SAB) INSIDE EDGE SAB
   E1 = INT X < 0.36 ABUT>0<90 REGION
   E1 NOT LOGOMK
   Y =  (P_SAB_DIF_RES AND SAB) INSIDE EDGE SAB
   E2 = INT Y < 0.36 ABUT>0<90 REGION 
   E2 NOT LOGOMK
}

DNRS.L2 {@ Minimum length of N+/P+ DIFFUSION non-salicide resistor is 0.70um
   X = SAB INSIDE EDGE N_SAB_DIF_RES
   E1 = INT X < 0.70 ABUT OPPOSITE REGION
   E1 NOT LOGOMK
   Y = SAB INSIDE EDGE P_SAB_DIF_RES
   E2 = INT Y < 0.70 ABUT OPPOSITE REGION
   E2 NOT LOGOMK
}

SAB.R4 {@ Non-salicide POLY1 on DIFFUSION (SAB over gate) is not allowed.
  E = AND GATE SAB 
  E NOT LOGOMK  
} 

SAB.R5 {@ SAB overlap of SBLK is not allowed.
  E = AND SAB SBLK
  E NOT LOGOMK  
}

SAB.R6 {@ ( DIFFUSION touching SAB ) touching POLY1 is not allowed.
  E = ( DIFF INTERACT SAB ) INTERACT PO1
  E NOT LOGOMK  
}
//
//====================
//===  SBLK Rules  ===
//====================
//


OFF_GRID_SBLK {@ Grid SIZE of SBLK is 0.005
  OFFGRID SBLK 5
}

SKEW_EDGE_SBLK {@ SKEW EDGE 
   ANGLE SBLK >0<45
   ANGLE SBLK >45<90
} 

SBLK_IN_GATE = SBLK INSIDE EDGE GATE

//

SBLK.W1 {@ Minimum SBLK width is 0.36um
  E = INT SBLK < 0.36 ABUT>0<90 SINGULAR REGION
  E NOT LOGOMK
}

SBLK.S1 {@ Minimum SBLK to SBLK spacing is 0.36 um
  E = EXT SBLK < 0.36 ABUT>0<90 SINGULAR REGION
  E NOT LOGOMK
}

SBLK_SAB.S2 {@ Minimum SAB to SBLK spacing is 0.36 um
  E1 = EXT SBLK SAB < 0.36 ABUT SINGULAR REGION
  E1 NOT LOGOMK
  E2 = AND SBLK SAB
  E2 NOT LOGOMK
}

SBLK_DF.S3 {@ Minimum SBLK to DIFF spacing is 0.15um
  E = EXT SBLK DIFF < 0.15 ABUT<90 SINGULAR REGION
  E NOT LOGOMK
}

SBLK_PLY.S4 {@ Minimum SBLK to PO1 spacing is 0.20um
             @ SBLK overlap POLY1 in the direction parallel to Gate width is not allowed
  E1 = EXT SBLK PO1 < 0.20 ABUT>0<90 MEASURE ALL SINGULAR REGION
  E1 NOT LOGOMK
  
  X = SBLK NOT TOUCH INSIDE EDGE ( SBLK NOT OUTSIDE EDGE GATE )  
  E2 = EXT X ( PO1 NOT TOUCH INSIDE EDGE GATE_W ) < 0.01 ABUT REGION
  E2 NOT LOGOMK 
}

SBLK_CT.S5 {@ Minimum SBLK to Contact spacing is 0.18um, no contact allowed in SBLK
  E = EXT CONT SBLK < 0.18 ABUT<90 INSIDE ALSO SINGULAR REGION
  E NOT LOGOMK
}

SBLK_DF.OH1 {@ Minimum SBLK overhang of DIFF region is 0.17um
  E = ENC SBLK_DIFF  SBLK < 0.17 ABUT<90 SINGULAR REGION
  E NOT LOGOMK
}

SBLK_PLY_G.OH2 {@ Minimum SBLK overhang of PO1 gate is 0.11um
   X = (GATE INTERACT SBLK) COIN INSIDE EDGE PO1
  E = ENC X SBLK < 0.11 ABUT REGION
  E NOT LOGOMK
}

PLY_G_SBLK.OH3 {@ Minimum PO1 gate overhang of SBLK is 0.15um
  E = ENC SBLK_IN_GATE GATE_W < 0.15 ABUT<90 REGION
  E NOT LOGOMK
}

SBLK_PLY_G.OL1 {@ Minimum SBLK overlap of PO1 gate is 0.06um
  E = INT SBLK_IN_GATE GATE_W < 0.06 ABUT<90 REGION
  E NOT LOGOMK
}

PSD_PPSBLK.EN1 {@ Minimum P+ IMPLANT enclosure of ( P+ POLY over SBLK ) is 0.20um
  E = ENC ( PO1 AND SBLK ) PPLUS < 0.2 ABUT SINGULAR REGION
  E NOT LOGOMK  
}

NSD_NPSBLK.EN2 {@ Minimum N+ IMPLANT enclosure of ( N+ POLY over SBLK ) is 0.20um
  E = ENC ( PO1 AND SBLK ) NPLUS < 0.2 ABUT SINGULAR REGION
  E NOT LOGOMK   
}

PSD_PDSBLK.EN3 {@ Minimum P+ IMPLANT enclosure of ( P+ DIFFUSION over SBLK ) is 0.20um
  E = ENC ( DIFF AND SBLK ) PPLUS < 0.2 ABUT SINGULAR REGION
  E NOT LOGOMK   
}

NSD_NDSBLK.EN4 {@ Minimum N+ IMPLANT enclosure of ( N+ DIFFUSION over SBLK ) is 0.20um
  E = ENC ( DIFF AND SBLK ) NPLUS < 0.2 ABUT SINGULAR REGION
  E NOT LOGOMK    
}

SBLK.A {@ Minimum SBLK area is 0.3 sq.um
  E = AREA SBLK < 0.3
  E NOT LOGOMK
}

SBLK.EA {@ Minimum SBLK enclosed area is 0.3 sq.um
   A = HOLES SBLK INNER < 15 // SELECT INNER HOLES AREA < 50 X a
   B = A NOT SBLK // SELECT ENCLOSED AREA    
   E = AREA B < 0.3
   E NOT LOGOMK
}

SBLK.R {@ Non-salicide POLY1 on DIFFUSION (SBLK over gate) is not allowed except ESD structure.
  E = ( AND GATE SBLK ) NOT IOID
  E NOT LOGOMK
}


//
//============================
//===  Contact Rule (P56)  ===
//============================
//

// CONT_C = STAMP CONT BY ME1

//

OFF_GRID_CONT {@ Grid SIZE of CONT is 0.001
  OFFGRID CONT 1
}

SKEW_EDGE_CONT {@ SKEW EDGE 
   ANGLE CONT >0<45
   ANGLE CONT >45<90
} 

CT.SZ1 {@ Exact CONT size is 0.09 X 0.09 sq.um
        @ Exclude CAD_CONTACT_EFUSE_BLOCK Layer
   X = NOT RECTANGLE CONT == 0.09 BY == 0.09
   X NOT ( ( ( ( MEMORY_MARK_55 OR MEMORY_MARK_65 ) OR CONTEBK ) OR LOGOMK ) OR URAMMK )
}

CT.SZ2 {@ Exact CONT size inside CAD_CONTACT_EFUSE_BLOCK layer is 0.12 X 0.12 sq.um
   CONTEBK_CONT = CONT AND CONTEBK
   X = NOT RECTANGLE CONTEBK_CONT == 0.12 BY == 0.12   
   X NOT  LOGOMK
}

CT.S1 {@ Minimum space between two CONT regions for equal-potential is 0.11um
   X = EXT CONT < 0.11 ABUT>0<90 SINGULAR REGION
   X NOT ( ( MEMORY_MARK_55 OR MEMORY_MARK_65 ) OR LOGOMK )
}

CT.S {@ Minimum space between two CONT regions for non-equal-potential is 0.12um
//   X = EXT CONT_C < 0.12 ABUT>0<90 SINGULAR NOT CONNECTED REGION
   X = EXT CONT < 0.12 ABUT>0<90 SINGULAR NOT CONNECTED REGION   
   X NOT ( ( MEMORY_MARK_55 OR MEMORY_MARK_65 ) OR LOGOMK )
}

CT.S2 {@ Minimum spacing of CONTACT (spacing < 0.17) for 3X3 array group is 0.14
       @ This rule is wiaved to check spacing < 0.15 array only.
   a = SIZE (SIZE CONT BY 0.074) BY -0.074
   b = SIZE a BY -0.24  // Minimun array size = 3X3 CONT array = 0.09*3 + 0.11*2 = 0.49 > 0.24*2
   c = SIZE b BY  0.39  // 0.24 + 0.15 = 0.39// check additional 1 CONT near the array.
   d = ( a AND c ) CUT CONT >= 9
   e = CONT INTERACT d
   X = EXT e < 0.14 ABUT<90 REGION
   X  NOT  ( ( MEMORY_MARK_55 OR MEMORY_MARK_65 ) OR LOGOMK )
}

CT_DF_PLY_G.S3 {@ Minimum DIFF CONT to PO1 gate spacing is 0.055um, no contact on gate
   X = EXT DIFCNT GATE < 0.055 ABUT<90 SINGULAR INSIDE ALSO REGION
   X NOT ( ( ( ( MEMORY_MARK_55 OR MEMORY_MARK_65 ) OR LOGOMK ) OR WLSRAMMK ) OR URAMMK )
}

CT_DF_PLY_G.S.TG {@ Minimum DIFF CONT to PO1 gate spacing over TG is 0.07um
   E = EXT DIFCNT GATE_W_TG < 0.07 ABUT<90 REGION
   E NOT LOGOMK

}

CT_PLY_DF.S4 {@ Minimum PO1 Contact to DIFF spaceing is 0.07um
   X = EXT POLCNT DIFF < 0.07 ABUT<90 SINGULAR REGION
   X NOT ( ( MEMORY_MARK_55 OR MEMORY_MARK_65 ) OR LOGOMK )
}

PLY_CT.EN1_.EN2 {@ Minimum POLY1 enclosure of CONTACT is 0.02 um, no floating conntact
                 @ Minimum POLY1 enclosure of CONTACT on at least two opposite sides is 0.04 um               

   X = ENC POLCNT PO1 < 0.02 ABUT < 90 SINGULAR REGION 
   Y = POLCNT INTERACT X  
   E = RECTANGLE ENC Y PO1     
   GOOD 0.00 0.04 OPPOSITE 0.00 0.04 OPPOSITE  
   E NOT ( ( MEMORY_MARK_55 OR MEMORY_MARK_65 ) OR LOGOMK )
}

DF_CT.EN3_.EN4 {@ Minimum DIFFUSION enclosure of CONTACT is 0.015
                @ Minimum DIFFUSION enclosure of CONT on at least two opposite sides is 0.04 um                

   X = ENC DIFCNT DIFF < 0.015  ABUT < 90 SINGULAR REGION
   Y = DIFCNT INTERACT X
   E = RECTANGLE ENC Y DIFF 
   GOOD 0.00  0.04  OPPOSITE 0.00  0.04  OPPOSITE
   E NOT ( ( MEMORY_MARK_55 OR MEMORY_MARK_65 ) OR LOGOMK )
}

CT.R1 {@ CONT over GATE is not allowed
       @ CONT must be within PO1 or diffusion
   (CONT AND GATE) NOT  ( ( MEMORY_MARK_55 OR MEMORY_MARK_65 )  OR  LOGOMK ) 
   (CONT NOT (PO1 OR DIFF))  NOT  ( ( MEMORY_MARK_55 OR MEMORY_MARK_65 ) OR LOGOMK )
}

CT.R2 {@ CONT shapes must be orthogonal except LOGO area.
       @ CONTACT_BAR is only allowed in die seal ring area.
  E = ANGLE CONT >0<90
  E OUTSIDE EDGE LOGOMK
  
  CONTBAR NOT SEALRMARK
}

// CT.R3.RCM {@ Put as many CONTACTs as possible in the DIFFUSION region 
// not checked

//
//================================
//===  BIPOLAR Rules           ===
//================================
//

OFF_GRID_BIPOLAR {@ Grid SIZE of BIPOLAR is 0.005
  OFFGRID BIPOLAR 5
}

SKEW_EDGE_BIPOLAR {@ SKEW EDGE 
   ANGLE BIPOLAR >0<45
   ANGLE BIPOLAR >45<90
} 

BP.W {@ Minimum BIPOLAR width is 0.36um
   E = INT BIPOLAR < 0.36 ABUT>0<90 SINGULAR REGION
   E NOT LOGOMK
}

BP.S {@ Minimum spacing and notch of BIPOLAR is 0.36um
   E = EXT BIPOLAR < 0.36 ABUT<90 SINGULAR  REGION
   E NOT LOGOMK
}

BP.R {@ PO1 and TG are not allowed over BIPOLAR
   E = BIPOLAR AND (PO1 OR TG)
   E NOT LOGOMK
}


//
//============================
//===  PESD Rule           ===
//============================
//


OFF_GRID_PESD {@ Grid SIZE of PESD is 0.005
  OFFGRID PESD 5
}

SKEW_EDGE_PESD {@ SKEW EDGE 
   ANGLE PESD >0<45
   ANGLE PESD >45<90
} 

PESD.W1 {@ Minimum  PESD width is 0.54um
   E = INT PESD < 0.54 ABUT>0<90 SINGULAR REGION
   E NOT LOGOMK
}

PESD.S1 {@ Minimum spacing and notch of PESD is 0.54um
   E = EXT PESD < 0.54 ABUT>0<90 SINGULAR REGION
   E NOT LOGOMK
}

PESD_PLY_G.S2 {@ Minimum spacing of PESD to POLY1 gate is 0.20 um
   E1 = EXT PESD GATE < 0.2 ABUT<90 SINGULAR REGION
   E1 NOT LOGOMK
   E2 = PESD AND GATE
   E2 NOT LOGOMK      
}

DIF_PESD_N_EN1 {@ DIFFUSION enclosure of PESD in NMOS is 0.4 um
                @ DRC check all DIFFUSION ( not only DIFFUSION for NMOS ).
   E = ENC PESD DIFF  < 0.4 ABUT < 90 OVERLAP SINGULAR REGION
   E NOT LOGOMK
}

PESD.A {@ Minimum PESD area is 0.6 sq.um
   E = AREA PESD < 0.6
   E NOT LOGOMK
}

PESD.EA {@ Minimum PESD enclosed area is 0.6 sq.um
   A = HOLES PESD INNER < 30 // SELECT INNER HOLES AREA < 50 X a
   B = A NOT PESD // SELECT ENCLOSED AREA    
   E = AREA B < 0.6
   E NOT LOGOMK
}

PESD.R {@ PESD in ( P+ diffusion within NWEL ) is not allowed.
        @ ( exclude CAD_PESD_DRC_BLOCK layer GDS No: 32(1) )
   X = ( PDIFF AND NWEL ) NOT PESDBK
   E = AND PESD X
   E NOT LOGOMK  
}

//
//============================
//===  MOAT Rule           ===
//============================
//

OFF_GRID_MOAT {@ Grid SIZE of MOAT is 0.005
  OFFGRID MOAT 5
}

SKEW_EDGE_MOAT {@ SKEW EDGE 
   ANGLE MOAT >0<45
   ANGLE MOAT >45<90
} 

MOAT.W1 {@ Minimum MOAT width is 10.0 um
   E = INT MOAT < 10.0 ABUT>0<90 SINGULAR REGION
   E NOT LOGOMK
}

MOAT.S1 {@ Minimum spacing ad notch of MOAT is 10.0 um
   E = EXT MOAT < 10 ABUT>0<90 SINGULAR REGION
   E NOT LOGOMK
}

MOAT_NW.S2 {@ Minimum spacing of MOAT to N-Well is 2um
   E = EXT MOAT NWEL < 2 ABUT <90 SINGULAR INSIDE ALSO REGION
   E NOT LOGOMK
}

MOAT_DF.S3 {@ Minimum spacing of MOAT to DIFF is 1um
   E = EXT MOAT DIFF < 1 ABUT <90 SINGULAR INSIDE ALSO REGION
   E NOT LOGOMK
}

MOAT_NT.S4 {@ Minimum spacing of MOAT to NATIVE is 2um
   E = EXT MOAT NATIVE < 2 ABUT <90 SINGULAR INSIDE ALSO REGION
   E NOT LOGOMK
}

MOAT.R1 {@  MOAT overlap N_WELL, NATIVE, and DIFFUSION is not allowed
   E1 = AND MOAT NWEL
   E2 = AND MOAT NATIVE 
   E3 = AND MOAT DIFF    
   E1 NOT LOGOMK
   E2 NOT LOGOMK  
   E3 NOT LOGOMK      
}

//MOAT.R2 : DIFFUSION dummy is allowed over MOAT

//
//================================
//===  MIS_IMPLANT_BLOCK Rule  ===
//================================
//

OFF_GRID_MISIMPBK {@ Grid SIZE of MIS_IMPLANT_BLOCK is 0.005
  OFFGRID MISIMPBK 5
}

SKEW_EDGE_MISIMPBK {@ SKEW EDGE 
   ANGLE MISIMPBK >0<45
   ANGLE MISIMPBK >45<90
}

MIS.W1 {@ Minimum MIS_IMPLANT_BLOCK width is 0.36 um
   E = INT MISIMPBK < 0.36 ABUT<90 SINGULAR REGION
   E NOT LOGOMK
}

MIS.S1 {@ Minimum MIS_IMPLANT_BLOCK spacing and notch is 0.36um
   E = EXT MISIMPBK < 0.36 ABUT<90 SINGULAR REGION
   E NOT LOGOMK
} 

NW_MIS.EN1 {@ Minimum N_WELL enclosure of MIS_IMPLANT_BLOCK is 0.36um
   E1 = ENC MISIMPBK NWEL < 0.36 ABUT>0<90 SINGULAR REGION
   E1 NOT LOGOMK // For ABUT coding, please refer to R3.
   E2 = MISIMPBK CUT NWEL
   E2 NOT LOGOMK  
}

MIS_DF.EN2 {@ Minimum MIS_IMPLANT_BLOCK enclosure of DIFFUSION is 0.16um
   E = ENC DIFF MISIMPBK < 0.16 ABUT SINGULAR REGION
   E NOT LOGOMK
}

MIS_TG.S2 {@ Minimum spacing of MIS_IMPLANT_BLOCK to TG is 0.36um
   E = EXT MISIMPBK TG < 0.36 ABUT>0<90 SINGULAR REGION
   E NOT LOGOMK
}

MIS_BP.S3 {@ Minimum spacing of MIS_IMPLANT_BLOCK to BIPOLAR is 0.36um
           @ ( MIS_IMPLANT_BLOCK overlap BIPOLAR is not allowed. )
   E = EXT MISIMPBK BIPOLAR < 0.36 ABUT SINGULAR INSIDE ALSO REGION
   E NOT LOGOMK
}

MIS_SAB.S4 {@ Minimum spacing of MIS_IMPLANT_BLOCK to N+/P+ non-salicide resistor body is 0.48um
           @ ( MIS_IMPLANT_BLOCK overlap N+/P+ non-salicide resistor body is not allowed. )
   E1 = EXT MISIMPBK ( aSAB_POL AND SAB )    < 0.48 ABUT SINGULAR INSIDE ALSO REGION   
   E1 NOT LOGOMK
   E2 = EXT MISIMPBK ( SAB_DIF_RES AND SAB ) < 0.48 ABUT SINGULAR INSIDE ALSO REGION  
   E2 NOT LOGOMK
}

MIS_DF.S5 {@ Minimum spacing of MIS_IMPLANT_BLOCK to DIFFUSION is 0.13um
   E = EXT MISIMPBK DIFF < 0.13 ABUT SINGULAR REGION
   E NOT LOGOMK
}

MIS_NW.S6 {@ Minimum spacing of MIS_IMPLANT_BLOCK to N_WELL is 0.36um
   E = EXT MISIMPBK NWEL < 0.36 ABUT>0<90 SINGULAR OVERLAP REGION
   E NOT LOGOMK // For ABUT coding, please refer to R7.
}

TG_MIS.OH1 {@ Minimum TG overhang of MIS_IMPLANT_BLOCK is 0.36um
   E = ENC MISIMPBK TG < 0.36 ABUT>0<90 SINGULAR REGION
   E NOT LOGOMK
}

MIS_TG.OH2 {@ Minimum MIS_IMPLANT_BLOCK overhang of TG is 0.36um
   E = ENC TG MISIMPBK < 0.36 ABUT>0<90 SINGULAR REGION
   E NOT LOGOMK
}

TG_MIS.OL1 {@ Minimum TG overlap of MIS_IMPLANT_BLOCK is 0.36um
   E = INT TG MISIMPBK < 0.36 ABUT>0<90 SINGULAR REGION
   E NOT LOGOMK
}

TG_MIS.R1_.R2 {@ If TG and MIS_IMPLANT_BLOCK have a common run >= 0.36um,
               @ then a spacing of zero is allowed along the common run.
               @ If TG and MIS_IMPLANT_BLOCK have a common run >= 0.36um,
               @ then a overhang of zero is allowed along the common run.
   X = MISIMPBK COIN EDGE TG
   E = LENGTH  X  < 0.36     
   E NOT INSIDE EDGE LOGOMK
}

NW_MIS.R3_.R7 {@ If N_WELL and MIS_IMPLANT_BLOCK have a common run >= 0.36um,
               @ then a overhang of zero is allowed along the common run
               @ If N_WELL and MIS_IMPLANT_BLOCK gave a common run >= 0.36um, 
               @ then a spacing of zero is allowed along the common run.
   X = MISIMPBK COIN EDGE NWEL
   E = LENGTH X < 0.36
   E NOT INSIDE EDGE LOGOMK   
}

MIS.R4 {@ MIS_IMPLANT_BLOCK is not allowed over SAB, NATIVE, BIPOLAR,
        @ N+/P+ non-salicide resistor body.
   E1 = MISIMPBK AND SAB
   E1 NOT LOGOMK
   E2 = MISIMPBK AND NATIVE
   E2 NOT LOGOMK
   E3 = MISIMPBK AND BIPOLAR
   E3 NOT LOGOMK
   E4 = MISIMPBK AND ( SAB_POL AND SAB )
   E4 NOT LOGOMK   
}

MIS.R6 {@ MIS_IMPLANT_BLOCK shapes must be orthogonal
   E = ANGLE MISIMPBK >0<90
   E OUTSIDE EDGE LOGOMK
}


//
//==========================
//===  CAD_OD_MARK Rule  ===
//==========================
//
OFF_GRID_OD {@ Grid SIZE of CAD_OD_MARK is 0.005
  OFFGRID ODMK 5
}

SKEW_EDGE_ODMK {@ SKEW EDGE 
   ANGLE ODMK >0<45
   ANGLE ODMK >45<90
}

OD.R1 {@ Gate of overdrive device must be fully covered by CAD_OD_MARK layer
   E = GATE CUT ODMK
   E NOT LOGOMK   
}

OD.R2 {@ Gate of overdrive device over CAD_UD_MARK layer is not allowed
   E = ( GATE NOT OUTSIDE ODMK ) AND UDMK
   E NOT LOGOMK   
}

//
//=======================================
//===  EFUSE_MARK Layer Layout Rules  ===
//=======================================
//  
// ** The layers is only allowed for UMC EFUSE team to create UMC EFUSE IP.
//    If customers want to create their own EFUSE macro IP, please contact UMC/IPDS/DSCE
//    for the detials. It is not allowed for customers to use this layer to create their
//    EFUSE IP due to the special Boolean operations associated with this mark layer.


OFF_GRID_EFUSEMARK {@ Grid SIZE of EFUSEMK is 0.005
  OFFGRID EFUSEMK 5
}
 
SKEW_EDGE_EFUSEMK {@ SKEW EDGE of EFUSEMK
   ANGLE EFUSEMK >0<45
   ANGLE EFUSEMK >45<90
}
 
EFM.W1 {@ Minimum EFUSE_MARK width is 0.36um
  E = INT EFUSEMK < 0.36 ABUT<90 SINGULAR REGION
  E NOT LOGOMK
}

EFM.S1 {@ Minimum spacing and notch of EFUSE_MARK is 0.36um
  E = EXT EFUSEMK < 0.36 ABUT<90 SINGULAR REGION
  E NOT LOGOMK
}

EFM_DF.S2__EFM.R1 {@ Minimum spacing of EFUSE_MARK to DIFFUSION is 0.18um
                   @ DIFFUSION over EFUSE_MARK layer is not allowed.
  E = EXT EFUSEMK DIFF < 0.18 ABUT SINGULAR INSIDE ALSO REGION
  E NOT LOGOMK
}

EFM_NW.S3__NW_EFM.EN2 {@ Minimum spacing of EFUSE_MARK to to NWEL is 0.36um
                       @ Minimum N_WELL enclosure of EFUSE_MARK is 0.
  E1 = EXT EFUSEMK NWEL < 0.36 ABUT SINGULAR REGION
  E1 NOT LOGOMK
  
  E2 = ( EFUSEMK INTERACT NWEL ) NOT NWEL
  E2 NOT LOGOMK  
}

EFM_TG.S4__TG_EFM.EN3 {@ Minimum spacing of EFUSE_MARK to TG is 0.36um
                       @ Minimum TG enclosure of EFUSE_MARK is 0.
  E1 = EXT EFUSEMK TG   < 0.36 ABUT SINGULAR REGION
  E1 NOT LOGOMK
  E2 = ( EFUSEMK INTERACT TG ) NOT TG  
  E2 NOT LOGOMK    
}

EFM_PLY.EN1 {@ Minimum EFUSE_MARK enclosure of POLY1 is 0.
  E = ( PO1 INTERACT EFUSEMK ) NOT EFUSEMK  
  E NOT LOGOMK
  
}

//NW_EFM.EN2 {@ Minimum N_WELL enclosure of EFUSE_MARK is 0.
//} Covered by EFM_NW.S3__NW_EFM.EN2

//TG_EFM.EN3 {@ Minimum TG enclosure of EFUSE_MARK is 0.
//} Covered by EFM_TG.S4__TG_EFM.EN3

//EFM.R1 {@ DIFFUSION over EFUSE_MARK LAYER is NOT allowed
//} Covered by EFM_DF.S2__EFM.R1

EFM.R2 {@ EFUSE_MARK shapes must be orthogonal
  E = ANGLE EFUSEMK >0<90   
  E OUTSIDE EDGE LOGOMK
}


//===============================
//===  HR Layer Layout Rules  ===
//===============================
// 

OFF_GRID_HR {@ Grid SIZE of HR is 0.005
  OFFGRID HR 5
}

SKEW_EDGE_HR {@ SKEW EDGE 
   ANGLE HR >0<45
   ANGLE HR >45<90
}
 
HR.W1 {@ Minimum HR width is 0.40um
  E = INT HR < 0.4 ABUT<90 SINGULAR REGION
  E NOT LOGOMK
}

HR.S1 {@ Minimum spacing and notch of HR is 0.40um
  E = EXT HR < 0.4 ABUT<90 SINGULAR REGION
  E NOT LOGOMK
}

HRP_PLY.W2 {@ Minimum POLY1 width of HR-Poly resistor is 0.44um
  E1 = INT HRPOLY < 0.44 ABUT>0<90 SINGULAR REGION
  ( E1 NOT LOGOMK ) NOT NS_REX  
  E2 = INT HRPOLY < 0.13 ABUT>0<90 SINGULAR REGION
  ( E2 NOT LOGOMK ) AND NS_REX 
   //   For HR-Poly resistor within NS_REX, 
   // this rule is waived to 0.13 um by 
   // DSM: G-03-LOGIC/MIXED_MODE65N-LL-TLR-B A.B phase B.    
}

HRP_SAB.W3 {@ Minimum SAB width for HR POLY is 1.0um (define HR POLY resistor length)
  E =  LENGTH SABPOLY < 1.0
  E NOT INSIDE EDGE LOGOMK
}

HR_HRP.EN1 {@ Minimum HR enclosure of HR-Poly resistor is 0.2um, no HRPOLY outside HR
  E = ENC HRPOLY HR < 0.2 ABUT SINGULAR OUTSIDE ALSO REGION
  E NOT LOGOMK
}

HR_PLY.S2 {@ Minimum spacing of HR to unrelated PO1 is 0.2um
  E1 = EXT HR PURPOLY < 0.2 ABUT<90 SINGULAR REGION
  E1 NOT LOGOMK
  E2 = EXT HR PO1 < 0.01 ABUT SINGULAR REGION // To complete the ABUT case
  E2 NOT LOGOMK                               // Due to the definition of PURPOLY
}

NSD_HRP.S3 {@ Minimum spacing of N+ implant to HR-Poly resistor is 0.2um
  E = EXT NPLUS HRPOLY < 0.2 ABUT<90 OVERLAP INSIDE ALSO SINGULAR REGION
  E NOT LOGOMK
}

// Removed
//PSD_HR.S4 {@ Minimum spacing of PPLUS implant to HR is 0.5um
//  E = EXT PPLUS HR < 0.5 ABUT<90 SINGULAR REGION
//  E NOT LOGOMK
//}
//

SAB_HRP.OH1 {@ Minimum SAB overhang of HR-Poly resistor is 0.17um
  E = ENC HRPOLY SAB < 0.17 ABUT<90 SINGULAR REGION
  E NOT LOGOMK
}

HRP_CT_SAB.S5 {@ Minimum spacing of HR PO1 CONTACT to SAB is 0.18um
  E = EXT HRCONT SAB < 0.18 ABUT SINGULAR REGION
  E NOT LOGOMK
}

HR_DF.S6 {@ Minimum spacing of HR to unrelated DIFFUSION is 0.18um
  E = EXT HR DIFF_ALL < 0.18 ABUT<90 OVERLAP SINGULAR INSIDE ALSO REGION
  E NOT LOGOMK
}

NW_HRP.EN2 {@ Minimium N_WELL layer enclosure of HR-Poly resistor is 0.20um
  E = ENC HRPOLY NWEL < 0.2 ABUT<90 OVERLAP SINGULAR REGION // OUTSIDE ALSO  (commented by Jim 0213/2007) 
  E NOT LOGOMK
}

HRP_NW.S8 {@ Minimum spacing of HR-POLY resistor to N_WELL is 0.2 um
  E = EXT HRPOLY NWEL < 0.2 ABUT<90 OVERLAP SINGULAR REGION 
  E NOT LOGOMK  
}

HR_PSD_HRP.EN3 {@ Minimum HR P+ IMPLANT enclosure of HR-Poly resistor edge where edge is not covered by SAB is 0.20 um
  E1 = ENC ( HRPOLY OUTSIDE EDGE SAB ) PPLUS < 0.20 ABUT REGION
  E1 NOT LOGOMK
  E2 = ( HRPOLY NOT SAB ) NOT PPLUS
  E2 NOT LOGOMK
}

HR_PSD_SAB.OL1 {@ Exact HR P+ IMPLANT overlap of SAB is 0.2 um
   x = INT ( SAB AND HR ) PPLUS < 0.2 ABUT<90 REGION
   E1 = x INTERACT (PPLUS AND ( SAB AND HR ) )  // the coding is same of 90nm.
   E2 = SIZE ( SIZE ( PPLUS AND ( SAB AND HR ) ) BY -0.1 ) BY 0.1 TRUNCATE 0
   E1 NOT LOGOMK
   E2 NOT LOGOMK   
}

PSD_HRP.S7 {@ Minimum spacing of P+ implant to unrelated HR-Poly resistor is 0.2 um
            @ Extra check: P+ implant cut into HR POLY resistor body 
            @            ( exclude P+ implant overlap of SAB by 0.2 um exactly
            @              and at the HR-POLY resistor header area ).
   E1 = EXT PPLUS HRPOLY < 0.2 ABUT<90 SINGULAR REGION    
   E1 NOT LOGOMK
   
   X = INT SAB ( PPLUS ) == 0.2 
   E2 = X NOT OUTSIDE EDGE HRPOLY
   E2 OUTSIDE EDGE LOGOMK       
}

HRPO1_sanity1 {@ It doesn't make sense to have a POLY in HR area without SAB layer.// DRC extra check.
   E = ( PO1 AND HR ) OUTSIDE SAB
   E NOT LOGOMK
}

HRPO1_sanity2 {@ It doesn't make sense to have a POLY in HR area and with NPLUS layer.// DRC extra check.
   E = HRPOLY AND NPLUS
   E NOT LOGOMK
}



//===============================
//===  MR Layer Layout Rules  ===
//===============================
// 

OFF_GRID_MR {@ Grid SIZE of MR is 0.005
  OFFGRID MR 5
}

SKEW_EDGE_MR {@ SKEW EDGE 
   ANGLE MR >0<45
   ANGLE MR >45<90
}

MR.W1 {@ Minimum MR width is 0.40um
  E = INT MR < 0.4 ABUT<90 SINGULAR REGION
  E NOT LOGOMK
}

MR.S1 {@ Minimum spacing and notch of MR is 0.40um
  E = EXT MR < 0.4 ABUT<90 SINGULAR REGION
  E NOT LOGOMK
}

MRP_PLY.W2 {@ Minimum POLY1 width of MR-Poly resistor is 0.44um
  E = INT MRPOLY < 0.44 ABUT>0<90 SINGULAR REGION
  E NOT LOGOMK
}

MRP_SAB.W3 {@ Minimum SAB width for MR-Poly resistor is 1.0 um (define MR-Poly resistor length)
  E =  LENGTH SABPOLY_MR < 1.0
  E NOT INSIDE EDGE LOGOMK
}

MR_MRP.EN1 {@ Minimum MR enclosure of MR-Poly resistor is 0.2um, no MRPOLY outside MR
  E = ENC MRPOLY MR < 0.2 ABUT SINGULAR OUTSIDE ALSO REGION
  E NOT LOGOMK
}

MR_PLY.S2 {@ Minimum spacing of MR to unrelated PO1 is 0.2um
  E1 = EXT MR PURPOLY_MR < 0.2 ABUT<90 SINGULAR REGION
  E1 NOT LOGOMK
  E2 = EXT MR PO1 < 0.01 ABUT SINGULAR REGION // To complete the ABUT case
  E2 NOT LOGOMK                               // Due to the definition of PURPOLY
}

NSD_MRP.S3 {@ Minimum spacing of N+ implant to MR-Poly resistor is 0.2um
  E = EXT NPLUS MRPOLY < 0.2 ABUT<90 OVERLAP INSIDE ALSO SINGULAR REGION
  E NOT LOGOMK
}

// Remove
//PSD_MR.S4 {@ Minimum spacing of PPLUS implant to MR is 0.5um
//  E = EXT PPLUS MR < 0.5 ABUT<90 SINGULAR REGION
//  E NOT LOGOMK
//}


SAB_MRP.OH1 {@ Minimum SAB overhang of MR-Poly resistor is 0.17um
  E = ENC MRPOLY SAB < 0.17 ABUT <90 SINGULAR REGION
  E NOT LOGOMK
}

MRP_CT_SAB.S5 {@ Minimum spacing of MR PO1 CONTACT to SAB is 0.18 um
  E = EXT MRCONT SAB < 0.18 ABUT SINGULAR REGION
  E NOT LOGOMK
}

MR_DF.S6 {@ Minimum spacing of MR to unrelated DIFFUSION is 0.18 um
  E = EXT MR DIFF_ALL < 0.18 ABUT SINGULAR INSIDE ALSO REGION
  E NOT LOGOMK
}

NW_MRP.EN2 {@ Minimium N_WELL layer enclosure of MR-Poly resistor is 0.2 um
  E = ENC MRPOLY NWEL < 0.2 ABUT<90 OVERLAP SINGULAR REGION // OUTSIDE ALSO  (commented by Jim 0213/2007) 
  E NOT LOGOMK
}

MRP_NW.S8 {@ Minimum spacing of MR-POLY resistor to N_WELL is 0.2 um
  E = EXT MRPOLY NWEL < 0.2 ABUT<90 OVERLAP SINGULAR REGION 
  E NOT LOGOMK  
}

MR_PSD_MRP.EN3 {@ MR P+ IMPLANT enclosure of MR-Poly resistor edge where is not covered by SAB is 0.2 um
  E1 = ENC ( MRPOLY OUTSIDE EDGE SAB ) PPLUS < 0.2 ABUT REGION
  E1 NOT LOGOMK
  E2 = ( MRPOLY NOT SAB ) NOT PPLUS
  E2 NOT LOGOMK
}

MR_PSD_SAB.OL1 {@ Exact MR P+ IMPLANT overlap of SAB is 0.2 um
   x = INT ( SAB AND MR ) PPLUS < 0.2 ABUT<90 REGION
   E1 = x INTERACT (PPLUS AND ( SAB AND MR ) )  // the coding is same of 90nm.
   E2 = SIZE ( SIZE ( PPLUS AND ( SAB AND MR ) ) BY -0.1 ) BY 0.1 TRUNCATE 0

   E1 NOT LOGOMK
   E2 NOT LOGOMK   
}

PSD_MRP.S7 {@ Minimum spacing of P+ implant to unrelated MR-Poly resistor is 0.2 um
            @ Extra check: P+ implant cut into MR POLY resistor body 
            @            ( exclude P+ implant overlap of SAB by 0.2 um exactly
            @              and at the MR-POLY resistor header area ).
   E1 = EXT PPLUS MRPOLY < 0.2 ABUT<90 SINGULAR REGION    
   E1 NOT LOGOMK
   
   X = INT SAB ( PPLUS ) == 0.2 
   E2 = X NOT OUTSIDE EDGE MRPOLY
   E2 OUTSIDE EDGE LOGOMK       
}

MRPO1_sanity1 {@ It doesn't make sense to have a POLY in MR area without SAB layer.// DRC extra check.
   E = ( PO1 AND MR ) OUTSIDE SAB
   E NOT LOGOMK
}

MRPO1_sanity2 {@ It doesn't make sense to have a POLY in MR area and with NPLUS layer.// DRC extra check.
   E = MRPOLY AND NPLUS
   E NOT LOGOMK
}



//
//============================
//===  Metal-1 Rule (P60)  ===
//============================
//
 
M1_N018 = SIZE  ME1      BY  -0.09   // ME1 width  > 0.18um
M1_N050 = SIZE  M1_N018  BY  -0.16   // ME1 width  > 0.5um
M1_N280 = SIZE  M1_N050  BY  -1.15   // ME1 width  > 2.8um
M1_N500 = SIZE  M1_N280  BY  -1.1    // ME1 width  > 5.0um

//


OFF_GRID_ME1 {@ Grid SIZE of ME1 is 0.001
   OFFGRID ME1 1

}

SKEW_EDGE_ME1 {@ SKEW EDGE 
   X = ME1 NOT IND
   ANGLE X >0<45
   ANGLE X >45<90
}


M1.W1 {@ Minimum width of ME1 region is 0.09um
    X = INT ME1 < 0.09 ABUT>0<90 SINGULAR REGION
    X NOT ( ( MEMORY_MARK_55 OR MEMORY_MARK_65 ) OR LOGOMK )
}

M1.WX {@ Maximum width of ME1 region is 12um (except PAD mark area)
    E = SIZE (SIZE ( M1_N500 NOT ( PADMARK OR WATPADMK ) )BY -3.5) BY 6 TRUNCATE 0 INSIDE OF ME1 STEP 2
    E NOT LOGOMK
}

M1.S1 {@ Minimum spacing and notch of Metal1 region is 0.09 
    E = EXT ME1 < 0.09 ABUT>0<90 SINGULAR REGION
    E NOT ( ( MEMORY_MARK_55 OR MEMORY_MARK_65 ) OR LOGOMK )
}
   

M1.S2 {@ Minimum spacing and notch of METAL1 to ( METAL1 with width > 0.5 um ) is 0.16 um
       @ for common run length > 0.5um
    WM1_050       = SIZE M1_N050 BY 0.25 TRUNCATE 0 INSIDE OF ME1  STEP 0.25 // ME1 > 0.5um
    WM1_050_CONN  = STAMP WM1_050 BY ME1
    WM1_050_E     = WM1_050      COIN INSIDE EDGE ME1
    WM1_050_IE    = WM1_050_CONN      INSIDE EDGE ME1   
    E1 = EXT WM1_050_E  ME1  < 0.16 PROJ > 0.5 ABUT>0<90 REGION
    E2 = EXT WM1_050_IE ME1  < 0.16 PROJ > 0.5 MEASURE ALL NOT CONNECTED REGION
    E3 = EXT WM1_050_E ME1  < 0.16 ABUT>0<90 CORNER TO EDGE REGION 
    E1 NOT LOGOMK
    E2 NOT LOGOMK
    E3 NOT LOGOMK   
}

M1.S3 {@ Minimum spacing and notch of METAL1 to ( METAL1 with width > 2.8 um ) is 0.3
       @ for common run length > 2.8 um
    WM1_280       = SIZE M1_N280 BY 1.4 TRUNCATE 0 INSIDE OF ME1 STEP 1.4 // ME1 > 2.8
    WM1_280_CONN  = STAMP WM1_280 BY ME1
    WM1_280_E     = WM1_280      COIN INSIDE EDGE ME1
    WM1_280_IE    = WM1_280_CONN      INSIDE EDGE ME1   
    E1 = EXT WM1_280_E  ME1 < 0.3 PROJ > 2.8 ABUT>0<90 REGION
    E2 = EXT WM1_280_IE ME1 < 0.3 PROJ > 2.8 MEASURE ALL NOT CONNECTED REGION
    E3 = EXT WM1_280_E  ME1 < 0.3 ABUT>0<90 CORNER TO EDGE REGION   
    E1 NOT LOGOMK
    E2 NOT LOGOMK
    E3 NOT LOGOMK    
}

M1_CT.EN1__M1.R2 {@ Minimum METAL1 overlap contact is 0um, no contact outside ME1
    X = CONT NOT ME1
    E = X NOT ( MEMORY_MARK_55 OR MEMORY_MARK_65 )
    ( E NOT LOGOMK ) NOT URAMMK
}

M1_CT.EN2_.EN3_.EN4 {@ EN2: Minimum METAL1 line end enclosure of CONTACT is 0.03 um
                     @ EN3: Minimum METAL1 line end enclosure of CONTACT at METAL1 outer corner is 0.03 um
                     @      ( for two adjacent sides, one side should be treated as metal line end )
                     @ EN4: METAL1 enclosure of CONTACT, including diagonal enclosure, for four sides is 0.02 um
                     @      if M1-CT.EN2 is not fulfilled.
                     
    X = ENC CONT ME1 < 0.02  ABUT < 90 SINGULAR REGION
    Y = CONT INTERACT X
    Z = RECTANGLE ENC Y ME1
    GOOD 0.00 0.03 OPPOSITE 0.00 0.03 OPPOSITE    
    E = Z NOT ( MEMORY_MARK_55 OR MEMORY_MARK_65 ) 
    E NOT LOGOMK
}

M1_CT.EN5 {@ METAL1 enclosure of CONT is 0.04um at end-of-line when this
           @ line_end width is <= 0.11
           @ line with space is <= 0.12 
            
   A  = ME1 NOT ( SIZE ( SIZE ME1 BY -0.055 ) BY 0.055 )
   B  = CONT TOUCH INSIDE EDGE ( ENC [CONT] A >= 0.03 < 0.04 OPPOSITE )     
   B1 = ( EXPAND EDGE B OUTSIDE BY 0.04 INSIDE BY 0.001 EXTEND BY 0.02 ) AND ME1  
   C  = CONT WITH EDGE B 
   D1 = ENC CONT [A] <  0.03  ABUT==0        
   D  = B1 COIN INSIDE EDGE ( EXPAND EDGE D1 INSIDE BY 0.001 EXTEND BY 0.04 )
   E  = D TOUCH INSIDE EDGE ( EXT [D] ME1 <= 0.12  ABUT==0 OPPOSITE )   
   F1 = INT [E] <= 0.11 OPPOSITE// REGION    
   F  = CONT INTERACT ( B1 INTERACT ( INT E <= 0.11 REGION ) ) // 2 SIDE CONT     
   F2 = CONT INSIDE EDGE ( B1 INTERACT ( INT E <= 0.11 REGION ) ) // 2 SIDE CONT       
   H  = B1 INTERACT F 
   I  = EXTENTS H
   J  = ( I NOT TOUCH INSIDE EDGE F1 ) NOT TOUCH  EDGE CONT  
   J1 = ( EXPAND EDGE J INSIDE BY 0.001 EXTEND BY 0.001 ) TOUCH INSIDE EDGE J
   T3 = EXT [J1] ME1 <= 0.12 OPPOSITE
   T4 = ( ( EXPAND EDGE  ( J1 TOUCH EDGE T3 ) INSIDE BY 0.02 ) AND ME1 ) COIN INSIDE EDGE ME1 // fit the metal line edge shape
   X = ENC  F2 T4 >=0.03 < 0.04 OPPOSITE REGION
   ( X NOT LOGOMK ) NOT ( MEMORY_MARK_55 OR MEMORY_MARK_65 )
}

M1.A1 {@ Minimum area of ME1 region is 0.042 sq.um
   X = AREA ME1 < 0.042
   E = X NOT ( MEMORY_MARK_55 OR MEMORY_MARK_65 ) 
   E NOT LOGOMK
}

M1.EA1 {@ Minimum Metal1 enclosed area is 0.2 sq.um
   A = HOLES ME1 INNER < 10 // SELECT INNER HOLES AREA < 50 X a
   B = A NOT ME1 // SELECT ENCLOSED AREA    
   E = AREA B < 0.2
   E NOT LOGOMK
}


// DIE_CORNER_150 = OR DIE_CORNER_SR DIE_CORNER_NSR

//M1.R1 {@ 45" ME1 is not allowed
//    X = (( ME1  NOT  SEALRMARK ) NOT DIE_CORNER_150 ) NOT LOGOMK
//    ANGLE X  >0<90
//}

M1.W2 {@ Minimum width of 45 degree metal is 0.19um
   E = INT ME1 < 0.19 ANGLED == 2 REGION
   E NOT LOGOMK
}

M1.S4 {@ Minimum spacing of 45 degree metal is 0.19um
   E = EXT ME1 < 0.19 ANGLED == 2 REGION
   E NOT LOGOMK
}
//  
// M1.L1 {@ Minimum Length of 45 degree metal is 1.0um
//   X = ANGLE ME1 >0<90
//   Y = LENGTH X < 1
//   E1 = INT [Y] < 0.1 ABUT 
//   E1 NOT INSIDE EDGE LOGOMK
//   
//   E2 = INT ME1 < 1 PROJ <1 ANGLED ==2 REGION
//   E2 NOT LOGOMK
// }
// 
// M1.R2 checked by M1_CT.EN1 

M1.R3 {@ METAL1_CUSTOMER_SLOT is not allowed except CAD_WAT_PAD_MARK ( GDS No: 90(5) ) area.
   E = M1SLOT NOT WATPADMK
   E NOT LOGOMK  
}

// Dummy rules

M1DM.L1_W3 {@ Exact METAL1_CUSTOMER_DUMMY width/length is 0.6 ~ 12 um
            @ Extra check: DRC also check if the DUMMY is a rectangle.
   E1 = NOT RECTANGLE M1DUMY  >= 0.6 BY >= 0.6
   E2 = NOT RECTANGLE M1DUMY  <= 12 BY <= 12
   E1 NOT LOGOMK 
   E2 NOT LOGOMK    
} 

M1DM.S5 {@ Minimum spacing of METAL1_CUSTOMER_DUMMY is 0.3 um   
   E = EXT M1DUMY < 0.3 ABUT<90 SINGULAR REGION
   E NOT LOGOMK
} 
 
M1DM_M1.S6 {@ Minimum spacing of METAL1_CUSTOMER_DUMMY to METAL1 is 0.3 um
   E1 = EXT M1DUMY ME1 < 0.3 ABUT<90 OVERLAP SINGULAR REGION
   E2 = M1DUMY AND ME1
   E1 NOT LOGOMK
   E2 NOT LOGOMK
} 
 
M1DM_M1DMBK.S7 {@ Minimum spacing of METAL1_CUSTOMER_DUMMY to METAL1_DUMMY_BLOCK is 0.8 um
   E = EXT M1DUMY M1DMBK < 0.8 ABUT<90 OVERLAP SINGULAR REGION
   E NOT LOGOMK   
} 
 
M1DM_IND.S8 {@ Minimum spacing of METAL1_CUSTOMER_DUMMY to IND is 0.8 um
   E1 = EXT M1DUMY IND < 0.8 ABUT<90 OVERLAP SINGULAR REGION
   E2 = M1DUMY AND IND   
   E1 NOT LOGOMK
   E2 NOT LOGOMK   
} 
 
M1DM_FM.S9 {@ Minimum spacing of METAL1_CUSTOMER_DUMMY to FUSE_MARK is 0.8 um
   E1 = EXT M1DUMY FUSEMARK < 0.8 ABUT<90 OVERLAP SINGULAR REGION
   E2 = M1DUMY AND FUSEMARK    
   E1 NOT LOGOMK
   E2 NOT LOGOMK   
} 
 
M1DM_PM.S10 {@ Minimum spacing of METAL1_CUSTOMER_DUMMY to PAD_MARK is 0.8 um
   E1 = EXT M1DUMY PADMARK < 0.8 ABUT<90 OVERLAP SINGULAR REGION
   E2 = M1DUMY AND PADMARK 
   E1 NOT LOGOMK   
   E2 NOT LOGOMK    
} 
 
M1DM_SRM.S11 {@ Minimum spacing of METAL1_CUSTOMER_DUMMY to SEAL_RING_MARK is 0.8 um
   E1 = EXT M1DUMY SEALRMARK < 0.8 ABUT<90 OVERLAP SINGULAR REGION
   E2 = M1DUMY AND SEALRMARK 
   E1 NOT LOGOMK   
   E2 NOT LOGOMK      
} 

 
//
//
//============================
//===  Metal-2 Rule        ===
//============================
//

M2_N018 = SIZE  ME2      BY  -0.09   // ME2 width  > 0.18um
M2_N050 = SIZE  M2_N018  BY  -0.16   // ME2 width  > 0.5um
M2_N280 = SIZE  M2_N050  BY  -1.15   // ME2 width  > 2.8um
M2_N500 = SIZE  M2_N280  BY  -1.1    // ME2 width  > 5.0um


GROUP ManCK_M2 1XM2_1XV1.EN5 1XM2.W1 1XM2.S1 1XM2_1XV1.EN1 1XM2.A1 1XM2.EA1 1XM2_1XV1.EN2_.EN3_.EN4 

OFF_GRID_ME2 {@ Grid SIZE of ME2 is 0.001
  OFFGRID ME2 1  
}

SKEW_EDGE_ME2 {@ SKEW EDGE 
  X = ME2 NOT IND
   ANGLE X >0<45
   ANGLE X >45<90
}

1XM2.W1 {@ Minimum width of ME2 region is 0.1um
  X = INT ME2 < 0.1 ABUT>0<90 SINGULAR REGION
  X  NOT LOGOMK
}

1XM2.WX {@ Maximum width of METAL2 region is 12 um ( except PAD AREA )
  E =  SIZE (SIZE ( M2_N500 NOT ( PADMARK OR WATPADMK ) ) BY -3.5) BY 6 TRUNCATE 0 INSIDE OF ME2 STEP 2
  E NOT LOGOMK
}

1XM2.S1 {@ Minimum spacing and notch of METAL2 is 0.10 um
  E = EXT ME2 < 0.1 ABUT>0<90 SINGULAR REGION
  E NOT LOGOMK
}

1XM2.S2 {@ Minimum spacing and notch of METAL2 to ( METAL2 with width > 0.5 nm ) is 0.16 um  
         @ For common run length > 0.5 um
   WM2_050       = SIZE M2_N050 BY 0.25 TRUNCATE 0 INSIDE OF ME2  STEP 0.25 // ME2 > 0.5um
   WM2_050_CONN  = STAMP WM2_050 BY ME2
   WM2_050_E     = WM2_050      COIN INSIDE EDGE ME2
   WM2_050_IE    = WM2_050_CONN      INSIDE EDGE ME2   
  E1 = EXT WM2_050_E  ME2 < 0.16 PROJ > 0.5 ABUT>0<90 REGION
  E1 NOT LOGOMK
  E2 = EXT WM2_050_IE ME2 < 0.16 PROJ > 0.5 MEASURE ALL NOT CONNECTED REGION
  E2 NOT LOGOMK
  E3 = EXT WM2_050_E  ME2 < 0.16 CORNER TO EDGE ABUT>0<90 REGION  
  E3 NOT LOGOMK  
}

1XM2.S3 {@ Minimum spacing and notch of METAL2 to ( METAL2 with width > 2.8 nm ) is 0.3 um 
         @ for common run length > 1.5 um
   WM2_280       = SIZE M2_N280 BY 1.4 TRUNCATE 0 INSIDE OF ME2 STEP 1.4 // ME2 > 2.8
   WM2_280_CONN  = STAMP WM2_280 BY ME2
   WM2_280_E     = WM2_280      COIN INSIDE EDGE ME2
   WM2_280_IE    = WM2_280_CONN      INSIDE EDGE ME2
  E1 = EXT WM2_280_E  ME2 < 0.3 PROJ > 1.5 ABUT>0<90 REGION
  E1 NOT LOGOMK
  E2 = EXT WM2_280_IE ME2 < 0.3 PROJ > 1.5 MEASURE ALL NOT CONNECTED REGION
  E2 NOT LOGOMK
  E3 = EXT WM2_280_E  ME2 < 0.3 CORNER TO EDGE ABUT>0<90 REGION
  E3 NOT LOGOMK    
}

1XM2_1XV1.EN1 {@ Minimum ME2 overlap VI1 is 0um, no VI1 outside ME2
   E = VI1 NOT ME2
   E NOT LOGOMK
}

1XM2_1XV1.EN2_.EN3_.EN4 {@ EN2: Minimum METAL2 line end enclosure of VIA1 is 0.03 um
                         @ EN3: Minimum METAL2 line end enclosure of VIA1 at METAL2 outer corner is 0.03 um
                         @      ( for two adjacent sides, one side should be treated as metal line end )
                         @ EN4: METAL2 enclosure of VIA1, including diagonal enclosure, for four sides is 0.02 um
                         @      if 1XMn-1XVm.EN2 is not fulfilled.
                         
    X = ENC VI1 ME2 < 0.02  ABUT < 90 SINGULAR REGION
    Y = VI1 INTERACT  X 
    Z = RECTANGLE ENC Y ME2
    GOOD 0.00 0.03 OPPOSITE 0.00 0.03 OPPOSITE
    E = Z NOT ( MEMORY_MARK_55 OR MEMORY_MARK_65 ) 
    E NOT LOGOMK
}

1XM2_1XV1.EN5 {@ ME2 enclosure of VI1 is 0.04um at end-of-line when this
               @ line_end width is <= 0.11
               @ line with space is <= 0.12  
 
   A  = ME2 NOT ( SIZE ( SIZE ME2 BY -0.055 ) BY 0.055 )
   B  = VI1 TOUCH INSIDE EDGE ( ENC [VI1] A >= 0.03 < 0.04 OPPOSITE )     
   B1 = ( EXPAND EDGE B OUTSIDE BY 0.04 INSIDE BY 0.001 EXTEND BY 0.02 ) AND ME2  
   C  = VI1 WITH EDGE B 
   D1 = ENC VI1 [A] <  0.03  ABUT==0        
   D  = B1 COIN INSIDE EDGE ( EXPAND EDGE D1 INSIDE BY 0.001 EXTEND BY 0.04 )
   E  = D TOUCH INSIDE EDGE ( EXT [D] ME2 <= 0.12  ABUT==0 OPPOSITE )   
   F1 = INT [E] <= 0.11 OPPOSITE// REGION    
   F  = VI1 INTERACT ( B1 INTERACT ( INT E <= 0.11 REGION ) ) // 2 SIDE VI1     
   F2 = VI1 INSIDE EDGE ( B1 INTERACT ( INT E <= 0.11 REGION ) ) // 2 SIDE VI1       
   H  = B1 INTERACT F 
   I  = EXTENTS H
   J  = ( I NOT TOUCH INSIDE EDGE F1 ) NOT TOUCH  EDGE VI1  
   J1 = ( EXPAND EDGE J INSIDE BY 0.001 EXTEND BY 0.001 ) TOUCH INSIDE EDGE J
   T3 = EXT [J1] ME2 <= 0.12 OPPOSITE
   T4 = ( ( EXPAND EDGE  ( J1 TOUCH EDGE T3 ) INSIDE BY 0.02 ) AND ME2 ) COIN INSIDE EDGE ME2 // fit the metal line edge shape
   X = ENC  F2 T4 >=0.03 < 0.04 OPPOSITE REGION
   X NOT LOGOMK
   
}


// 1XM2_1XV1.EN3  1XM2_1XV1.EN4  checked by  1XM2_1XV1.EN2_.EN3_.EN4


1XM2.A1 {@ Minimum ME2 area is 0.046 sq.um
   X = AREA ME2 < 0.046
   E = X NOT ( MEMORY_MARK_55 OR MEMORY_MARK_65 )
   E NOT LOGOMK
}

1XM2.EA1 {@ Minimum ME2 enclosed area is 0.11 sq.um
   A = HOLES ME2 INNER < 5.5 // SELECT INNER HOLES AREA < 50 X a
   B = A NOT ME2 // SELECT ENCLOSED AREA    
   E = AREA B < 0.11
   E NOT LOGOMK
}


//1XM2.R1 {@ 45" ME2 is not allowed
//    X = (( ME2 NOT SEALRMARK ) NOT DIE_CORNER_150 ) NOT LOGOMK
//    ANGLE X >0<90
//}

1XM2.W2 {@ Minimum width of 45 degree metal is 0.2um
  E1 = INT ME2 < 0.2 ANGLED == 2 REGION
  ( E1 NOT LOGOMK ) NOT MOMSYMBOL
  E2 = INT ME2 < 0.12 ANGLED == 2 REGION
  ( E2 NOT LOGOMK ) AND MOMSYMBOL  
  // For MOMSYMBOL area, the rule is waived to 0.12 
  // Please refer to G-03M-GENERATION65N-TLR/MOM. 
}

1XM2.S4 {@ Minimum spacing of 45 degree metal is 0.2um
  E1 = EXT ME2 < 0.2 ANGLED == 2 REGION
  ( E1 NOT LOGOMK ) NOT MOMSYMBOL
  E2 = EXT ME2 < 0.22 ANGLED == 2 REGION
  ( E2 NOT LOGOMK ) AND MOMSYMBOL  
  // For MOMSYMBOL area, the rule is waived to 0.22 
  // Please refer to G-03M-GENERATION65N-TLR/MOM.   
}
//
//1XM2.L1 {@ Minimum Length of 45 degree metal is 0.4um
//  X = ANGLE ME2 >0<90
//  Y = LENGTH X < 0.4
//  E1 = INT [Y] < 0.1 ABUT 
//  E1 NOT INSIDE EDGE LOGOMK
//  
//  E2 = INT ME2 < 0.4 PROJ < 0.4 ANGLED ==2 REGION
//  E2 NOT LOGOMK
//}
//
1XM2.R {@ METAL2_CUSTOMER_SLOT is not allowed except CAD_WAT_PAD_MARK ( GDS No: 90(5) ) area.
  E = M2SLOT NOT WATPADMK
  E NOT LOGOMK  
}

// Dummy rules

1XM2DM.L1_W3 {@ Exact METAL2_CUSTOMER_DUMMY width/length is 0.6 ~ 12 um
            @ Extra check: DRC also check if the DUMMY is a rectangle.
   E1 = NOT RECTANGLE M2DUMY  >= 0.6 BY >= 0.6
   E2 = NOT RECTANGLE M2DUMY  <= 12 BY <= 12
   E1 NOT LOGOMK 
   E2 NOT LOGOMK    
} 

1XM2DM.S5 {@ Minimum spacing of METAL2_CUSTOMER_DUMMY is 0.3 um   
   E = EXT M2DUMY < 0.3 ABUT<90 SINGULAR REGION
   E NOT LOGOMK
} 
 
1XM2DM_M2.S6 {@ Minimum spacing of METAL2_CUSTOMER_DUMMY to METAL2 is 0.3 um
   E1 = EXT M2DUMY ME2 < 0.3 ABUT<90 OVERLAP SINGULAR REGION
   E2 = M2DUMY AND ME2
   E1 NOT LOGOMK
   E2 NOT LOGOMK
} 
 
1XM2DM_M2DMBK.S7 {@ Minimum spacing of METAL2_CUSTOMER_DUMMY to METAL2_DUMMY_BLOCK is 0.8 um
   E = EXT M2DUMY M2DMBK < 0.8 ABUT<90 OVERLAP SINGULAR REGION
   E NOT LOGOMK   
} 
 
1XM2DM_IND.S8 {@ Minimum spacing of METAL2_CUSTOMER_DUMMY to IND is 0.8 um
   E1 = EXT M2DUMY IND < 0.8 ABUT<90 OVERLAP SINGULAR REGION
   E2 = M2DUMY AND IND   
   E1 NOT LOGOMK
   E2 NOT LOGOMK   
} 
 
1XM2DM_FM.S9 {@ Minimum spacing of METAL2_CUSTOMER_DUMMY to FUSE_MARK is 0.8 um
   E1 = EXT M2DUMY FUSEMARK < 0.8 ABUT<90 OVERLAP SINGULAR REGION
   E2 = M2DUMY AND FUSEMARK    
   E1 NOT LOGOMK
   E2 NOT LOGOMK   
} 
 
1XM2DM_PM.S10 {@ Minimum spacing of METAL2_CUSTOMER_DUMMY to PAD_MARK is 0.8 um
   E1 = EXT M2DUMY PADMARK < 0.8 ABUT<90 OVERLAP SINGULAR REGION
   E2 = M2DUMY AND PADMARK 
   E1 NOT LOGOMK   
   E2 NOT LOGOMK    
} 
 
1XM2DM_SRM.S11 {@ Minimum spacing of METAL2_CUSTOMER_DUMMY to SEAL_RING_MARK is 0.8 um
   E1 = EXT M2DUMY SEALRMARK < 0.8 ABUT<90 OVERLAP SINGULAR REGION
   E2 = M2DUMY AND SEALRMARK 
   E1 NOT LOGOMK   
   E2 NOT LOGOMK      
} 

 
//
//============================
//===  Metal-3 Rule        ===
//============================
//

M3_N018 = SIZE  ME3      BY  -0.09   // ME3 width  > 0.18um
M3_N050 = SIZE  M3_N018  BY  -0.16   // ME3 width  > 0.5um
M3_N280 = SIZE  M3_N050  BY  -1.15   // ME3 width  > 2.8um
M3_N500 = SIZE  M3_N280  BY  -1.1    // ME3 width  > 5.0um

//

//

GROUP ManCK_M3 1XM3_1XV2.EN5 1XM3.W1 1XM3.S1 1XM3_1XV2.EN1 1XM3.A1 1XM3.EA1 1XM3_1XV2.EN2_.EN3_.EN4 1XM3.W2 1XM3.S4 // 1XM3.L1 


OFF_GRID_ME3 {@ Grid SIZE of ME3 is 0.001
  OFFGRID ME3 1
}

SKEW_EDGE_ME3 {@ SKEW EDGE 
  X = ME3 NOT IND
   ANGLE X >0<45
   ANGLE X >45<90
}

1XM3.W1  {@ Minimum width of ME3 region is 0.10um
   E = INT ME3 < 0.10 ABUT>0<90 SINGULAR REGION
   E NOT LOGOMK
}

1XM3.WX {@ Maximum width of ME3 region is 12um
   E = SIZE (SIZE ( M3_N500 NOT ( PADMARK OR WATPADMK ) ) BY -3.5) BY 6 TRUNCATE 0 INSIDE OF ME3 STEP 2
   E NOT LOGOMK
}
1XM3.S1 {@ Minimum space between two ME3 regions is 0.10um
   E = EXT ME3 < 0.1 ABUT>0<90 SINGULAR REGION
   E NOT LOGOMK
}

1XM3.S2 {@ Minimum space between ME3 regions is 0.16 where one ME3 width > 0.5um
            @ for common run length > 0.5 um
   WM3_050       = SIZE M3_N050 BY 0.25 TRUNCATE 0 INSIDE OF ME3  STEP 0.25 // ME3 > 0.5um
   WM3_050_CONN  = STAMP WM3_050 BY ME3
   WM3_050_E     = WM3_050      COIN INSIDE EDGE ME3
   WM3_050_IE    = WM3_050_CONN      INSIDE EDGE ME3   
   E1 = EXT WM3_050_E  ME3 < 0.16 PROJ > 0.5 ABUT>0<90 REGION
   E1 NOT LOGOMK
   E2 = EXT WM3_050_IE ME3 < 0.16 PROJ > 0.5 MEASURE ALL NOT CONNECTED REGION
   E2 NOT LOGOMK
   E3 = EXT WM3_050_E  ME3 < 0.16 CORNER TO EDGE ABUT>0<90 REGION
   E3 NOT LOGOMK   
}

1XM3.S3 {@ Minimum space between ME3 regions is 0.3 where one ME3 width >2.8um
         @ for common run length > 1.5 um
   WM3_280       = SIZE M3_N280 BY 1.4 TRUNCATE 0 INSIDE OF ME3 STEP 1.4 // ME3 > 2.8
   WM3_280_CONN  = STAMP WM3_280 BY ME3
   WM3_280_E     = WM3_280      COIN INSIDE EDGE ME3
   WM3_280_IE    = WM3_280_CONN      INSIDE EDGE ME3
   E1 = EXT WM3_280_E  ME3 < 0.3 PROJ > 1.5 ABUT>0<90 REGION
   E1 NOT LOGOMK
   E2 = EXT WM3_280_IE ME3 < 0.3 PROJ > 1.5 MEASURE ALL NOT CONNECTED REGION
   E2 NOT LOGOMK
   E3 = EXT WM3_280_E  ME3 < 0.3 CORNER TO EDGE ABUT>0<90 REGION
   E3 NOT LOGOMK   
}

1XM3_1XV2.EN1 {@ Minimum ME3 overlap VI2 is 0um, no VI2 outside ME3
  X = VI2 NOT ME3
  X  NOT LOGOMK
}

1XM3_1XV2.EN2_.EN3_.EN4 {@ EN2: Minimum METAL3 line end enclosure of VIA2 is 0.03 um
                         @ EN3: Minimum METAL3 line end enclosure of VIA2 at METAL3 outer corner is 0.03 um
                         @      ( for two adjacent sides, one side should be treated as metal line end )
                         @ EN4: METAL3 enclosure of VIA2, including diagonal enclosure, for four sides is 0.02 um
                         @      if 1XM3-1XV2.EN2 is not fulfilled.
    X = ENC VI2 ME3 < 0.02   ABUT < 90 SINGULAR REGION
    Y = VI2 INTERACT X
    E = RECTANGLE ENC Y ME3
    GOOD 0.00 0.03 OPPOSITE 0.00 0.03 OPPOSITE    
    E NOT LOGOMK
}

1XM3_1XV2.EN5 {@ ME3 enclosure of VI2 is 0.04um at end-of-line when this
               @ line_end with width is <= 0.11
               @ line with space is <= 0.12
  
   A  = ME3 NOT ( SIZE ( SIZE ME3 BY -0.055 ) BY 0.055 )
   B  = VI2 TOUCH INSIDE EDGE ( ENC [VI2] A >= 0.03 < 0.04 OPPOSITE )     
   B1 = ( EXPAND EDGE B OUTSIDE BY 0.04 INSIDE BY 0.001 EXTEND BY 0.02 ) AND ME3  
   C  = VI2 WITH EDGE B 
   D1 = ENC VI2 [A] <  0.03  ABUT==0        
   D  = B1 COIN INSIDE EDGE ( EXPAND EDGE D1 INSIDE BY 0.001 EXTEND BY 0.04 )
   E  = D TOUCH INSIDE EDGE ( EXT [D] ME3 <= 0.12  ABUT==0 OPPOSITE )   
   F1 = INT [E] <= 0.11 OPPOSITE// REGION    
   F  = VI2 INTERACT ( B1 INTERACT ( INT E <= 0.11 REGION ) ) // 2 SIDE VI2     
   F2 = VI2 INSIDE EDGE ( B1 INTERACT ( INT E <= 0.11 REGION ) ) // 2 SIDE VI2       
   H  = B1 INTERACT F 
   I  = EXTENTS H
   J  = ( I NOT TOUCH INSIDE EDGE F1 ) NOT TOUCH  EDGE VI2  
   J1 = ( EXPAND EDGE J INSIDE BY 0.001 EXTEND BY 0.001 ) TOUCH INSIDE EDGE J
   T3 = EXT [J1] ME3 <= 0.12 OPPOSITE
   T4 = ( ( EXPAND EDGE  ( J1 TOUCH EDGE T3 ) INSIDE BY 0.02 ) AND ME3 ) COIN INSIDE EDGE ME3 // fit the metal line edge shape
   X = ENC  F2 T4 >=0.03 < 0.04 OPPOSITE REGION
   X NOT LOGOMK
     
}




// 1XM3_1XV2.EN3 1XM3_1XV2.EN4 checked by 1XM3_1XV2.EN2_.EN3_.EN4

1XM3.A1 {@ Minimum ME3 area is 0.046 sq.um
   E = AREA ME3 < 0.046  
   E NOT LOGOMK
}

1XM3.EA1 {@ Minimum ME3 enclosed area is 0.11 sq.um
   A = HOLES ME3 INNER < 5.5 // SELECT INNER HOLES AREA < 50 X a
   B = A NOT ME3 // SELECT ENCLOSED AREA    
   E = AREA B < 0.11
   E NOT LOGOMK
}

//1XM3.R1 {@ 45" ME3 is not allowed
//    X = (( ME3  NOT  SEALRMARK ) NOT DIE_CORNER_150 ) NOT LOGOMK
//    ANGLE X >0<90
//}

1XM3.W2 {@ Minimum width of 45 degree metal is 0.2um
  E1 = INT ME3 < 0.2 ANGLED == 2 REGION
  ( E1 NOT LOGOMK ) NOT MOMSYMBOL
  E2 = INT ME3 < 0.12 ANGLED == 2 REGION
  ( E2 NOT LOGOMK ) AND MOMSYMBOL  
  // For MOMSYMBOL area, the rule is waived to 0.12 
  // Please refer to G-03M-GENERATION65N-TLR/MOM.
}

1XM3.S4 {@ Minimum spacing of 45 degree metal is 0.2um
  E1 = EXT ME3 < 0.2 ANGLED == 2 REGION
  ( E1 NOT LOGOMK ) NOT MOMSYMBOL
  E2 = EXT ME3 < 0.22 ANGLED == 2 REGION
  ( E2 NOT LOGOMK ) AND MOMSYMBOL  
  // For MOMSYMBOL area, the rule is waived to 0.22 
  // Please refer to G-03M-GENERATION65N-TLR/MOM.     
}

//
//1XM3.L1 {@ Minimum Length of 45 degree metal is 0.4um
//  X = ANGLE ME3 >0<90
//  Y = LENGTH X < 0.4
//  E1 =  INT [Y] < 0.1 ABUT 
//  E1 NOT INSIDE EDGE LOGOMK  
//  E2 =  INT ME3 < 0.4 PROJ <0.4 ANGLED ==2 REGION
//  E2 NOT LOGOMK
//}
//
// All Metal density rules are checked in METAL DENSITY rule section

1XM3.R2 {@ METAL3_CUSTOMER_SLOT is not allowed except CAD_WAT_PAD_MARK ( GDS No: 90(5) ) area.
  E = M3SLOT NOT WATPADMK
  E NOT LOGOMK  
}

// Dummy rules

1XM3DM.L1_W3 {@ Exact METAL3_CUSTOMER_DUMMY width/length is 0.6 ~ 12 um
            @ Extra check: DRC also check if the DUMMY is a rectangle.
   E1 = NOT RECTANGLE M3DUMY  >= 0.6 BY >= 0.6
   E2 = NOT RECTANGLE M3DUMY  <= 12 BY <= 12
   E1 NOT LOGOMK 
   E2 NOT LOGOMK    
} 

1XM3DM.S5 {@ Minimum spacing of METAL3_CUSTOMER_DUMMY is 0.3 um   
   E = EXT M3DUMY < 0.3 ABUT<90 SINGULAR REGION
   E NOT LOGOMK
} 
 
1XM3DM_M3.S6 {@ Minimum spacing of METAL3_CUSTOMER_DUMMY to METAL3 is 0.3 um
   E1 = EXT M3DUMY ME3 < 0.3 ABUT<90 OVERLAP SINGULAR REGION
   E2 = M3DUMY AND ME3
   E1 NOT LOGOMK
   E2 NOT LOGOMK
} 
 
1XM3DM_M3DMBK.S7 {@ Minimum spacing of METAL3_CUSTOMER_DUMMY to METAL3_DUMMY_BLOCK is 0.8 um
   E = EXT M3DUMY M3DMBK < 0.8 ABUT<90 OVERLAP SINGULAR REGION
   E NOT LOGOMK   
} 
 
1XM3DM_IND.S8 {@ Minimum spacing of METAL3_CUSTOMER_DUMMY to IND is 0.8 um
   E1 = EXT M3DUMY IND < 0.8 ABUT<90 OVERLAP SINGULAR REGION
   E2 = M3DUMY AND IND   
   E1 NOT LOGOMK
   E2 NOT LOGOMK   
} 
 
1XM3DM_FM.S9 {@ Minimum spacing of METAL3_CUSTOMER_DUMMY to FUSE_MARK is 0.8 um
   E1 = EXT M3DUMY FUSEMARK < 0.8 ABUT<90 OVERLAP SINGULAR REGION
   E2 = M3DUMY AND FUSEMARK    
   E1 NOT LOGOMK
   E2 NOT LOGOMK   
} 
 
1XM3DM_PM.S10 {@ Minimum spacing of METAL3_CUSTOMER_DUMMY to PAD_MARK is 0.8 um
   E1 = EXT M3DUMY PADMARK < 0.8 ABUT<90 OVERLAP SINGULAR REGION
   E2 = M3DUMY AND PADMARK 
   E1 NOT LOGOMK   
   E2 NOT LOGOMK    
} 
 
1XM3DM_SRM.S11 {@ Minimum spacing of METAL3_CUSTOMER_DUMMY to SEAL_RING_MARK is 0.8 um
   E1 = EXT M3DUMY SEALRMARK < 0.8 ABUT<90 OVERLAP SINGULAR REGION
   E2 = M3DUMY AND SEALRMARK 
   E1 NOT LOGOMK   
   E2 NOT LOGOMK      
} 

//
//============================
//===  Metal-4 Rule        ===
//============================
//

M4_N018 = SIZE  ME4      BY  -0.09   // ME4 width  > 0.18um
M4_N050 = SIZE  M4_N018  BY  -0.16   // ME4 width  > 0.5um
M4_N280 = SIZE  M4_N050  BY  -1.15   // ME4 width  > 2.8um
M4_N500 = SIZE  M4_N280  BY  -1.1    // ME4 width  > 5.0um

//

//

GROUP ManCK_M4 1XM4_1XV3.EN5 1XM4.W1 1XM4.S1 1XM4_1XV3.EN1 1XM4.A1 1XM4.EA1 1XM4_1XV3.EN2_.EN3_.EN4 1XM4.W2 1XM4.S4 // 1XM4.L1 


OFF_GRID_ME4 {@ Grid SIZE of ME4 is 0.001
  OFFGRID ME4 1
}

SKEW_EDGE_ME4 {@ SKEW EDGE 
  X = ME4 NOT IND
   ANGLE X >0<45
   ANGLE X >45<90
}

1XM4.W1  {@ Minimum width of ME4 region is 0.10um
   E = INT ME4 < 0.10 ABUT>0<90 SINGULAR REGION
   E NOT LOGOMK
}

1XM4.WX {@ Maximum width of ME4 region is 12um
   E = SIZE (SIZE ( M4_N500 NOT ( PADMARK OR WATPADMK ) ) BY -3.5) BY 6 TRUNCATE 0 INSIDE OF ME4 STEP 2
   E NOT LOGOMK
}
1XM4.S1 {@ Minimum space between two ME4 regions is 0.10um
   E = EXT ME4 < 0.1 ABUT>0<90 SINGULAR REGION
   E NOT LOGOMK
}

1XM4.S2 {@ Minimum space between ME4 regions is 0.16 where one ME4 width > 0.5um
            @ for common run length > 0.5 um
   WM4_050       = SIZE M4_N050 BY 0.25 TRUNCATE 0 INSIDE OF ME4  STEP 0.25 // ME4 > 0.5um
   WM4_050_CONN  = STAMP WM4_050 BY ME4
   WM4_050_E     = WM4_050      COIN INSIDE EDGE ME4
   WM4_050_IE    = WM4_050_CONN      INSIDE EDGE ME4   
   E1 = EXT WM4_050_E  ME4 < 0.16 PROJ > 0.5 ABUT>0<90 REGION
   E1 NOT LOGOMK
   E2 = EXT WM4_050_IE ME4 < 0.16 PROJ > 0.5 MEASURE ALL NOT CONNECTED REGION
   E2 NOT LOGOMK
   E3 = EXT WM4_050_E  ME4 < 0.16 CORNER TO EDGE ABUT>0<90 REGION
   E3 NOT LOGOMK   
}

1XM4.S3 {@ Minimum space between ME4 regions is 0.3 where one ME4 width >2.8um
         @ for common run length > 1.5 um
   WM4_280       = SIZE M4_N280 BY 1.4 TRUNCATE 0 INSIDE OF ME4 STEP 1.4 // ME4 > 2.8
   WM4_280_CONN  = STAMP WM4_280 BY ME4
   WM4_280_E     = WM4_280      COIN INSIDE EDGE ME4
   WM4_280_IE    = WM4_280_CONN      INSIDE EDGE ME4
   E1 = EXT WM4_280_E  ME4 < 0.3 PROJ > 1.5 ABUT>0<90 REGION
   E1 NOT LOGOMK
   E2 = EXT WM4_280_IE ME4 < 0.3 PROJ > 1.5 MEASURE ALL NOT CONNECTED REGION
   E2 NOT LOGOMK
   E3 = EXT WM4_280_E  ME4 < 0.3 CORNER TO EDGE ABUT>0<90 REGION
   E3 NOT LOGOMK   
}

1XM4_1XV3.EN1 {@ Minimum ME4 overlap VI3 is 0um, no VI3 outside ME4
   ( VI3 NOT ME4 ) NOT LOGOMK
}

1XM4_1XV3.EN2_.EN3_.EN4 {@ EN2: Minimum METAL4 line end enclosure of VIA3 is 0.03 um
                         @ EN3: Minimum METAL4 line end enclosure of VIA3 at METAL4 outer corner is 0.03 um
                         @      ( for two adjacent sides, one side should be treated as metal line end )
                         @ EN4: METAL4 enclosure of VIA3, including diagonal enclosure, for four sides is 0.02 um
                         @      if 1XM4-1XV3.EN2 is not fulfilled.
    X = ENC VI3 ME4 < 0.02   ABUT < 90 SINGULAR REGION
    Y = VI3 INTERACT X
    E = RECTANGLE ENC Y ME4
    GOOD 0.00 0.03 OPPOSITE 0.00 0.03 OPPOSITE    
    E NOT LOGOMK
}

1XM4_1XV3.EN5 {@ ME4 enclosure of VI3 is 0.04um at end-of-line when this
               @ line_end with width is <= 0.11
               @ line with space is <= 0.12
  
   A  = ME4 NOT ( SIZE ( SIZE ME4 BY -0.055 ) BY 0.055 )
   B  = VI3 TOUCH INSIDE EDGE ( ENC [VI3] A >= 0.03 < 0.04 OPPOSITE )     
   B1 = ( EXPAND EDGE B OUTSIDE BY 0.04 INSIDE BY 0.001 EXTEND BY 0.02 ) AND ME4  
   C  = VI3 WITH EDGE B 
   D1 = ENC VI3 [A] <  0.03  ABUT==0        
   D  = B1 COIN INSIDE EDGE ( EXPAND EDGE D1 INSIDE BY 0.001 EXTEND BY 0.04 )
   E  = D TOUCH INSIDE EDGE ( EXT [D] ME4 <= 0.12  ABUT==0 OPPOSITE )   
   F1 = INT [E] <= 0.11 OPPOSITE// REGION    
   F  = VI3 INTERACT ( B1 INTERACT ( INT E <= 0.11 REGION ) ) // 2 SIDE VI3     
   F2 = VI3 INSIDE EDGE ( B1 INTERACT ( INT E <= 0.11 REGION ) ) // 2 SIDE VI3       
   H  = B1 INTERACT F 
   I  = EXTENTS H
   J  = ( I NOT TOUCH INSIDE EDGE F1 ) NOT TOUCH  EDGE VI3  
   J1 = ( EXPAND EDGE J INSIDE BY 0.001 EXTEND BY 0.001 ) TOUCH INSIDE EDGE J
   T3 = EXT [J1] ME4 <= 0.12 OPPOSITE
   T4 = ( ( EXPAND EDGE  ( J1 TOUCH EDGE T3 ) INSIDE BY 0.02 ) AND ME4 ) COIN INSIDE EDGE ME4 // fit the metal line edge shape
   X = ENC  F2 T4 >=0.03 < 0.04 OPPOSITE REGION
   X NOT LOGOMK
     
}




// 1XM4_1XV3.EN3 1XM4_1XV3.EN4 checked by 1XM4_1XV3.EN2_.EN3_.EN4

1XM4.A1 {@ Minimum ME4 area is 0.046 sq.um
   E = AREA ME4 < 0.046  
   E NOT LOGOMK
}

1XM4.EA1 {@ Minimum ME4 enclosed area is 0.11 sq.um
   A = HOLES ME4 INNER < 5.5 // SELECT INNER HOLES AREA < 50 X a
   B = A NOT ME4 // SELECT ENCLOSED AREA    
   E = AREA B < 0.11
   E NOT LOGOMK
}

//1XM4.R1 {@ 45" ME4 is not allowed
//    X = (( ME4  NOT  SEALRMARK ) NOT DIE_CORNER_150 ) NOT LOGOMK
//    ANGLE X >0<90
//}

1XM4.W2 {@ Minimum width of 45 degree metal is 0.2um
  E1 = INT ME4 < 0.2 ANGLED == 2 REGION
  ( E1 NOT LOGOMK ) NOT MOMSYMBOL
  E2 = INT ME4 < 0.12 ANGLED == 2 REGION
  ( E2 NOT LOGOMK ) AND MOMSYMBOL  
  // For MOMSYMBOL area, the rule is waived to 0.12 
  // Please refer to G-03M-GENERATION65N-TLR/MOM.
}

1XM4.S4 {@ Minimum spacing of 45 degree metal is 0.2um
  E1 = EXT ME4 < 0.2 ANGLED == 2 REGION
  ( E1 NOT LOGOMK ) NOT MOMSYMBOL
  E2 = EXT ME4 < 0.22 ANGLED == 2 REGION
  ( E2 NOT LOGOMK ) AND MOMSYMBOL  
  // For MOMSYMBOL area, the rule is waived to 0.22 
  // Please refer to G-03M-GENERATION65N-TLR/MOM.     
}

//
//1XM4.L1 {@ Minimum Length of 45 degree metal is 0.4um
//  X = ANGLE ME4 >0<90
//  Y = LENGTH X < 0.4
//  E1 =  INT [Y] < 0.1 ABUT 
//  E1 NOT INSIDE EDGE LOGOMK  
//  E2 =  INT ME4 < 0.4 PROJ <0.4 ANGLED ==2 REGION
//  E2 NOT LOGOMK
//}
//
// All Metal density rules are checked in METAL DENSITY rule section

1XM4.R2 {@ METAL4_CUSTOMER_SLOT is not allowed except CAD_WAT_PAD_MARK ( GDS No: 90(5) ) area.
  E = M4SLOT NOT WATPADMK
  E NOT LOGOMK  
}

// Dummy rules

1XM4DM.L1_W3 {@ Exact METAL4_CUSTOMER_DUMMY width/length is 0.6 ~ 12 um
            @ Extra check: DRC also check if the DUMMY is a rectangle.
   E1 = NOT RECTANGLE M4DUMY  >= 0.6 BY >= 0.6
   E2 = NOT RECTANGLE M4DUMY  <= 12 BY <= 12
   E1 NOT LOGOMK 
   E2 NOT LOGOMK    
} 

1XM4DM.S5 {@ Minimum spacing of METAL4_CUSTOMER_DUMMY is 0.3 um   
   E = EXT M4DUMY < 0.3 ABUT<90 SINGULAR REGION
   E NOT LOGOMK
} 
 
1XM4DM_M4.S6 {@ Minimum spacing of METAL4_CUSTOMER_DUMMY to METAL4 is 0.3 um
   E1 = EXT M4DUMY ME4 < 0.3 ABUT<90 OVERLAP SINGULAR REGION
   E2 = M4DUMY AND ME4
   E1 NOT LOGOMK
   E2 NOT LOGOMK
} 
 
1XM4DM_M4DMBK.S7 {@ Minimum spacing of METAL4_CUSTOMER_DUMMY to METAL4_DUMMY_BLOCK is 0.8 um
   E = EXT M4DUMY M4DMBK < 0.8 ABUT<90 OVERLAP SINGULAR REGION
   E NOT LOGOMK   
} 
 
1XM4DM_IND.S8 {@ Minimum spacing of METAL4_CUSTOMER_DUMMY to IND is 0.8 um
   E1 = EXT M4DUMY IND < 0.8 ABUT<90 OVERLAP SINGULAR REGION
   E2 = M4DUMY AND IND   
   E1 NOT LOGOMK
   E2 NOT LOGOMK   
} 
 
1XM4DM_FM.S9 {@ Minimum spacing of METAL4_CUSTOMER_DUMMY to FUSE_MARK is 0.8 um
   E1 = EXT M4DUMY FUSEMARK < 0.8 ABUT<90 OVERLAP SINGULAR REGION
   E2 = M4DUMY AND FUSEMARK    
   E1 NOT LOGOMK
   E2 NOT LOGOMK   
} 
 
1XM4DM_PM.S10 {@ Minimum spacing of METAL4_CUSTOMER_DUMMY to PAD_MARK is 0.8 um
   E1 = EXT M4DUMY PADMARK < 0.8 ABUT<90 OVERLAP SINGULAR REGION
   E2 = M4DUMY AND PADMARK 
   E1 NOT LOGOMK   
   E2 NOT LOGOMK    
} 
 
1XM4DM_SRM.S11 {@ Minimum spacing of METAL4_CUSTOMER_DUMMY to SEAL_RING_MARK is 0.8 um
   E1 = EXT M4DUMY SEALRMARK < 0.8 ABUT<90 OVERLAP SINGULAR REGION
   E2 = M4DUMY AND SEALRMARK 
   E1 NOT LOGOMK   
   E2 NOT LOGOMK      
} 

//
//============================
//===  Metal-5 Rule        ===
//============================
//

M5_N018 = SIZE  ME5      BY  -0.09   // ME5 width  > 0.18um
M5_N050 = SIZE  M5_N018  BY  -0.16   // ME5 width  > 0.5um
M5_N280 = SIZE  M5_N050  BY  -1.15   // ME5 width  > 2.8um
M5_N500 = SIZE  M5_N280  BY  -1.1    // ME5 width  > 5.0um

//

//

GROUP ManCK_M5 1XM5_1XV4.EN5 1XM5.W1 1XM5.S1 1XM5_1XV4.EN1 1XM5.A1 1XM5.EA1 1XM5_1XV4.EN2_.EN3_.EN4 1XM5.W2 1XM5.S4 // 1XM5.L1 


OFF_GRID_ME5 {@ Grid SIZE of ME5 is 0.001
  OFFGRID ME5 1
}

SKEW_EDGE_ME5 {@ SKEW EDGE 
  X = ME5 NOT IND
   ANGLE X >0<45
   ANGLE X >45<90
}

1XM5.W1  {@ Minimum width of ME5 region is 0.10um
   E = INT ME5 < 0.10 ABUT>0<90 SINGULAR REGION
   E NOT LOGOMK
}

1XM5.WX {@ Maximum width of ME5 region is 12um
   E = SIZE (SIZE ( M5_N500 NOT ( PADMARK OR WATPADMK ) ) BY -3.5) BY 6 TRUNCATE 0 INSIDE OF ME5 STEP 2
   E NOT LOGOMK
}
1XM5.S1 {@ Minimum space between two ME5 regions is 0.10um
   E = EXT ME5 < 0.1 ABUT>0<90 SINGULAR REGION
   E NOT LOGOMK
}

1XM5.S2 {@ Minimum space between ME5 regions is 0.16 where one ME5 width > 0.5um
            @ for common run length > 0.5 um
   WM5_050       = SIZE M5_N050 BY 0.25 TRUNCATE 0 INSIDE OF ME5  STEP 0.25 // ME5 > 0.5um
   WM5_050_CONN  = STAMP WM5_050 BY ME5
   WM5_050_E     = WM5_050      COIN INSIDE EDGE ME5
   WM5_050_IE    = WM5_050_CONN      INSIDE EDGE ME5   
   E1 = EXT WM5_050_E  ME5 < 0.16 PROJ > 0.5 ABUT>0<90 REGION
   E1 NOT LOGOMK
   E2 = EXT WM5_050_IE ME5 < 0.16 PROJ > 0.5 MEASURE ALL NOT CONNECTED REGION
   E2 NOT LOGOMK
   E3 = EXT WM5_050_E  ME5 < 0.16 CORNER TO EDGE ABUT>0<90 REGION
   E3 NOT LOGOMK   
}

1XM5.S3 {@ Minimum space between ME5 regions is 0.3 where one ME5 width >2.8um
         @ for common run length > 1.5 um
   WM5_280       = SIZE M5_N280 BY 1.4 TRUNCATE 0 INSIDE OF ME5 STEP 1.4 // ME5 > 2.8
   WM5_280_CONN  = STAMP WM5_280 BY ME5
   WM5_280_E     = WM5_280      COIN INSIDE EDGE ME5
   WM5_280_IE    = WM5_280_CONN      INSIDE EDGE ME5
   E1 = EXT WM5_280_E  ME5 < 0.3 PROJ > 1.5 ABUT>0<90 REGION
   E1 NOT LOGOMK
   E2 = EXT WM5_280_IE ME5 < 0.3 PROJ > 1.5 MEASURE ALL NOT CONNECTED REGION
   E2 NOT LOGOMK
   E3 = EXT WM5_280_E  ME5 < 0.3 CORNER TO EDGE ABUT>0<90 REGION
   E3 NOT LOGOMK   
}

1XM5_1XV4.EN1 {@ Minimum ME5 overlap VI4 is 0um, no VI4 outside ME5
   ( VI4 NOT ME5 ) NOT LOGOMK
}

1XM5_1XV4.EN2_.EN3_.EN4 {@ EN2: Minimum METAL5 line end enclosure of VIA4 is 0.03 um
                         @ EN3: Minimum METAL5 line end enclosure of VIA4 at METAL5 outer corner is 0.03 um
                         @      ( for two adjacent sides, one side should be treated as metal line end )
                         @ EN4: METAL5 enclosure of VIA4, including diagonal enclosure, for four sides is 0.02 um
                         @      if 1XM5-1XV4.EN2 is not fulfilled.
    X = ENC VI4 ME5 < 0.02   ABUT < 90 SINGULAR REGION
    Y = VI4 INTERACT X
    E = RECTANGLE ENC Y ME5
    GOOD 0.00 0.03 OPPOSITE 0.00 0.03 OPPOSITE    
    E NOT LOGOMK
}

1XM5_1XV4.EN5 {@ ME5 enclosure of VI4 is 0.04um at end-of-line when this
               @ line_end with width is <= 0.11
               @ line with space is <= 0.12
  
   A  = ME5 NOT ( SIZE ( SIZE ME5 BY -0.055 ) BY 0.055 )
   B  = VI4 TOUCH INSIDE EDGE ( ENC [VI4] A >= 0.03 < 0.04 OPPOSITE )     
   B1 = ( EXPAND EDGE B OUTSIDE BY 0.04 INSIDE BY 0.001 EXTEND BY 0.02 ) AND ME5  
   C  = VI4 WITH EDGE B 
   D1 = ENC VI4 [A] <  0.03  ABUT==0        
   D  = B1 COIN INSIDE EDGE ( EXPAND EDGE D1 INSIDE BY 0.001 EXTEND BY 0.04 )
   E  = D TOUCH INSIDE EDGE ( EXT [D] ME5 <= 0.12  ABUT==0 OPPOSITE )   
   F1 = INT [E] <= 0.11 OPPOSITE// REGION    
   F  = VI4 INTERACT ( B1 INTERACT ( INT E <= 0.11 REGION ) ) // 2 SIDE VI4     
   F2 = VI4 INSIDE EDGE ( B1 INTERACT ( INT E <= 0.11 REGION ) ) // 2 SIDE VI4       
   H  = B1 INTERACT F 
   I  = EXTENTS H
   J  = ( I NOT TOUCH INSIDE EDGE F1 ) NOT TOUCH  EDGE VI4  
   J1 = ( EXPAND EDGE J INSIDE BY 0.001 EXTEND BY 0.001 ) TOUCH INSIDE EDGE J
   T3 = EXT [J1] ME5 <= 0.12 OPPOSITE
   T4 = ( ( EXPAND EDGE  ( J1 TOUCH EDGE T3 ) INSIDE BY 0.02 ) AND ME5 ) COIN INSIDE EDGE ME5 // fit the metal line edge shape
   X = ENC  F2 T4 >=0.03 < 0.04 OPPOSITE REGION
   X NOT LOGOMK
     
}




// 1XM5_1XV4.EN3 1XM5_1XV4.EN4 checked by 1XM5_1XV4.EN2_.EN3_.EN4

1XM5.A1 {@ Minimum ME5 area is 0.046 sq.um
   E = AREA ME5 < 0.046  
   E NOT LOGOMK
}

1XM5.EA1 {@ Minimum ME5 enclosed area is 0.11 sq.um
   A = HOLES ME5 INNER < 5.5 // SELECT INNER HOLES AREA < 50 X a
   B = A NOT ME5 // SELECT ENCLOSED AREA    
   E = AREA B < 0.11
   E NOT LOGOMK
}

//1XM5.R1 {@ 45" ME5 is not allowed
//    X = (( ME5  NOT  SEALRMARK ) NOT DIE_CORNER_150 ) NOT LOGOMK
//    ANGLE X >0<90
//}

1XM5.W2 {@ Minimum width of 45 degree metal is 0.2um
  E1 = INT ME5 < 0.2 ANGLED == 2 REGION
  ( E1 NOT LOGOMK ) NOT MOMSYMBOL
  E2 = INT ME5 < 0.12 ANGLED == 2 REGION
  ( E2 NOT LOGOMK ) AND MOMSYMBOL  
  // For MOMSYMBOL area, the rule is waived to 0.12 
  // Please refer to G-03M-GENERATION65N-TLR/MOM.
}

1XM5.S4 {@ Minimum spacing of 45 degree metal is 0.2um
  E1 = EXT ME5 < 0.2 ANGLED == 2 REGION
  ( E1 NOT LOGOMK ) NOT MOMSYMBOL
  E2 = EXT ME5 < 0.22 ANGLED == 2 REGION
  ( E2 NOT LOGOMK ) AND MOMSYMBOL  
  // For MOMSYMBOL area, the rule is waived to 0.22 
  // Please refer to G-03M-GENERATION65N-TLR/MOM.     
}

//
//1XM5.L1 {@ Minimum Length of 45 degree metal is 0.4um
//  X = ANGLE ME5 >0<90
//  Y = LENGTH X < 0.4
//  E1 =  INT [Y] < 0.1 ABUT 
//  E1 NOT INSIDE EDGE LOGOMK  
//  E2 =  INT ME5 < 0.4 PROJ <0.4 ANGLED ==2 REGION
//  E2 NOT LOGOMK
//}
//
// All Metal density rules are checked in METAL DENSITY rule section

1XM5.R2 {@ METAL5_CUSTOMER_SLOT is not allowed except CAD_WAT_PAD_MARK ( GDS No: 90(5) ) area.
  E = M5SLOT NOT WATPADMK
  E NOT LOGOMK  
}

// Dummy rules

1XM5DM.L1_W3 {@ Exact METAL5_CUSTOMER_DUMMY width/length is 0.6 ~ 12 um
            @ Extra check: DRC also check if the DUMMY is a rectangle.
   E1 = NOT RECTANGLE M5DUMY  >= 0.6 BY >= 0.6
   E2 = NOT RECTANGLE M5DUMY  <= 12 BY <= 12
   E1 NOT LOGOMK 
   E2 NOT LOGOMK    
} 

1XM5DM.S5 {@ Minimum spacing of METAL5_CUSTOMER_DUMMY is 0.3 um   
   E = EXT M5DUMY < 0.3 ABUT<90 SINGULAR REGION
   E NOT LOGOMK
} 
 
1XM5DM_M5.S6 {@ Minimum spacing of METAL5_CUSTOMER_DUMMY to METAL5 is 0.3 um
   E1 = EXT M5DUMY ME5 < 0.3 ABUT<90 OVERLAP SINGULAR REGION
   E2 = M5DUMY AND ME5
   E1 NOT LOGOMK
   E2 NOT LOGOMK
} 
 
1XM5DM_M5DMBK.S7 {@ Minimum spacing of METAL5_CUSTOMER_DUMMY to METAL5_DUMMY_BLOCK is 0.8 um
   E = EXT M5DUMY M5DMBK < 0.8 ABUT<90 OVERLAP SINGULAR REGION
   E NOT LOGOMK   
} 
 
1XM5DM_IND.S8 {@ Minimum spacing of METAL5_CUSTOMER_DUMMY to IND is 0.8 um
   E1 = EXT M5DUMY IND < 0.8 ABUT<90 OVERLAP SINGULAR REGION
   E2 = M5DUMY AND IND   
   E1 NOT LOGOMK
   E2 NOT LOGOMK   
} 
 
1XM5DM_FM.S9 {@ Minimum spacing of METAL5_CUSTOMER_DUMMY to FUSE_MARK is 0.8 um
   E1 = EXT M5DUMY FUSEMARK < 0.8 ABUT<90 OVERLAP SINGULAR REGION
   E2 = M5DUMY AND FUSEMARK    
   E1 NOT LOGOMK
   E2 NOT LOGOMK   
} 
 
1XM5DM_PM.S10 {@ Minimum spacing of METAL5_CUSTOMER_DUMMY to PAD_MARK is 0.8 um
   E1 = EXT M5DUMY PADMARK < 0.8 ABUT<90 OVERLAP SINGULAR REGION
   E2 = M5DUMY AND PADMARK 
   E1 NOT LOGOMK   
   E2 NOT LOGOMK    
} 
 
1XM5DM_SRM.S11 {@ Minimum spacing of METAL5_CUSTOMER_DUMMY to SEAL_RING_MARK is 0.8 um
   E1 = EXT M5DUMY SEALRMARK < 0.8 ABUT<90 OVERLAP SINGULAR REGION
   E2 = M5DUMY AND SEALRMARK 
   E1 NOT LOGOMK   
   E2 NOT LOGOMK      
} 


//
//============================
//===  Metal-6 Rule        ===
//============================
//

OFF_GRID_ME6 {@ Grid SIZE of ME6 is 0.001
  OFFGRID ME6 1

} 

SKEW_EDGE_ME6 {@ SKEW EDGE 
  X = ME6 NOT IND
   ANGLE X >0<45
   ANGLE X >45<90
}

M6_N018 = SIZE  ME6      BY  -0.09   // ME6 width  > 0.18um
M6_N050 = SIZE  M6_N018  BY  -0.16   // ME6 width  > 0.5um
M6_N280 = SIZE  M6_N050  BY  -1.15   // ME6 width  > 2.8um
M6_N500 = SIZE  M6_N280  BY  -1.1    // ME6 width  > 5.0um

//
GROUP ManCK_M6 1XM6_1XV5.EN5 1XM6.W1 1XM6.S1 1XM6_1XV5.EN1 1XM6.A1 1XM6.EA1 1XM6_1XV5.EN2_.EN3_.EN4 1XM6.W2 1XM6.S4 // 1XM6.L1 
//

1XM6.W1  {@ Minimum width of ME6 region is 0.10um
  E = INT ME6 < 0.10 ABUT>0<90 SINGULAR REGION
  E NOT LOGOMK
}

1XM6.WX {@ Maximum width of ME6 region is 12um
   E = SIZE (SIZE ( M6_N500 NOT ( PADMARK OR WATPADMK ) ) BY -3.5) BY 6 TRUNCATE 0 INSIDE OF ME6 STEP 2
   E NOT LOGOMK
}

1XM6.S1 {@ Minimum space between two ME6 regions is 0.10um
  E = EXT ME6 < 0.1 ABUT>0<90 SINGULAR REGION
  E NOT LOGOMK
}

1XM6.S2 {@ Minimum space between ME6 regions is 0.16 where one ME6 width > 0.5um
         @ for common run length > 0.5 um
   WM6_050       = SIZE M6_N050 BY 0.25 TRUNCATE 0 INSIDE OF ME6  STEP 0.25 // ME6 > 0.5um
   WM6_050_CONN  = STAMP WM6_050 BY ME6
   WM6_050_E     = WM6_050      COIN INSIDE EDGE ME6
   WM6_050_IE    = WM6_050_CONN      INSIDE EDGE ME6   
   E1 = EXT WM6_050_E  ME6 < 0.16 PROJ > 0.5 ABUT>0<90 REGION
   E1 NOT LOGOMK
   E2 = EXT WM6_050_IE ME6 < 0.16 PROJ > 0.5 MEASURE ALL NOT CONNECTED REGION
   E2 NOT LOGOMK
   E3 = EXT WM6_050_E  ME6 < 0.16 CORNER TO EDGE ABUT>0<90 REGION
   E3 NOT LOGOMK   
}

1XM6.S3 {@ Minimum space between ME6 regions is 0.3 where one ME6 width >2.8um
         @ for common run length > 1.5 um
   WM6_280       = SIZE M6_N280 BY 1.4 TRUNCATE 0 INSIDE OF ME6 STEP 1.4 // ME6 > 2.8
   WM6_280_CONN  = STAMP WM6_280 BY ME6
   WM6_280_E     = WM6_280      COIN INSIDE EDGE ME6
   WM6_280_IE    = WM6_280_CONN      INSIDE EDGE ME6
   E1 = EXT WM6_280_E  ME6 < 0.3 PROJ > 1.5 ABUT>0<90 REGION
   E1 NOT LOGOMK
   E2 = EXT WM6_280_IE ME6 < 0.3 PROJ > 1.5 MEASURE ALL NOT CONNECTED REGION
   E2 NOT LOGOMK
   E3 = EXT WM6_280_E  ME6 < 0.3 CORNER TO EDGE ABUT>0<90 REGION
   E3 NOT LOGOMK   
}

1XM6_1XV5.EN1 {@ Minimum ME6 overlap VI5 is 0um, no VI5 outside ME6
   VI5 NOT ME6
}

1XM6_1XV5.EN2_.EN3_.EN4 {@ EN2: Minimum METAL6 line end enclosure of VIA5 is 0.03 um
                         @ EN3: Minimum METAL6 line end enclosure of VIA5 at METAL6 outer corner is 0.03 um
                         @      ( for two adjacent sides, one side should be treated as metal line end )
                         @ EN4: METAL6 enclosure of VIA5, including diagonal enclosure, for four sides is 0.02 um
                         @      if 1XM6-1XV5.EN2 is not fulfilled.
    X = ENC VI5 ME6 < 0.02 ABUT < 90 SINGULAR REGION 
    Y = VI5 INTERACT X
    E = RECTANGLE ENC Y ME6
    GOOD 0.00 0.03 OPPOSITE 0.00 0.03 OPPOSITE    
    E NOT LOGOMK
}

1XM6_1XV5.EN5 {@ ME6 enclosure of VI5 is 0.04um at end-of-line when this
                     @ line_end with width is <= 0.11
                     @ line with space is <= 0.12
   
   A  = ME6 NOT ( SIZE ( SIZE ME6 BY -0.055 ) BY 0.055 )
   B  = VI5 TOUCH INSIDE EDGE ( ENC [VI5] A >= 0.03 < 0.04 OPPOSITE )     
   B1 = ( EXPAND EDGE B OUTSIDE BY 0.04 INSIDE BY 0.001 EXTEND BY 0.02 ) AND ME6  
   C  = VI5 WITH EDGE B 
   D1 = ENC VI5 [A] <  0.03  ABUT==0        
   D  = B1 COIN INSIDE EDGE ( EXPAND EDGE D1 INSIDE BY 0.001 EXTEND BY 0.04 )
   E  = D TOUCH INSIDE EDGE ( EXT [D] ME6 <= 0.12  ABUT==0 OPPOSITE )   
   F1 = INT [E] <= 0.11 OPPOSITE// REGION    
   F  = VI5 INTERACT ( B1 INTERACT ( INT E <= 0.11 REGION ) ) // 2 SIDE VI5     
   F2 = VI5 INSIDE EDGE ( B1 INTERACT ( INT E <= 0.11 REGION ) ) // 2 SIDE VI5       
   H  = B1 INTERACT F 
   I  = EXTENTS H
   J  = ( I NOT TOUCH INSIDE EDGE F1 ) NOT TOUCH  EDGE VI5  
   J1 = ( EXPAND EDGE J INSIDE BY 0.001 EXTEND BY 0.001 ) TOUCH INSIDE EDGE J
   T3 = EXT [J1] ME6 <= 0.12 OPPOSITE
   T4 = ( ( EXPAND EDGE  ( J1 TOUCH EDGE T3 ) INSIDE BY 0.02 ) AND ME6 ) COIN INSIDE EDGE ME6 // fit the metal line edge shape
   X = ENC  F2 T4 >=0.03 < 0.04 OPPOSITE REGION
   X NOT LOGOMK
   
}


// 1XM6_1XV5.EN3 1XM6_1XV5.EN4 checked by 1XM6_1XV5.EN2_.EN3_.EN4

1XM6.A1 {@ Minimum ME6 area is 0.046 sq.um
   E = AREA ME6 < 0.046  
   E NOT LOGOMK
}

1XM6.EA1 {@ Minimum ME6 enclosed area is 0.11 sq.um
   A = HOLES ME6 INNER < 5.5 // SELECT INNER HOLES AREA < 50 X a
   B = A NOT ME6 // SELECT ENCLOSED AREA    
   E = AREA B < 0.11
   E NOT LOGOMK
}


//1XM6.R1 {@ 45" ME6 is not allowed
//    X = (( ME6  NOT  SEALRMARK ) NOT DIE_CORNER_150 ) NOT LOGOMK
//    ANGLE X >0<90
//}
   
1XM6.W2 {@ Minimum width of 45 degree metal is 0.2um
  E1 = INT ME6 < 0.2 ANGLED == 2 REGION
  ( E1 NOT LOGOMK ) NOT MOMSYMBOL
  E2 = INT ME6 < 0.12 ANGLED == 2 REGION
  ( E2 NOT LOGOMK ) AND MOMSYMBOL  
  // For MOMSYMBOL area, the rule is waived to 0.12 
  // Please refer to G-03M-GENERATION65N-TLR/MOM.
}

1XM6.S4 {@ Minimum spacing of 45 degree metal is 0.2um
  E1 = EXT ME6 < 0.2 ANGLED == 2 REGION
  ( E1 NOT LOGOMK ) NOT MOMSYMBOL
  E2 = EXT ME6 < 0.22 ANGLED == 2 REGION
  ( E2 NOT LOGOMK ) AND MOMSYMBOL  
  // For MOMSYMBOL area, the rule is waived to 0.22 
  // Please refer to G-03M-GENERATION65N-TLR/MOM.     
}    
//
//1XM6.L1 {@ Minimum Length of 45 degree metal is 0.4um
//  X = ANGLE ME6 >0<90
//  Y = LENGTH X < 0.4
//  E1 =  INT [Y] < 0.1 ABUT 
//  E1 NOT INSIDE EDGE LOGOMK  
//  E2 =  INT ME6 < 0.4 PROJ <0.4 ANGLED ==2 REGION
//  E2 NOT LOGOMK
//}

// All Metal density rules are checked in METAL DENSITY rule section

1XM6.R2 {@ METAL6_CUSTOMER_SLOT is not allowed except CAD_WAT_PAD_MARK ( GDS No: 90(5) ) area.
  E = M6SLOT NOT WATPADMK
  E NOT LOGOMK  
}
// Dummy rules

1XM6DM.L1_W3 {@ Exact METAL6_CUSTOMER_DUMMY width/length is 0.6 ~ 12 um
            @ Extra check: DRC also check if the DUMMY is a rectangle.
   E1 = NOT RECTANGLE M6DUMY  >= 0.6 BY >= 0.6
   E2 = NOT RECTANGLE M6DUMY  <= 12 BY <= 12
   E1 NOT LOGOMK 
   E2 NOT LOGOMK    
} 

1XM6DM.S5 {@ Minimum spacing of METAL6_CUSTOMER_DUMMY is 0.3 um   
   E = EXT M6DUMY < 0.3 ABUT<90 SINGULAR REGION
   E NOT LOGOMK
} 
 
1XM6DM_M6.S6 {@ Minimum spacing of METAL6_CUSTOMER_DUMMY to METAL6 is 0.3 um
   E1 = EXT M6DUMY ME6 < 0.3 ABUT<90 OVERLAP SINGULAR REGION
   E2 = M6DUMY AND ME6
   E1 NOT LOGOMK
   E2 NOT LOGOMK
} 
 
1XM6DM_M6DMBK.S7 {@ Minimum spacing of METAL6_CUSTOMER_DUMMY to METAL6_DUMMY_BLOCK is 0.8 um
   E = EXT M6DUMY M6DMBK < 0.8 ABUT<90 OVERLAP SINGULAR REGION
   E NOT LOGOMK   
} 
 
1XM6DM_IND.S8 {@ Minimum spacing of METAL6_CUSTOMER_DUMMY to IND is 0.8 um
   E1 = EXT M6DUMY IND < 0.8 ABUT<90 OVERLAP SINGULAR REGION
   E2 = M6DUMY AND IND   
   E1 NOT LOGOMK
   E2 NOT LOGOMK   
} 
 
1XM6DM_FM.S9 {@ Minimum spacing of METAL6_CUSTOMER_DUMMY to FUSE_MARK is 0.8 um
   E1 = EXT M6DUMY FUSEMARK < 0.8 ABUT<90 OVERLAP SINGULAR REGION
   E2 = M6DUMY AND FUSEMARK    
   E1 NOT LOGOMK
   E2 NOT LOGOMK   
} 
 
1XM6DM_PM.S10 {@ Minimum spacing of METAL6_CUSTOMER_DUMMY to PAD_MARK is 0.8 um
   E1 = EXT M6DUMY PADMARK < 0.8 ABUT<90 OVERLAP SINGULAR REGION
   E2 = M6DUMY AND PADMARK 
   E1 NOT LOGOMK   
   E2 NOT LOGOMK    
} 
 
1XM6DM_SRM.S11 {@ Minimum spacing of METAL6_CUSTOMER_DUMMY to SEAL_RING_MARK is 0.8 um
   E1 = EXT M6DUMY SEALRMARK < 0.8 ABUT<90 OVERLAP SINGULAR REGION
   E2 = M6DUMY AND SEALRMARK 
   E1 NOT LOGOMK   
   E2 NOT LOGOMK      
} 

//
//============================
//===  Metal-7 Rule        ===
//============================
//
 
M7_N139 = SIZE ME7  BY -0.699	
M7_N199 = SIZE M7_N139 BY -0.3 		// SIZE ME7  BY -0.999
M7_N200 = SIZE M7_N199 BY -0.001 	        // SIZE ME7  BY -1.0
M7_N419 = SIZE M7_N200 BY -1.099		// SIZE ME7  BY -2.099
M7_N800 = SIZE M7_N419 BY -1.901	        // SIZE ME7  BY -4.0

OFF_GRID_ME7 {@ Grid SIZE of ME7 is 0.001
  OFFGRID ME7 1

}

SKEW_EDGE_ME7 {@ SKEW EDGE 
  X = ME7 NOT IND
   ANGLE X >0<45
   ANGLE X >45<90
}


2XM7.W1  {@ Minimum width of ME7  region is 0.2um
  E = INT ME7  < 0.2 ABUT>0<90 SINGULAR REGION
  E NOT LOGOMK
}


2XM7.WX  {@ Maximum width of ME7  region is 12um
  E = SIZE (  ( SIZE M7_N800 BY -2) NOT ( PADMARK OR ( WATPADMK OR CUFLIPMK ) ) ) BY 6 TRUNCATE 0 INSIDE OF ME7  STEP 2
  E NOT LOGOMK
}

2XM7.S1 {@ Minimum space between two ME7  regions is 0.2um
  E = EXT ME7  < 0.2 ABUT>0<90 SINGULAR REGION
  E NOT LOGOMK
}

2XM7.S2  {@ Minimum space and notch of ME7 to ( ME7 with width > 2.0um ) is 0.35um
         @ for common run length > 1.5 um
   WM7_200       = SIZE M7_N200 BY 1 TRUNCATE 0 INSIDE OF ME7  STEP 1 // ME7  > 2
   WM7_200_CONN  = STAMP WM7_200 BY ME7
   WM7_200_E     = WM7_200      COIN INSIDE EDGE ME7
   WM7_200_IE    = WM7_200_CONN      INSIDE EDGE ME7    
   E1 = EXT WM7_200_E  ME7  < 0.35 PROJ > 1.5  ABUT>0<90 REGION
   E1 NOT LOGOMK
   E2 = EXT WM7_200_IE ME7  < 0.35 PROJ > 1.5 MEASURE ALL NOT CONNECTED REGION
   E2 NOT LOGOMK
   E3 = EXT WM7_200_E  ME7  < 0.35 CORNER TO EDGE  ABUT>0<90 REGION
   E3 NOT LOGOMK   
}

2XM7.S3  {@ Minimum space and notch of ME7  to( ME7  with width > 8.0um) is 0.84um
         @ for common run length > 4.5 um
   WM7_800       = SIZE M7_N800 BY 4 TRUNCATE 0 INSIDE OF ME7  STEP 1 // ME7  > 8
   WM7_800_CONN  = STAMP WM7_800 BY ME7
   WM7_800_E     = WM7_800      COIN INSIDE EDGE ME7
   WM7_800_IE    = WM7_800_CONN      INSIDE EDGE ME7    
   E1 = EXT WM7_800_E  ME7  < 0.84 PROJ > 4.5 ABUT>0<90 REGION
   E1 NOT LOGOMK
   E2 = EXT WM7_800_IE ME7  < 0.84 PROJ > 4.5 MEASURE ALL NOT CONNECTED REGION
   E2 NOT LOGOMK
   E3 = EXT WM7_800_E  ME7  < 0.84 CORNER TO EDGE ABUT>0<90 REGION
   E3 NOT LOGOMK   
}

2XM7_2XV6.EN1  {@ Minimum ME7 overlap VI6 is 0um, no VI6 outside ME7
   E = NOT VI6 ME7
   E NOT LOGOMK   
}

2XM7.A1  {@ Minimum ME7 area is 0.1 sq.um
   E = AREA ME7  < 0.1
   E NOT LOGOMK
}

2XM7.EA1  {@ Minimum ME7 enclosed area is 0.31 sq.um
   A = HOLES ME7 INNER < 15.5 // SELECT INNER HOLES AREA < 50 X a
   B = A NOT ME7 // SELECT ENCLOSED AREA    
   E = AREA B < 0.31
   E NOT LOGOMK
}

2XM7.W2 {@ Minimum width of 45 degree metal is 0.4um
  E = INT ME7 < 0.4 ANGLED == 2 REGION
  E NOT LOGOMK
}

2XM7.S4 {@ Minimum spacing of 45 degree metal is 0.4um
  E = EXT ME7 < 0.4 ANGLED == 2 REGION
  E NOT LOGOMK
}
//
//2XM7.L1 {@ Minimum Length of 45 degree metal is 1.0um
//  X = ANGLE ME7 >0<90
//  Y = LENGTH X < 1
//  E1 =  INT [Y] < 0.1 ABUT 
//  E1 NOT INSIDE EDGE LOGOMK  
//  E2 =  INT ME7 < 1 PROJ <1 ANGLED ==2 REGION
//  E2 NOT LOGOMK
//}

// All Metal density rules are checked in METAL DENSITY rule section

2XM7.R1 {@ METAL7_CUSTOMER_SLOT is not allowed except CAD_WAT_PAD_MARK ( GDS No: 90(5) ) area.
  E = M7SLOT NOT WATPADMK
  E NOT LOGOMK  
}
// Dummy rules

2XM7DM.L1_W2 {@ Exact METAL7_CUSTOMER_DUMMY width/length is 1.2 ~ 12 um
            @ Extra check: DRC also check if the DUMMY is a rectangle.
   E1 = NOT RECTANGLE M7DUMY  >= 1.2 BY >= 1.2
   E2 = NOT RECTANGLE M7DUMY  <= 12 BY <= 12
   E1 NOT LOGOMK 
   E2 NOT LOGOMK    
} 

2XM7DM.S5 {@ Minimum spacing of METAL7_CUSTOMER_DUMMY is 0.6 um   
   E = EXT M7DUMY < 0.6 ABUT<90 SINGULAR REGION
   E NOT LOGOMK
}  
 
2XM7DM_M7.S6 {@ Minimum spacing of METAL7_CUSTOMER_DUMMY to METAL7 is 0.6 um
   E1 = EXT M7DUMY ME7 < 0.6 ABUT<90 OVERLAP SINGULAR REGION
   E2 = M7DUMY AND ME7
   E1 NOT LOGOMK
   E2 NOT LOGOMK
} 
 
2XM7DM_M7DMBK.S7 {@ Minimum spacing of METAL7_CUSTOMER_DUMMY to METAL7_DUMMY_BLOCK is 0.8 um
   E = EXT M7DUMY M7DMBK < 0.8 ABUT<90 OVERLAP SINGULAR REGION
   E NOT LOGOMK   
} 
 
2XM7DM_IND.S8 {@ Minimum spacing of METAL7_CUSTOMER_DUMMY to IND is 0.8 um
   E1 = EXT M7DUMY IND < 0.8 ABUT<90 OVERLAP SINGULAR REGION
   E2 = M7DUMY AND IND   
   E1 NOT LOGOMK
   E2 NOT LOGOMK   
} 
 
2XM7DM_FM.S9 {@ Minimum spacing of METAL7_CUSTOMER_DUMMY to FUSE_MARK is 0.8 um
   E1 = EXT M7DUMY FUSEMARK < 0.8 ABUT<90 OVERLAP SINGULAR REGION
   E2 = M7DUMY AND FUSEMARK    
   E1 NOT LOGOMK
   E2 NOT LOGOMK   
} 
 
2XM7DM_PM.S10 {@ Minimum spacing of METAL7_CUSTOMER_DUMMY to PAD_MARK is 0.8 um
   E1 = EXT M7DUMY PADMARK < 0.8 ABUT<90 OVERLAP SINGULAR REGION
   E2 = M7DUMY AND PADMARK 
   E1 NOT LOGOMK   
   E2 NOT LOGOMK    
} 
 
2XM7DM_SRM.S11 {@ Minimum spacing of METAL7_CUSTOMER_DUMMY to SEAL_RING_MARK is 0.8 um
   E1 = EXT M7DUMY SEALRMARK < 0.8 ABUT<90 OVERLAP SINGULAR REGION
   E2 = M7DUMY AND SEALRMARK 
   E1 NOT LOGOMK   
   E2 NOT LOGOMK      
} 


//
//============================
//===  Metal-8 Rule        ===
//============================
//

M8_N139 = SIZE ME8  BY -0.699	
M8_N199 = SIZE M8_N139 BY -0.3 		// SIZE ME8  BY -0.999
M8_N200 = SIZE M8_N199 BY -0.001 	        // SIZE ME8  BY -1.0
M8_N419 = SIZE M8_N200 BY -1.099		// SIZE ME8  BY -2.099
M8_N800 = SIZE M8_N419 BY -1.901	        // SIZE ME8  BY -4.0

OFF_GRID_ME8 {@ Grid SIZE of ME8 is 0.001
  OFFGRID ME8 1
}

SKEW_EDGE_ME8 {@ SKEW EDGE 
  X = ME8 NOT IND
   ANGLE X >0<45
   ANGLE X >45<90
}


2XM8.W1  {@ Minimum width of ME8  region is 0.2um
  E = INT ME8  < 0.2 ABUT>0<90 SINGULAR REGION
  E NOT LOGOMK
}


2XM8.WX  {@ Maximum width of ME8  region is 12um
  E = SIZE (  ( SIZE M8_N800 BY -2) NOT ( PADMARK OR ( WATPADMK OR CUFLIPMK ) ) ) BY 6 TRUNCATE 0 INSIDE OF ME8  STEP 2
  E NOT LOGOMK
}

2XM8.S1 {@ Minimum space between two ME8  regions is 0.2um
  E = EXT ME8  < 0.2 ABUT>0<90 SINGULAR REGION
  E NOT LOGOMK
}

2XM8.S2  {@ Minimum space and notch of ME8 to ( ME8 with width > 2.0um ) is 0.35um
         @ for common run length > 1.5 um
   WM8_200       = SIZE M8_N200 BY 1 TRUNCATE 0 INSIDE OF ME8  STEP 1 // ME8  > 2
   WM8_200_CONN  = STAMP WM8_200 BY ME8
   WM8_200_E     = WM8_200      COIN INSIDE EDGE ME8
   WM8_200_IE    = WM8_200_CONN      INSIDE EDGE ME8    
  E1 = EXT WM8_200_E  ME8  < 0.35 PROJ > 1.5 ABUT>0<90 REGION
  E1 NOT LOGOMK  
  E2 = EXT WM8_200_IE ME8  < 0.35 PROJ > 1.5 MEASURE ALL NOT CONNECTED REGION
  E2 NOT LOGOMK
  E3 = EXT WM8_200_E  ME8  < 0.35 CORNER TO EDGE ABUT>0<90 REGION
  E3 NOT LOGOMK    
}

2XM8.S3  {@ Minimum space and notch of ME8  to( ME8  with width > 8.0um) is 0.84um
         @ for common run length > 4.5 um
   WM8_800       = SIZE M8_N800 BY 4 TRUNCATE 0 INSIDE OF ME8  STEP 1 // ME8  > 8
   WM8_800_CONN  = STAMP WM8_800 BY ME8
   WM8_800_E     = WM8_800      COIN INSIDE EDGE ME8
   WM8_800_IE    = WM8_800_CONN      INSIDE EDGE ME8    
  E1 = EXT WM8_800_E  ME8  < 0.84 PROJ > 4.5 ABUT>0<90 REGION
  E1 NOT LOGOMK
  E2 = EXT WM8_800_IE ME8  < 0.84 PROJ > 4.5 MEASURE ALL NOT CONNECTED REGION
  E2 NOT LOGOMK
  E3 = EXT WM8_800_E  ME8  < 0.84 CORNER TO EDGE ABUT>0<90 REGION
  E3 NOT LOGOMK  
}


2XM8_2XV7.EN1  {@ Minimum ME8 overlap VI7 is 0um, no VI7 outside ME8
   E = NOT VI7 ME8
   E NOT LOGOMK
}

2XM8.A1  {@ Minimum ME8 area is 0.1 sq.um
  E = AREA ME8  < 0.1
  E NOT LOGOMK
}

2XM8.EA1  {@ Minimum ME8 enclosed area is 0.31 sq.um
   A = HOLES ME8 INNER < 15.5 // SELECT INNER HOLES AREA < 50 X a
   B = A NOT ME8 // SELECT ENCLOSED AREA    
   E = AREA B < 0.31
   E NOT LOGOMK
}

2XM8.W2 {@ Minimum width of 45 degree metal is 0.4um
  E = INT ME8 < 0.4 ANGLED == 2 REGION
  E NOT LOGOMK
}

2XM8.S4 {@ Minimum spacing of 45 degree metal is 0.4um
  E = EXT ME8 < 0.4 ANGLED == 2 REGION
  E NOT LOGOMK
}
//
//2XM8.L1 {@ Minimum Length of 45 degree metal is 1.0um
//  X = ANGLE ME8 >0<90
//  Y = LENGTH X < 1
//  E1 =  INT [Y] < 0.1 ABUT 
//  E1 NOT INSIDE EDGE LOGOMK  
//  E2 =  INT ME8 < 1 PROJ <1 ANGLED ==2 REGION
//  E2 NOT LOGOMK
//}

// All Metal density rules are checked in METAL DENSITY rule section

2XM8.R1 {@ METAL8_CUSTOMER_SLOT is not allowed except CAD_WAT_PAD_MARK ( GDS No: 90(5) ) area.
  E = M8SLOT NOT WATPADMK
  E NOT LOGOMK  
}
// Dummy rules

2XM8DM.L1_W2 {@ Exact METAL8_CUSTOMER_DUMMY width/length is 1.2 ~ 12 um
            @ Extra check: DRC also check if the DUMMY is a rectangle.
   E1 = NOT RECTANGLE M8DUMY  >= 1.2 BY >= 1.2
   E2 = NOT RECTANGLE M8DUMY  <= 12 BY <= 12
   E1 NOT LOGOMK 
   E2 NOT LOGOMK    
} 

2XM8DM.S5 {@ Minimum spacing of METAL8_CUSTOMER_DUMMY is 0.6 um   
   E = EXT M8DUMY < 0.6 ABUT<90 SINGULAR REGION
   E NOT LOGOMK
}  
 
2XM8DM_M8.S6 {@ Minimum spacing of METAL8_CUSTOMER_DUMMY to METAL8 is 0.6 um
   E1 = EXT M8DUMY ME8 < 0.6 ABUT<90 OVERLAP SINGULAR REGION
   E2 = M8DUMY AND ME8
   E1 NOT LOGOMK
   E2 NOT LOGOMK
} 
 
2XM8DM_M8DMBK.S7 {@ Minimum spacing of METAL8_CUSTOMER_DUMMY to METAL8_DUMMY_BLOCK is 0.8 um
   E = EXT M8DUMY M8DMBK < 0.8 ABUT<90 OVERLAP SINGULAR REGION
   E NOT LOGOMK   
} 
 
2XM8DM_IND.S8 {@ Minimum spacing of METAL8_CUSTOMER_DUMMY to IND is 0.8 um
   E1 = EXT M8DUMY IND < 0.8 ABUT<90 OVERLAP SINGULAR REGION
   E2 = M8DUMY AND IND   
   E1 NOT LOGOMK
   E2 NOT LOGOMK   
} 
 
2XM8DM_FM.S9 {@ Minimum spacing of METAL8_CUSTOMER_DUMMY to FUSE_MARK is 0.8 um
   E1 = EXT M8DUMY FUSEMARK < 0.8 ABUT<90 OVERLAP SINGULAR REGION
   E2 = M8DUMY AND FUSEMARK    
   E1 NOT LOGOMK
   E2 NOT LOGOMK   
} 
 
2XM8DM_PM.S10 {@ Minimum spacing of METAL8_CUSTOMER_DUMMY to PAD_MARK is 0.8 um
   E1 = EXT M8DUMY PADMARK < 0.8 ABUT<90 OVERLAP SINGULAR REGION
   E2 = M8DUMY AND PADMARK 
   E1 NOT LOGOMK   
   E2 NOT LOGOMK    
} 
 
2XM8DM_SRM.S11 {@ Minimum spacing of METAL8_CUSTOMER_DUMMY to SEAL_RING_MARK is 0.8 um
   E1 = EXT M8DUMY SEALRMARK < 0.8 ABUT<90 OVERLAP SINGULAR REGION
   E2 = M8DUMY AND SEALRMARK 
   E1 NOT LOGOMK   
   E2 NOT LOGOMK      
} 


//
//============================
//===  Metal-9 Rule        ===
//============================
//

// 1st  4X

M9_N460  = SIZE ME9     BY -2.3
M9_N1600 = SIZE M9_N460 BY -5.7 // SIZE DOWN 16um

// 
OFF_GRID_ME9 {@ Grid SIZE of ME9 is 0.005
  OFFGRID ME9 5
}

SKEW_EDGE_ME9 {@ SKEW EDGE 
  X = ME9 NOT IND
   ANGLE X >0<45
   ANGLE X >45<90
}

4XM9.W1 {@ Minimum width of ME9  region is 0.4um
  E = INT ME9  < 0.4 ABUT>0<90 SINGULAR REGION
  E NOT LOGOMK
}

4XM9.WX {@ Maximum width of ME9  region is 12um
  E =  SIZE (( SIZE ME9 BY -6 ) NOT ( PADMARK OR ( WATPADMK OR CUFLIPMK ) ) )   BY 6 TRUNCATE 0 INSIDE OF ME9  STEP 2
  E NOT LOGOMK
}

4XM9.S1 {@ Minimum space between two ME9  regions is 0.4um
  E = EXT ME9  < 0.4 ABUT>0<90 SINGULAR REGION
  E NOT LOGOMK
}

4XM9.S2 {@ Minimum space and notch of ME9 to ( ME9 with width > 4.6um ) is 0.92um
   WM9_460       = SIZE M9_N460  BY 2.3 TRUNCATE 0 INSIDE OF ME9  STEP 2.3 // ME9>4.6
   WM9_460_CONN  = STAMP WM9_460 BY ME9 
   WM9_460_E     = WM9_460      COIN INSIDE EDGE ME9 
   WM9_460_IE    = WM9_460_CONN      INSIDE EDGE ME9    
  E1 = EXT WM9_460_E  ME9  < 0.92 ABUT>0<90 REGION
  E1 NOT LOGOMK
  E2 = EXT WM9_460_IE ME9  < 0.92 MEASURE ALL NOT CONNECTED REGION
  E2 NOT LOGOMK   
  E3 = EXT WM9_460_E  ME9 < 0.92 CORNER TO EDGE ABUT>0<90 REGION
  E3 NOT LOGOMK   
}

//4XM9.S3 {@ Minimum space and notch of ME9 to (ME9  with width > 16.0um) is 1.68um
//   WM9_1600       = SIZE M9_N1600 BY 8 TRUNCATE 0 INSIDE OF ME9   STEP 2 // ME9 >16
//   WM9_1600_CONN  = STAMP WM9_1600 BY ME9 
//   WM9_1600_E     = WM9_1600      COIN INSIDE EDGE ME9 
//   WM9_1600_IE    = WM9_1600_CONN      INSIDE EDGE ME9    
//   EXT WM9_1600_E  ME9  < 1.68 ABUT>0<90 REGION
//   EXT WM9_1600_IE ME9  < 1.68 MEASURE ALL NOT CONNECTED REGION
//}


4XM9_4XV8.EN1 {@ Minimum ME9 overlap VI8 is 0um, no VI8 outside ME9 
   E = NOT VI8 ME9 
   E NOT LOGOMK   
}

4XM9.A1 {@ Minimum ME9 area is 0.33 sq.um
   E =  AREA ME9  < 0.33
   E NOT LOGOMK
}

4XM9.EA1 {@ Minimum ME9 enclosed area is 0.87 sq.um
   A = HOLES ME9 INNER < 43.5 // SELECT INNER HOLES AREA < 50 X a
   B = A NOT ME9 // SELECT ENCLOSED AREA    
   E = AREA B < 0.87
   E NOT LOGOMK
} 

// All Metal density rules are checked in METAL DENSITY rule section
 
4XM9.R1 {@ METAL9_CUSTOMER_SLOT is not allowed except CAD_WAT_PAD_MARK ( GDS No: 90(5) ) area.
  E = M9SLOT NOT WATPADMK
  E NOT LOGOMK  
}

// Dummy rules

4XM9DM.L1_W2 {@ Exact METAL9_CUSTOMER_DUMMY width/length is 1.2 ~ 12 um
            @ Extra check: DRC also check if the DUMMY is a rectangle.
   E1 = NOT RECTANGLE M9DUMY  >= 1.2 BY >= 1.2
   E2 = NOT RECTANGLE M9DUMY  <= 12 BY <= 12
   E1 NOT LOGOMK 
   E2 NOT LOGOMK    
} 

4XM9DM.S3 {@ Minimum spacing of METAL9_CUSTOMER_DUMMY is 0.6 um   
   E = EXT M9DUMY < 0.6 ABUT<90 SINGULAR REGION
   E NOT LOGOMK
}  
 
4XM9DM_M9.S4 {@ Minimum spacing of METAL9_CUSTOMER_DUMMY to METAL9 is 0.6 um
   E1 = EXT M9DUMY ME9 < 0.6 ABUT<90 OVERLAP SINGULAR REGION
   E2 = M9DUMY AND ME9
   E1 NOT LOGOMK
   E2 NOT LOGOMK
} 
 
4XM9DM_M9DMBK.S5 {@ Minimum spacing of METAL9_CUSTOMER_DUMMY to METAL9_DUMMY_BLOCK is 0.8 um
   E = EXT M9DUMY M9DMBK < 0.8 ABUT<90 OVERLAP SINGULAR REGION
   E NOT LOGOMK   
} 
 
4XM9DM_IND.S6 {@ Minimum spacing of METAL9_CUSTOMER_DUMMY to IND is 0.8 um
   E1 = EXT M9DUMY IND < 0.8 ABUT<90 OVERLAP SINGULAR REGION
   E2 = M9DUMY AND IND   
   E1 NOT LOGOMK
   E2 NOT LOGOMK   
} 
 
4XM9DM_FM.S7 {@ Minimum spacing of METAL9_CUSTOMER_DUMMY to FUSE_MARK is 0.8 um
   E1 = EXT M9DUMY FUSEMARK < 0.8 ABUT<90 OVERLAP SINGULAR REGION
   E2 = M9DUMY AND FUSEMARK    
   E1 NOT LOGOMK
   E2 NOT LOGOMK   
} 
 
4XM9DM_PM.S8 {@ Minimum spacing of METAL9_CUSTOMER_DUMMY to PAD_MARK is 0.8 um
   E1 = EXT M9DUMY PADMARK < 0.8 ABUT<90 OVERLAP SINGULAR REGION
   E2 = M9DUMY AND PADMARK 
   E1 NOT LOGOMK   
   E2 NOT LOGOMK    
} 
 
4XM9DM_SRM.S9 {@ Minimum spacing of METAL9_CUSTOMER_DUMMY to SEAL_RING_MARK is 0.8 um
   E1 = EXT M9DUMY SEALRMARK < 0.8 ABUT<90 OVERLAP SINGULAR REGION
   E2 = M9DUMY AND SEALRMARK 
   E1 NOT LOGOMK   
   E2 NOT LOGOMK      
} 


//
//============================
//===  Metal-10 Rule        ===
//============================
//
 
M10_N460  = SIZE ME10     BY -2.3
M10_N1600 = SIZE M10_N460 BY -5.7

// 4X 2nd

OFF_GRID_ME10 {@ Grid SIZE of ME10 is 0.005
  OFFGRID ME10 5

}

SKEW_EDGE_ME10 {@ SKEW EDGE 
  X = ME10 NOT IND
   ANGLE X >0<45
   ANGLE X >45<90
}

4XM10.W1 {@ Minimum width of ME10  region is 0.4um
  E = INT ME10  < 0.4 ABUT>0<90 SINGULAR REGION
  E NOT LOGOMK
}


4XM10.WX {@ Maximum width of ME10  region is 12um
  E =  SIZE (((( SIZE ME10 BY -6) NOT ( PADMARK OR ( WATPADMK OR CUFLIPMK ) ) ) NOT BOACMK ) NOT RFPADMK ) BY 6 TRUNCATE 0 INSIDE OF ME10  STEP 2
  E NOT LOGOMK
}

4XM10.S1 {@ Minimum space between two ME10  regions is 0.4um
  E = EXT ME10  < 0.4 ABUT>0<90 SINGULAR REGION
  E NOT LOGOMK
}

4XM10.S2 {@ Minimum space and notch of ME10 to ( ME10 with width > 4.6um ) is 0.92um
   WM10_460       = SIZE M10_N460  BY 2.3 TRUNCATE 0 INSIDE OF ME10  STEP 2.3 // ME10>4.6
   WM10_460_CONN  = STAMP WM10_460 BY ME10 
   WM10_460_E     = WM10_460      COIN INSIDE EDGE ME10 
   WM10_460_IE    = WM10_460_CONN      INSIDE EDGE ME10    
   E1 = EXT WM10_460_E  ME10  < 0.92 ABUT>0<90 REGION
   E1 NOT LOGOMK
   E2 = EXT WM10_460_IE ME10  < 0.92 MEASURE ALL NOT CONNECTED REGION
   E2 NOT LOGOMK
   E3 = EXT WM10_460_E  ME10 < 0.92 CORNER TO EDGE ABUT>0<90 REGION
   E3 NOT LOGOMK 
}

//4XM10.S3 {@ Minimum space and notch of ME10 to (ME10  with width > 16.0um) is 1.68um
//   WM10_1600       = SIZE M10_N1600 BY 8 TRUNCATE 0 INSIDE OF ME10   STEP 2 // ME10 >16
//   WM10_1600_CONN  = STAMP WM10_1600 BY ME10 
//   WM10_1600_E     = WM10_1600      COIN INSIDE EDGE ME10 
//   WM10_1600_IE    = WM10_1600_CONN      INSIDE EDGE ME10    
//   EXT WM10_1600_E  ME10  < 1.68 ABUT>0<90 REGION
//   EXT WM10_1600_IE ME10  < 1.68 MEASURE ALL NOT CONNECTED REGION
//}

4XM10_4XV9.EN1 {@ Minimum ME10 overlap VI9 is 0um, no VI9 outside ME10 
   E = NOT VI9 ME10 
   E NOT LOGOMK
}

4XM10.A1 {@ Minimum ME10 area is 0.33 sq.um
  E = AREA ME10  < 0.33
  E NOT LOGOMK
}

4XM10.EA1 {@ Minimum ME10 enclosed area is 0.87 sq.um
   A = HOLES ME10 INNER < 43.5 // SELECT INNER HOLES AREA < 50 X a
   B = A NOT ME10 // SELECT ENCLOSED AREA    
   E = AREA B < 0.87
   E NOT LOGOMK
} 

// All Metal density rules are checked in METAL DENSITY rule section

4XM10.R1 {@ METAL10_CUSTOMER_SLOT is not allowed except CAD_WAT_PAD_MARK ( GDS No: 90(5) ) area.
  E = M10SLOT NOT WATPADMK
  E NOT LOGOMK  
}

// Dummy rules

4XM10DM.L1_W2 {@ Exact METAL10_CUSTOMER_DUMMY width/length is 1.2 ~ 12 um
            @ Extra check: DRC also check if the DUMMY is a rectangle.
   E1 = NOT RECTANGLE M10DUMY  >= 1.2 BY >= 1.2
   E2 = NOT RECTANGLE M10DUMY  <= 12 BY <= 12
   E1 NOT LOGOMK 
   E2 NOT LOGOMK    
} 

4XM10DM.S3 {@ Minimum spacing of METAL10_CUSTOMER_DUMMY is 0.6 um   
   E = EXT M10DUMY < 0.6 ABUT<90 SINGULAR REGION
   E NOT LOGOMK
} 
 
4XM10DM_M10.S4 {@ Minimum spacing of METAL10_CUSTOMER_DUMMY to METAL10 is 0.6 um
   E1 = EXT M10DUMY ME10 < 0.6 ABUT<90 OVERLAP SINGULAR REGION
   E2 = M10DUMY AND ME10
   E1 NOT LOGOMK
   E2 NOT LOGOMK
} 
 
4XM10DM_M10DMBK.S5 {@ Minimum spacing of METAL10_CUSTOMER_DUMMY to METAL10_DUMMY_BLOCK is 0.8 um
   E = EXT M10DUMY M10DMBK < 0.8 ABUT<90 OVERLAP SINGULAR REGION
   E NOT LOGOMK   
} 
 
4XM10DM_IND.S6 {@ Minimum spacing of METAL10_CUSTOMER_DUMMY to IND is 0.8 um
   E1 = EXT M10DUMY IND < 0.8 ABUT<90 OVERLAP SINGULAR REGION
   E2 = M10DUMY AND IND   
   E1 NOT LOGOMK
   E2 NOT LOGOMK   
} 
 
4XM10DM_FM.S7 {@ Minimum spacing of METAL10_CUSTOMER_DUMMY to FUSE_MARK is 0.8 um
   E1 = EXT M10DUMY FUSEMARK < 0.8 ABUT<90 OVERLAP SINGULAR REGION
   E2 = M10DUMY AND FUSEMARK    
   E1 NOT LOGOMK
   E2 NOT LOGOMK   
} 
 
4XM10DM_PM.S8 {@ Minimum spacing of METAL10_CUSTOMER_DUMMY to PAD_MARK is 0.8 um
   E1 = EXT M10DUMY PADMARK < 0.8 ABUT<90 OVERLAP SINGULAR REGION
   E2 = M10DUMY AND PADMARK 
   E1 NOT LOGOMK   
   E2 NOT LOGOMK    
} 
 
4XM10DM_SRM.S9 {@ Minimum spacing of METAL10_CUSTOMER_DUMMY to SEAL_RING_MARK is 0.8 um
   E1 = EXT M10DUMY SEALRMARK < 0.8 ABUT<90 OVERLAP SINGULAR REGION
   E2 = M10DUMY AND SEALRMARK 
   E1 NOT LOGOMK   
   E2 NOT LOGOMK      
} 


//
//=========================
//===  Via1 Rule (P66)  ===
//=========================
//

WM1_007 = SIZE ( SIZE ME1 BY -0.350 ) BY 0.350 TRUNCATE 0.350
WM2_007 = SIZE ( SIZE ME2 BY -0.350 ) BY 0.350 TRUNCATE 0.350

WM1_010  = SIZE (SIZE ME1 BY -0.049) BY 0.049  TRUNCATE 0.049    // MET1 >= 0.10

VIA1_L10 = VI1 NOT INTERACT WM1_010        // Metal <  0.10 um
VIA1_G10 = VI1     INTERACT WM1_010        // Metal >= 0.10 um

WM1_005 = SIZE ( SIZE ME1 BY -0.249 ) BY 0.249 TRUNCATE 0.249
WM2_005 = SIZE ( SIZE ME2 BY -0.249 ) BY 0.249 TRUNCATE 0.249
WM1_015 = SIZE ( SIZE ME1 BY -0.749 ) BY 0.749 TRUNCATE 0.749
WM2_015 = SIZE ( SIZE ME2 BY -0.749 ) BY 0.749 TRUNCATE 0.749



//
OFF_GRID_VI1 {@ Grid SIZE of VI1 is 0.001
  OFFGRID VI1 1
}

SKEW_EDGE_VI1 {@ SKEW EDGE 
   ANGLE VI1 >0<45
   ANGLE VI1 >45<90
}

V1.SZ1 {@ Minimum and maximum width of a VI1 region is 0.10um
  E = NOT RECTANGLE VI1 == 0.10 BY == 0.10
  E NOT LOGOMK
}

V1.S1 {@ Minimum space between two VI1 regions is 0.1um
  E = EXT VI1 < 0.1 ABUT>0<90 SINGULAR  REGION
  E NOT LOGOMK
}

V1.S2 {@ Minimum space between VI1 with 3 or more neighboring MVIA1 is 0.11um
       @ "Neighboring" is defined as having spacing of < 0.14um       
   X1 = EXT [VI1] < 0.14 ABUT>0<90  OPPOSITE EXTENDED 0.005 
   X2 = EXPAND EDGE X1 INSIDE BY 0.001 EXTEND BY -0.002
   Y1 = EXT [VI1] < 0.14 ABUT>0<90 SINGULAR CORNER TO CORNER
   Y2 = INT Y1 < 0.001 ABUT == 90 REGION
   Z = OR X2 Y2 
   E = EXT ( VI1 INTERACT Z >2 ) VI1 < 0.11 REGION
   E NOT LOGOMK
}

V1.S3 {@ Min. space between two via region of a via array is 0.13um
       @ An array group is an array where spacing < 0.14um 
 
//   a = SIZE ( SIZE ( SIZE (SIZE VI1 BY 0.069) BY -0.069 ) BY -0.249 ) BY 0.249
//       // spacing less than 0.14 and the array more than 3X3 (aray size more than 0.5X0.5)
//   b = a INTERACT VI1 > 8   // more than 9 VIAs
//   c = VI1 INTERACT b

   a = SIZE (SIZE VI1 BY 0.069) BY -0.069
   b = SIZE a BY -0.25
   c = SIZE b BY  0.25
   d = c CUT VI1 >= 9
   e = VI1 INTERACT d
   X = EXT e < 0.13 ABUT<90 REGION
   X NOT LOGOMK
}

M1_V1.EN1 {@ Minimum MET1(>= 0.10) overlap Via1 is -0.0, no VI1 outside ME1
  E = VIA1_G10 NOT ME1
  ( ( E NOT LOGOMK ) NOT MEMORY_MARK_65 ) NOT MEMORY_MARK_55
}

M1_V1.EN2_.OH1_.EN4 {@ EN2: Minimum METAL1 line end enclosure of MVIA1 is 0.03 um
                     @ OH1: Minimum METAL1 line end overhang of MVIA1 at METAL1 outer corner is 0.03 um
                     @      ( For two adjacent sides, at least one side should be treated as metal line end )
                     @ EN4: Minimum METAL1 line end enclosure of MVIA1, including diagonal enclosure, is 0.02 um
                     @      ( For four sides if M1-V1.EN2 is not fulfilled )
                     
    X =  SIZE VI1 BY -0.01                       // To make sure via inside metal
    Y =  ENC X ME1 < 0.03 ABUT < 90 SINGULAR REGION
    Z =  X INTERACT Y 
    E =  RECTANGLE ENC Z ME1    
    GOOD 0.00 0.04 OPPOSITE 0.00 0.04 OPPOSITE   // via1 edge with metal enc< 0.03 + 0.01(under size)
    ( E NOT LOGOMK ) NOT ( MEMORY_MARK_55 OR MEMORY_MARK_65 ) 
}

M1_V1.EN5 {@ ME1 enclosure of VI1 is 0.04um at end-of-line when this
           @ line_end width is <= 0.11
           @ line with space is <= 0.12   
      
   A  = ME1 NOT ( SIZE ( SIZE ME1 BY -0.055 ) BY 0.055 )
   B  = VI1 TOUCH INSIDE EDGE ( ENC [VI1] A >= 0.03 < 0.04 OPPOSITE )     
   B1 = ( EXPAND EDGE B OUTSIDE BY 0.04 INSIDE BY 0.001 EXTEND BY 0.02 ) AND ME1  
   C  = VI1 WITH EDGE B 
   D1 = ENC VI1 [A] <  0.03  ABUT==0        
   D  = B1 COIN INSIDE EDGE ( EXPAND EDGE D1 INSIDE BY 0.001 EXTEND BY 0.04 )
   E  = D TOUCH INSIDE EDGE ( EXT [D] ME1 <= 0.12  ABUT==0 OPPOSITE )   
   F1 = INT [E] <= 0.11 OPPOSITE// REGION    
   F  = VI1 INTERACT ( B1 INTERACT ( INT E <= 0.11 REGION ) ) // 2 SIDE VI1     
   F2 = VI1 INSIDE EDGE ( B1 INTERACT ( INT E <= 0.11 REGION ) ) // 2 SIDE VI1       
   H  = B1 INTERACT F 
   I  = EXTENTS H
   J  = ( I NOT TOUCH INSIDE EDGE F1 ) NOT TOUCH  EDGE VI1  
   J1 = ( EXPAND EDGE J INSIDE BY 0.001 EXTEND BY 0.001 ) TOUCH INSIDE EDGE J
   T3 = EXT [J1] ME1 <= 0.12 OPPOSITE
   T4 = ( ( EXPAND EDGE  ( J1 TOUCH EDGE T3 ) INSIDE BY 0.02 ) AND ME1 ) COIN INSIDE EDGE ME1 // fit the metal line edge shape
   X = ENC  F2 T4 >=0.03 < 0.04 OPPOSITE REGION
   X NOT LOGOMK
   
   
}


V1_M1.OH2 {@ Minimum ME1 overlap Via1 is -0.005, no VI1 outside ME1
   X = VIA1_L10 NOT ME1
   Y = INT X <= 0.005 ABUT<90 REGION
   E = X NOT Y
   E NOT LOGOMK
}

V1.R1 {@ VI1 must be within METAL1 when METAL1 width >=0.10um
   E = VIA1_G10 NOT ME1
  ( ( E NOT LOGOMK ) NOT MEMORY_MARK_55 ) NOT MEMORY_MARK_65   
}
//

M1_COIN = ME1 AND ME2
V1_OCT = VI1 NOT (INT VI1<0.001 ABUT REGION)
V1_X   = SIZE V1_OCT BY 0.15 INSIDE OF M1_COIN

//

V1.R2 {@ Minimum two VI1 spacing is <= 0.3 um must connect ME1 and ME2
       @ when ME1,ME2 >= 0.5
   
   WMA = M1_COIN AND WM1_005
   WMB = M1_COIN AND WM2_005  
   WVIA_A = VI1 INSIDE WMA
   WVIA_B = VI1 INSIDE WMB
   
   Y = (V1_X INTERACT WVIA_A) INTERACT VI1>=2
   E1 = (WMA NOT INTERACT Y) AND WVIA_A
   E1 NOT LOGOMK
   Z = (V1_X INTERACT WVIA_B) INTERACT VI1>=2
   E2 = (WMB NOT INTERACT Z) AND WVIA_B
   E2 NOT LOGOMK

}
V1.R3 {@ Minimum 3 VI1 spacing is <= 0.3 um must connect ME1 and ME2
       @ when ME1,ME2 > 0.7 
    
   WMA = M1_COIN AND WM1_007
   WMB = M1_COIN AND WM2_007  
   WVIA_A = VI1 INSIDE WMA
   WVIA_B = VI1 INSIDE WMB
  
   Y = (V1_X INTERACT WVIA_A) INTERACT VI1>=3
   E1 = (WMA NOT INTERACT Y) AND WVIA_A
   E1 NOT LOGOMK
   Z = (V1_X INTERACT WVIA_B) INTERACT VI1>=3
   E2 = (WMB NOT INTERACT Z) AND WVIA_B
   E2 NOT LOGOMK
}

V1.R4 {@ Minimum 4 VI1 spacing is <= 0.3 um must connect ME1 and ME2
       @ when ME1,ME2 => 1.5 
    
   WMA = M1_COIN AND WM1_015
   WMB = M1_COIN AND WM2_015  
   WVIA_A = VI1 INSIDE WMA
   WVIA_B = VI1 INSIDE WMB
   
   Y = (V1_X INTERACT WVIA_A) INTERACT VI1>=4
   E1 =(WMA NOT INTERACT Y) AND WVIA_A
   E1 NOT LOGOMK
   Z = (V1_X INTERACT WVIA_B) INTERACT VI1>=4
   E2 =(WMB NOT INTERACT Z) AND WVIA_B
   E2 NOT LOGOMK
}
 
V1.R5 {@ All MVI1 shapes must be orthogonal except LOGO area.
       @ MVIA1_BAR is only allowed in Die Seal Ring and Fuse area.
    E = ANGLE VI1 >0<90
    E OUTSIDE EDGE LOGOMK 
    ( VI1BAR NOT SEALRMARK ) NOT  FUSEMARK 
}   

// V1.R6 not checked



 
//
//============================
//===  Via-2 Rule          ===
//============================
//

WM3_005 = SIZE ( SIZE ME3 BY -0.249 ) BY 0.249 TRUNCATE 0.249
WM3_007 = SIZE ( SIZE ME3 BY -0.350 ) BY 0.350 TRUNCATE 0.350
WM3_015 = SIZE ( SIZE ME3 BY -0.749 ) BY 0.749 TRUNCATE 0.749

//


//
GROUP ManCK_V2 1XM2_1XV2.EN2_.EN3_.EN4 1XM2_1XV2.EN5 1XM2_1XV2.EN1__1XV2.R1    


OFF_GRID_VI2 {@ Grid SIZE of VI2 is 0.001
  OFFGRID VI2 1

}

SKEW_EDGE_VI2 {@ SKEW EDGE 
   ANGLE VI2 >0<45
   ANGLE VI2 >45<90
}

1XV2.SZ1 {@ Minimum and maximum width of a VI2 region is 0.10um
   E = NOT RECTANGLE VI2 == 0.10 BY == 0.10
   E NOT LOGOMK
}

1XV2.S1 {@ Minimum VI2 spacing is 0.1um
   E = EXT VI2 < 0.1 ABUT>0<90 SINGULAR  REGION
   E NOT LOGOMK
}

1XV2.S2 {@ Minimum space between  VI2 with 3 or more neighboring MVIA2 is 0.11um
       @ "Neighboring" is defined as having spacing of < 0.14um       
   X1 = EXT [VI2] < 0.14 ABUT>0<90  OPPOSITE EXTENDED 0.005 
   X2 = EXPAND EDGE X1 INSIDE BY 0.001 EXTEND BY -0.002
   Y1 = EXT [VI2] < 0.14 ABUT>0<90 SINGULAR CORNER TO CORNER
   Y2 = INT Y1 < 0.001 ABUT == 90 REGION
   Z = OR X2 Y2 
   E = EXT ( VI2 INTERACT Z >2 ) VI2 < 0.11 REGION
   E NOT LOGOMK
}

1XV2.S3 {@ Min. space between two via region of a via array is 0.13um  
         @ An array group is an array where spacing < 0.14um
   a = SIZE (SIZE VI2 BY 0.069) BY -0.069
   b = SIZE a BY -0.25
   c = SIZE b BY  0.25
   d = c CUT VI2 >= 9
   e = VI2 INTERACT d
   X = EXT e < 0.13 ABUT<90  REGION   
   X NOT LOGOMK
}


1XM2_1XV2.EN1__1XV2.R1 {@ Minimum ME2 overlap VI2 is 0, no VI2 outside ME2
 X  =  VI2 NOT ME2
 X  NOT LOGOMK 
}
1XM2_1XV2.EN2_.EN3_.EN4 {@ EN2: Minimum METAL2 line end enclosure of MVIA2 is 0.03 um
                         @ EN3: METAL2 line end enclosure of MVIA2 at METAL2 outer corner is 0.03 um
                         @      ( for two adjacent sides, at least one side should be treated as metal line end )
                         @ EN4: Minimum METAL2 line end enclosure of MVIA2, including diagonal enclosure,
                         @      is 0.02 um for four sides if 1XM2-1XV2.EN2 is not fufilled.                              

    X = ENC VI2 ME2 < 0.02 ABUT < 90 SINGULAR REGION
    Y = VI2 INTERACT X 
    E = RECTANGLE ENC Y ME2
    GOOD 0.00 0.03 OPPOSITE 0.00 0.03 OPPOSITE
    ( E NOT MEMORY_MARK_65 ) NOT LOGOMK
}


1XM2_1XV2.EN5 {@ ME2 enclosure of VI2 is 0.04um at end-of-line when this
         @ line_end with width is <= 0.11
         @ line with space is <= 0.12   
   
   A  = ME2 NOT ( SIZE ( SIZE ME2 BY -0.055 ) BY 0.055 )
   B  = VI2 TOUCH INSIDE EDGE ( ENC [VI2] A >= 0.03 < 0.04 OPPOSITE )     
   B1 = ( EXPAND EDGE B OUTSIDE BY 0.04 INSIDE BY 0.001 EXTEND BY 0.02 ) AND ME2  
   C  = VI2 WITH EDGE B 
   D1 = ENC VI2 [A] <  0.03  ABUT==0        
   D  = B1 COIN INSIDE EDGE ( EXPAND EDGE D1 INSIDE BY 0.001 EXTEND BY 0.04 )
   E  = D TOUCH INSIDE EDGE ( EXT [D] ME2 <= 0.12  ABUT==0 OPPOSITE )   
   F1 = INT [E] <= 0.11 OPPOSITE// REGION    
   F  = VI2 INTERACT ( B1 INTERACT ( INT E <= 0.11 REGION ) ) // 2 SIDE VI2     
   F2 = VI2 INSIDE EDGE ( B1 INTERACT ( INT E <= 0.11 REGION ) ) // 2 SIDE VI2       
   H  = B1 INTERACT F 
   I  = EXTENTS H
   J  = ( I NOT TOUCH INSIDE EDGE F1 ) NOT TOUCH  EDGE VI2  
   J1 = ( EXPAND EDGE J INSIDE BY 0.001 EXTEND BY 0.001 ) TOUCH INSIDE EDGE J
   T3 = EXT [J1] ME2 <= 0.12 OPPOSITE
   T4 = ( ( EXPAND EDGE  ( J1 TOUCH EDGE T3 ) INSIDE BY 0.02 ) AND ME2 ) COIN INSIDE EDGE ME2 // fit the metal line edge shape
   X = ENC  F2 T4 >=0.03 < 0.04 OPPOSITE REGION 
   X NOT LOGOMK
    
   
}



// 1XV2.R1 checked by 1XM2_1XV2.EN1__1XV2.R1

//

M2_COIN = ME2 AND ME3
V2_OCT  = VI2 NOT (INT VI2<0.001 ABUT REGION)
V2_X    = SIZE V2_OCT BY 0.175 INSIDE OF M2_COIN 

//

1XV2.R2 {@ A minimum of two VI2 at a spacing <= 0.35 um must connect ME2 and ME3 
            @ when ME2 or ME3  >= 0.5um wide.
     
   WMA = M2_COIN AND WM2_005
   WMB = M2_COIN AND WM3_005  
   WVIA_A = VI2 INSIDE WMA
   WVIA_B = VI2 INSIDE WMB
    
   Y = (V2_X INTERACT WVIA_A) INTERACT VI2>=2
   E1 = (WMA NOT INTERACT Y) AND WVIA_A
   E1 NOT LOGOMK
   Z = (V2_X INTERACT WVIA_B) INTERACT VI2>=2
   E2 = (WMB NOT INTERACT Z) AND WVIA_B
   E2 NOT LOGOMK
}


1XV2.R3 {@ Minimum 3 VI2 spacing is <= 0.35 um must connect ME2 and ME3
       @ when ME2,ME3 > 0.7 
       
   WMA = M2_COIN AND WM2_007
   WMB = M2_COIN AND WM3_007  
   WVIA_A = VI2 INSIDE WMA
   WVIA_B = VI2 INSIDE WMB
   
   Y = (V2_X INTERACT WVIA_A) INTERACT VI2>=3
   E1 = (WMA NOT INTERACT Y) AND WVIA_A
   E1 NOT LOGOMK
   Z = (V2_X INTERACT WVIA_B) INTERACT VI2>=3
   E2 = (WMB NOT INTERACT Z) AND WVIA_B
   E2 NOT LOGOMK
 
}

1XV2.R4 {@ Minimum 4 VI2 spacing is <= 0.35 um must connect ME2 and ME3
       @ when ME2,ME3 => 1.5 
       
   WMA = M2_COIN AND WM2_015
   WMB = M2_COIN AND WM3_015  
   WVIA_A = VI2 INSIDE WMA
   WVIA_B = VI2 INSIDE WMB
   
   Y = (V2_X INTERACT WVIA_A) INTERACT VI2>=4
   E1 = (WMA NOT INTERACT Y) AND WVIA_A
   E1 NOT LOGOMK
   Z = (V2_X INTERACT WVIA_B) INTERACT VI2>=4
   E2 = (WMB NOT INTERACT Z) AND WVIA_B
   E2 NOT LOGOMK
}

1XV2.R5 {@ All VI2 shapes must be orthogonal except LOGO area.
            @ MVIA2_BAR is only allowed in die seal ring and fuse area.
   E = ANGLE VI2 >0<90
   E OUTSIDE EDGE LOGOMK
   ( VI2BAR NOT SEALRMARK ) NOT FUSEMARK
}

// 1XV2.R6 not checked

// 1XVn.R7 are checked at the end of VIA rules. 
 
//
//============================
//===  Via-3 Rule          ===
//============================
//

WM4_005 = SIZE ( SIZE ME4 BY -0.249 ) BY 0.249 TRUNCATE 0.249
WM4_007 = SIZE ( SIZE ME4 BY -0.350 ) BY 0.350 TRUNCATE 0.350
WM4_015 = SIZE ( SIZE ME4 BY -0.749 ) BY 0.749 TRUNCATE 0.749

//


//
GROUP ManCK_V3 1XM3_1XV3.EN2_.EN3_.EN4 1XM3_1XV3.EN5 1XM3_1XV3.EN1__1XV3.R1    


OFF_GRID_VI3 {@ Grid SIZE of VI3 is 0.001
  OFFGRID VI3 1

}

SKEW_EDGE_VI3 {@ SKEW EDGE 
   ANGLE VI3 >0<45
   ANGLE VI3 >45<90
}

1XV3.SZ1 {@ Minimum and maximum width of a VI3 region is 0.10um
   E = NOT RECTANGLE VI3 == 0.10 BY == 0.10
   E NOT LOGOMK
}

1XV3.S1 {@ Minimum VI3 spacing is 0.1um
   E = EXT VI3 < 0.1 ABUT>0<90 SINGULAR  REGION
   E NOT LOGOMK
}

1XV3.S2 {@ Minimum space between  VI3 with 3 or more neighboring MVIA3 is 0.11um
       @ "Neighboring" is defined as having spacing of < 0.14um       
   X1 = EXT [VI3] < 0.14 ABUT>0<90  OPPOSITE EXTENDED 0.005 
   X2 = EXPAND EDGE X1 INSIDE BY 0.001 EXTEND BY -0.002
   Y1 = EXT [VI3] < 0.14 ABUT>0<90 SINGULAR CORNER TO CORNER
   Y2 = INT Y1 < 0.001 ABUT == 90 REGION
   Z = OR X2 Y2 
   E = EXT ( VI3 INTERACT Z >2 ) VI3 < 0.11 REGION
   E NOT LOGOMK
}

1XV3.S3 {@ Min. space between two via region of a via array is 0.13um  
         @ An array group is an array where spacing < 0.14um
   a = SIZE (SIZE VI3 BY 0.069) BY -0.069
   b = SIZE a BY -0.25
   c = SIZE b BY  0.25
   d = c CUT VI3 >= 9
   e = VI3 INTERACT d
   X = EXT e < 0.13 ABUT<90  REGION   
   X NOT LOGOMK
}


1XM3_1XV3.EN1__1XV3.R1 {@ Minimum ME3 overlap VI3 is 0, no VI3 outside ME3
   E = VI3 NOT ME3
   E NOT LOGOMK
}

1XM3_1XV3.EN2_.EN3_.EN4 {@ EN2: Minimum METAL3 line end enclosure of MVIA3 is 0.03 um
                         @ EN3: METAL3 line end enclosure of MVIA3 at METAL3 outer corner is 0.03 um
                         @      ( for two adjacent sides, at least one side should be treated as metal line end )
                         @ EN4: Minimum METAL3 line end enclosure of MVIA3, including diagonal enclosure,
                         @      is 0.02 um for four sides if 1XM3-1XV3.EN2 is not fufilled.                              

    X = ENC VI3 ME3 < 0.02  ABUT < 90 SINGULAR REGION
    Y = VI3 INTERACT X 
    E = RECTANGLE ENC Y ME3
    GOOD 0.00 0.03 OPPOSITE 0.00 0.03 OPPOSITE
    E NOT LOGOMK
}


1XM3_1XV3.EN5 {@ ME3 enclosure of VI3 is 0.04um at end-of-line when this
         @ line_end with width is <= 0.11
         @ line with space is <= 0.12   
   
   A  = ME3 NOT ( SIZE ( SIZE ME3 BY -0.055 ) BY 0.055 )
   B  = VI3 TOUCH INSIDE EDGE ( ENC [VI3] A >= 0.03 < 0.04 OPPOSITE )     
   B1 = ( EXPAND EDGE B OUTSIDE BY 0.04 INSIDE BY 0.001 EXTEND BY 0.02 ) AND ME3  
   C  = VI3 WITH EDGE B 
   D1 = ENC VI3 [A] <  0.03  ABUT==0        
   D  = B1 COIN INSIDE EDGE ( EXPAND EDGE D1 INSIDE BY 0.001 EXTEND BY 0.04 )
   E  = D TOUCH INSIDE EDGE ( EXT [D] ME3 <= 0.12  ABUT==0 OPPOSITE )   
   F1 = INT [E] <= 0.11 OPPOSITE// REGION    
   F  = VI3 INTERACT ( B1 INTERACT ( INT E <= 0.11 REGION ) ) // 2 SIDE VI3     
   F2 = VI3 INSIDE EDGE ( B1 INTERACT ( INT E <= 0.11 REGION ) ) // 2 SIDE VI3       
   H  = B1 INTERACT F 
   I  = EXTENTS H
   J  = ( I NOT TOUCH INSIDE EDGE F1 ) NOT TOUCH  EDGE VI3  
   J1 = ( EXPAND EDGE J INSIDE BY 0.001 EXTEND BY 0.001 ) TOUCH INSIDE EDGE J
   T3 = EXT [J1] ME3 <= 0.12 OPPOSITE
   T4 = ( ( EXPAND EDGE  ( J1 TOUCH EDGE T3 ) INSIDE BY 0.02 ) AND ME3 ) COIN INSIDE EDGE ME3 // fit the metal line edge shape
   X = ENC  F2 T4 >=0.03 < 0.04 OPPOSITE REGION 
   X NOT LOGOMK
    
   
}



// 1XV3.R1 checked by 1XM3_1XV3.EN1__1XV3.R1

//

M3_COIN = ME3 AND ME4
V3_OCT  = VI3 NOT (INT VI3<0.001 ABUT REGION)
V3_X    = SIZE V3_OCT BY 0.175 INSIDE OF M3_COIN 

//

1XV3.R2 {@ A minimum of two VI3 at a spacing <= 0.35 um must connect ME3 and ME4 
            @ when ME3 or ME4  >= 0.5um wide.
     
   WMA = M3_COIN AND WM3_005
   WMB = M3_COIN AND WM4_005  
   WVIA_A = VI3 INSIDE WMA
   WVIA_B = VI3 INSIDE WMB
    
   Y = (V3_X INTERACT WVIA_A) INTERACT VI3>=2
   E1 = (WMA NOT INTERACT Y) AND WVIA_A
   E1 NOT LOGOMK
   Z = (V3_X INTERACT WVIA_B) INTERACT VI3>=2
   E2 = (WMB NOT INTERACT Z) AND WVIA_B
   E2 NOT LOGOMK
}


1XV3.R3 {@ Minimum 3 VI3 spacing is <= 0.35 um must connect ME3 and ME4
       @ when ME3,ME4 > 0.7 
       
   WMA = M3_COIN AND WM3_007
   WMB = M3_COIN AND WM4_007  
   WVIA_A = VI3 INSIDE WMA
   WVIA_B = VI3 INSIDE WMB
   
   Y = (V3_X INTERACT WVIA_A) INTERACT VI3>=3
   E1 = (WMA NOT INTERACT Y) AND WVIA_A
   E1 NOT LOGOMK
   Z = (V3_X INTERACT WVIA_B) INTERACT VI3>=3
   E2 = (WMB NOT INTERACT Z) AND WVIA_B
   E2 NOT LOGOMK
 
}

1XV3.R4 {@ Minimum 4 VI3 spacing is <= 0.35 um must connect ME3 and ME4
       @ when ME3,ME4 => 1.5 
       
   WMA = M3_COIN AND WM3_015
   WMB = M3_COIN AND WM4_015  
   WVIA_A = VI3 INSIDE WMA
   WVIA_B = VI3 INSIDE WMB
   
   Y = (V3_X INTERACT WVIA_A) INTERACT VI3>=4
   E1 = (WMA NOT INTERACT Y) AND WVIA_A
   E1 NOT LOGOMK
   Z = (V3_X INTERACT WVIA_B) INTERACT VI3>=4
   E2 = (WMB NOT INTERACT Z) AND WVIA_B
   E2 NOT LOGOMK
}

1XV3.R5 {@ All VI3 shapes must be orthogonal except LOGO area.
            @ MVIA3_BAR is only allowed in die seal ring and fuse area.
   E = ANGLE VI3 >0<90
   E OUTSIDE EDGE LOGOMK
   ( VI3BAR NOT SEALRMARK ) NOT FUSEMARK
}

// 1XV3.R6 not checked

// 1XVn.R7 are checked at the end of VIA rules. 
 
//
//============================
//===  Via-4 Rule          ===
//============================
//

WM5_005 = SIZE ( SIZE ME5 BY -0.249 ) BY 0.249 TRUNCATE 0.249
WM5_007 = SIZE ( SIZE ME5 BY -0.350 ) BY 0.350 TRUNCATE 0.350
WM5_015 = SIZE ( SIZE ME5 BY -0.749 ) BY 0.749 TRUNCATE 0.749

//


//
GROUP ManCK_V4 1XM4_1XV4.EN2_.EN3_.EN4 1XM4_1XV4.EN5 1XM4_1XV4.EN1__1XV4.R1    


OFF_GRID_VI4 {@ Grid SIZE of VI4 is 0.001
  OFFGRID VI4 1

}

SKEW_EDGE_VI4 {@ SKEW EDGE 
   ANGLE VI4 >0<45
   ANGLE VI4 >45<90
}

1XV4.SZ1 {@ Minimum and maximum width of a VI4 region is 0.10um
   E = NOT RECTANGLE VI4 == 0.10 BY == 0.10
   E NOT LOGOMK
}

1XV4.S1 {@ Minimum VI4 spacing is 0.1um
   E = EXT VI4 < 0.1 ABUT>0<90 SINGULAR  REGION
   E NOT LOGOMK
}

1XV4.S2 {@ Minimum space between  VI4 with 3 or more neighboring MVIA4 is 0.11um
       @ "Neighboring" is defined as having spacing of < 0.14um       
   X1 = EXT [VI4] < 0.14 ABUT>0<90  OPPOSITE EXTENDED 0.005 
   X2 = EXPAND EDGE X1 INSIDE BY 0.001 EXTEND BY -0.002
   Y1 = EXT [VI4] < 0.14 ABUT>0<90 SINGULAR CORNER TO CORNER
   Y2 = INT Y1 < 0.001 ABUT == 90 REGION
   Z = OR X2 Y2 
   E = EXT ( VI4 INTERACT Z >2 ) VI4 < 0.11 REGION
   E NOT LOGOMK
}

1XV4.S3 {@ Min. space between two via region of a via array is 0.13um  
         @ An array group is an array where spacing < 0.14um
   a = SIZE (SIZE VI4 BY 0.069) BY -0.069
   b = SIZE a BY -0.25
   c = SIZE b BY  0.25
   d = c CUT VI4 >= 9
   e = VI4 INTERACT d
   X = EXT e < 0.13 ABUT<90  REGION   
   X NOT LOGOMK
}


1XM4_1XV4.EN1__1XV4.R1 {@ Minimum ME4 overlap VI4 is 0, no VI4 outside ME4
   E = VI4 NOT ME4
   E NOT LOGOMK
}

1XM4_1XV4.EN2_.EN3_.EN4 {@ EN2: Minimum METAL4 line end enclosure of MVIA4 is 0.03 um
                         @ EN3: METAL4 line end enclosure of MVIA4 at METAL4 outer corner is 0.03 um
                         @      ( for two adjacent sides, at least one side should be treated as metal line end )
                         @ EN4: Minimum METAL4 line end enclosure of MVIA4, including diagonal enclosure,
                         @      is 0.02 um for four sides if 1XM4-1XV4.EN2 is not fufilled.                              

    X = ENC VI4 ME4 < 0.02  ABUT < 90 SINGULAR REGION
    Y = VI4 INTERACT X 
    E = RECTANGLE ENC Y ME4
    GOOD 0.00 0.03 OPPOSITE 0.00 0.03 OPPOSITE
    E NOT LOGOMK
}


1XM4_1XV4.EN5 {@ ME4 enclosure of VI4 is 0.04um at end-of-line when this
         @ line_end with width is <= 0.11
         @ line with space is <= 0.12   
   
   A  = ME4 NOT ( SIZE ( SIZE ME4 BY -0.055 ) BY 0.055 )
   B  = VI4 TOUCH INSIDE EDGE ( ENC [VI4] A >= 0.03 < 0.04 OPPOSITE )     
   B1 = ( EXPAND EDGE B OUTSIDE BY 0.04 INSIDE BY 0.001 EXTEND BY 0.02 ) AND ME4  
   C  = VI4 WITH EDGE B 
   D1 = ENC VI4 [A] <  0.03  ABUT==0        
   D  = B1 COIN INSIDE EDGE ( EXPAND EDGE D1 INSIDE BY 0.001 EXTEND BY 0.04 )
   E  = D TOUCH INSIDE EDGE ( EXT [D] ME4 <= 0.12  ABUT==0 OPPOSITE )   
   F1 = INT [E] <= 0.11 OPPOSITE// REGION    
   F  = VI4 INTERACT ( B1 INTERACT ( INT E <= 0.11 REGION ) ) // 2 SIDE VI4     
   F2 = VI4 INSIDE EDGE ( B1 INTERACT ( INT E <= 0.11 REGION ) ) // 2 SIDE VI4       
   H  = B1 INTERACT F 
   I  = EXTENTS H
   J  = ( I NOT TOUCH INSIDE EDGE F1 ) NOT TOUCH  EDGE VI4  
   J1 = ( EXPAND EDGE J INSIDE BY 0.001 EXTEND BY 0.001 ) TOUCH INSIDE EDGE J
   T3 = EXT [J1] ME4 <= 0.12 OPPOSITE
   T4 = ( ( EXPAND EDGE  ( J1 TOUCH EDGE T3 ) INSIDE BY 0.02 ) AND ME4 ) COIN INSIDE EDGE ME4 // fit the metal line edge shape
   X = ENC  F2 T4 >=0.03 < 0.04 OPPOSITE REGION 
   X NOT LOGOMK
    
   
}



// 1XV4.R1 checked by 1XM4_1XV4.EN1__1XV4.R1

//

M4_COIN = ME4 AND ME5
V4_OCT  = VI4 NOT (INT VI4<0.001 ABUT REGION)
V4_X    = SIZE V4_OCT BY 0.175 INSIDE OF M4_COIN 

//

1XV4.R2 {@ A minimum of two VI4 at a spacing <= 0.35 um must connect ME4 and ME5 
            @ when ME4 or ME5  >= 0.5um wide.
     
   WMA = M4_COIN AND WM4_005
   WMB = M4_COIN AND WM5_005  
   WVIA_A = VI4 INSIDE WMA
   WVIA_B = VI4 INSIDE WMB
    
   Y = (V4_X INTERACT WVIA_A) INTERACT VI4>=2
   E1 = (WMA NOT INTERACT Y) AND WVIA_A
   E1 NOT LOGOMK
   Z = (V4_X INTERACT WVIA_B) INTERACT VI4>=2
   E2 = (WMB NOT INTERACT Z) AND WVIA_B
   E2 NOT LOGOMK
}


1XV4.R3 {@ Minimum 3 VI4 spacing is <= 0.35 um must connect ME4 and ME5
       @ when ME4,ME5 > 0.7 
       
   WMA = M4_COIN AND WM4_007
   WMB = M4_COIN AND WM5_007  
   WVIA_A = VI4 INSIDE WMA
   WVIA_B = VI4 INSIDE WMB
   
   Y = (V4_X INTERACT WVIA_A) INTERACT VI4>=3
   E1 = (WMA NOT INTERACT Y) AND WVIA_A
   E1 NOT LOGOMK
   Z = (V4_X INTERACT WVIA_B) INTERACT VI4>=3
   E2 = (WMB NOT INTERACT Z) AND WVIA_B
   E2 NOT LOGOMK
 
}

1XV4.R4 {@ Minimum 4 VI4 spacing is <= 0.35 um must connect ME4 and ME5
       @ when ME4,ME5 => 1.5 
       
   WMA = M4_COIN AND WM4_015
   WMB = M4_COIN AND WM5_015  
   WVIA_A = VI4 INSIDE WMA
   WVIA_B = VI4 INSIDE WMB
   
   Y = (V4_X INTERACT WVIA_A) INTERACT VI4>=4
   E1 = (WMA NOT INTERACT Y) AND WVIA_A
   E1 NOT LOGOMK
   Z = (V4_X INTERACT WVIA_B) INTERACT VI4>=4
   E2 = (WMB NOT INTERACT Z) AND WVIA_B
   E2 NOT LOGOMK
}

1XV4.R5 {@ All VI4 shapes must be orthogonal except LOGO area.
            @ MVIA4_BAR is only allowed in die seal ring and fuse area.
   E = ANGLE VI4 >0<90
   E OUTSIDE EDGE LOGOMK
   ( VI4BAR NOT SEALRMARK ) NOT FUSEMARK
}

// 1XV4.R6 not checked

// 1XVn.R7 are checked at the end of VIA rules. 

//
//============================
//===  Via-5 Rule          ===
//============================
//

WM6_005 = SIZE ( SIZE ME6 BY -0.249 ) BY 0.249 TRUNCATE 0.249
WM6_007 = SIZE ( SIZE ME6 BY -0.350 ) BY 0.350 TRUNCATE 0.350
WM6_015 = SIZE ( SIZE ME6 BY -0.749 ) BY 0.749 TRUNCATE 0.749



GROUP ManCK_V5 1XM5_1XV5.EN2_.EN3_.EN4 1XM5_1XV5.EN5 1XM5_1XV5.EN1__1XV5.R1    


OFF_GRID_VI5 {@ Grid SIZE of VI5 is 0.001
  OFFGRID VI5 1

}

SKEW_EDGE_VI5 {@ SKEW EDGE 
   ANGLE VI5 >0<45
   ANGLE VI5 >45<90
}

1XV5.SZ1 {@ Minimum and maximum width of a VI5 region is 0.10um
    E = NOT RECTANGLE VI5 == 0.10 BY == 0.10
    E NOT LOGOMK
}

1XV5.S1 {@ Minimum VI5 spacing is 0.1um
   E = EXT VI5 < 0.1 ABUT>0<90 SINGULAR  REGION
   E NOT LOGOMK
}

1XV5.S2 {@ Minimum space between  VI5 with 3 or more neighboring MVIA5 is 0.11um
       @ "Neighboring" is defined as having spacing of < 0.14um       
   X1 = EXT [VI5] < 0.14 ABUT>0<90  OPPOSITE EXTENDED 0.005 
   X2 = EXPAND EDGE X1 INSIDE BY 0.001 EXTEND BY -0.002
   Y1 = EXT [VI5] < 0.14 ABUT>0<90 SINGULAR CORNER TO CORNER
   Y2 = INT Y1 < 0.001 ABUT == 90 REGION
   Z = OR X2 Y2 
   E = EXT ( VI5 INTERACT Z >2 ) VI5 < 0.11 REGION
   E NOT LOGOMK
}

1XV5.S3 {@ Min. space between two via region of a via array is 0.13um
         @ An array group is an array where spacing < 0.14um
   a = SIZE (SIZE VI5 BY 0.069) BY -0.069
   b = SIZE a BY -0.25
   c = SIZE b BY  0.25
   d = c CUT VI5 >= 9
   e = VI5 INTERACT d
   X = EXT e < 0.13 ABUT<90  REGION
   X NOT LOGOMK   
}


1XM5_1XV5.EN1__1XV5.R1 {@ Minimum ME5 overlap VI5 is 0, no VI5 outside ME5
   E = VI5 NOT ME5
   E NOT LOGOMK
}

1XM5_1XV5.EN2_.EN3_.EN4 {@ EN2: Minimum METAL5 line end enclosure of MVIA5 is 0.03 um
                         @ EN3: METAL5 line end enclosure of MVIA5 at METAL5 outer corner is 0.03 um
                         @      ( for two adjacent sides, at least one side should be treated as metal line end )
                         @ EN4: Minimum METAL5 line end enclosure of MVIA5, including diagonal enclosure,
                         @      is 0.02 um for four sides if 1XM5-1XV5.EN2 is not fufilled.                              

    X = ENC VI5 ME5 < 0.02  ABUT < 90 SINGULAR REGION
    Y = VI5 INTERACT X 
    E = RECTANGLE ENC Y ME5
    GOOD 0.00 0.03 OPPOSITE 0.00 0.03 OPPOSITE
    E NOT LOGOMK
}

1XM5_1XV5.EN5 {@ ME5 enclosure of VI5 is 0.04um at end-of-line when this
         @ line_end with width is <= 0.11
         @ line with space is <= 0.12
   
   A  = ME5 NOT ( SIZE ( SIZE ME5 BY -0.055 ) BY 0.055 )
   B  = VI5 TOUCH INSIDE EDGE ( ENC [VI5] A >= 0.03 < 0.04 OPPOSITE )     
   B1 = ( EXPAND EDGE B OUTSIDE BY 0.04 INSIDE BY 0.001 EXTEND BY 0.02 ) AND ME5  
   C  = VI5 WITH EDGE B 
   D1 = ENC VI5 [A] <  0.03  ABUT==0        
   D  = B1 COIN INSIDE EDGE ( EXPAND EDGE D1 INSIDE BY 0.001 EXTEND BY 0.04 )
   E  = D TOUCH INSIDE EDGE ( EXT [D] ME5 <= 0.12  ABUT==0 OPPOSITE )   
   F1 = INT [E] <= 0.11 OPPOSITE// REGION    
   F  = VI5 INTERACT ( B1 INTERACT ( INT E <= 0.11 REGION ) ) // 2 SIDE VI5     
   F2 = VI5 INSIDE EDGE ( B1 INTERACT ( INT E <= 0.11 REGION ) ) // 2 SIDE VI5       
   H  = B1 INTERACT F 
   I  = EXTENTS H
   J  = ( I NOT TOUCH INSIDE EDGE F1 ) NOT TOUCH  EDGE VI5  
   J1 = ( EXPAND EDGE J INSIDE BY 0.001 EXTEND BY 0.001 ) TOUCH INSIDE EDGE J
   T3 = EXT [J1] ME5 <= 0.12 OPPOSITE
   T4 = ( ( EXPAND EDGE  ( J1 TOUCH EDGE T3 ) INSIDE BY 0.02 ) AND ME5 ) COIN INSIDE EDGE ME5 // fit the metal line edge shape
   X = ENC  F2 T4 >=0.03 < 0.04 OPPOSITE REGION 
   X NOT LOGOMK
     
}


// 1XV5.R1 checked by 1XM5_1XV5.EN1__1XV5.R1

//

M5_COIN = ME5 AND ME6
V5_OCT  = VI5 NOT (INT VI5<0.001 ABUT REGION)
V5_X    = SIZE V5_OCT BY 0.175 INSIDE OF M5_COIN 

//

1XV5.R2 {@ A minimum of two VI5 at a spacing <= 0.35  um must connect ME5 and ME6 
            @ when ME5 or ME6  >= 0.5um wide.
            
   WMA = M5_COIN AND WM5_005
   WMB = M5_COIN AND WM6_005  
   WVIA_A = VI5 INSIDE WMA
   WVIA_B = VI5 INSIDE WMB
    
   Y = (V5_X INTERACT WVIA_A) INTERACT VI5>=2
   E1 = (WMA NOT INTERACT Y) AND WVIA_A
   E1 NOT LOGOMK
   Z = (V5_X INTERACT WVIA_B) INTERACT VI5>=2
   E2 = (WMB NOT INTERACT Z) AND WVIA_B
   E2 NOT LOGOMK
}


1XV5.R3 {@ Minimum 3 VI5 spacing is <= 0.35 um must connect ME5 and ME6
       @ when ME5,ME6 > 0.7 
       
   WMA = M5_COIN AND WM5_007
   WMB = M5_COIN AND WM6_007  
   WVIA_A = VI5 INSIDE WMA
   WVIA_B = VI5 INSIDE WMB
   
   Y = (V5_X INTERACT WVIA_A) INTERACT VI5>=3
   E1 = (WMA NOT INTERACT Y) AND WVIA_A
   E1 NOT LOGOMK
   Z = (V5_X INTERACT WVIA_B) INTERACT VI5>=3
   E2 = (WMB NOT INTERACT Z) AND WVIA_B
   E2 NOT LOGOMK
 
}

1XV5.R4 {@ Minimum 4 VI5 spacing is <= 0.35 um must connect ME5 and ME6
       @ when ME5,ME6 => 1.5 
       
   WMA = M5_COIN AND WM5_015
   WMB = M5_COIN AND WM6_015  
   WVIA_A = VI5 INSIDE WMA
   WVIA_B = VI5 INSIDE WMB
   
   Y = (V5_X INTERACT WVIA_A) INTERACT VI5>=4
   E1 = (WMA NOT INTERACT Y) AND WVIA_A
   E1 NOT LOGOMK
   Z = (V5_X INTERACT WVIA_B) INTERACT VI5>=4
   E2 = (WMB NOT INTERACT Z) AND WVIA_B
   E2 NOT LOGOMK
}


1XV5.R5 {@ All VI5 shapes must be orthogonal except LOGO area.
            @ MVIA5_BAR is only allowed in die seal ring and fuse area.
   E = ANGLE VI5 >0<90
   E OUTSIDE EDGE LOGOMK
   ( VI5BAR NOT SEALRMARK ) NOT FUSEMARK
}


// 1XV5.R6 not checked

// 1XVn.R7 are checked at the end of VIA rules.

//
//============================
//===  Via-6 Rule        =====
//============================
//

WM6_100 = SIZE ( SIZE ME6  BY -0.499 ) BY 0.499 TRUNCATE 0.499
WM6_140 = SIZE ( SIZE ME6  BY -0.699 ) BY 0.699 TRUNCATE 0.699
WM6_300 = SIZE ( SIZE ME6  BY -1.499 ) BY 1.499 TRUNCATE 1.499

WM7_100 = SIZE ( SIZE ME7  BY -0.499 ) BY 0.499 TRUNCATE 0.499
WM7_140 = SIZE ( SIZE ME7  BY -0.699 ) BY 0.699 TRUNCATE 0.699
WM7_300 = SIZE ( SIZE ME7  BY -1.499 ) BY 1.499 TRUNCATE 1.499

//


OFF_GRID_VI6 {@ Grid SIZE of VI6 is 0.001
  OFFGRID VI6 1

}

SKEW_EDGE_VI6 {@ SKEW EDGE 
   ANGLE VI6 >0<45
   ANGLE VI6 >45<90
}

2XV6.SZ1 {@ Minimum and maximum width of a VI6 region is 0.20um
  E =  NOT RECTANGLE VI6 == 0.20 BY == 0.20  
  E NOT LOGOMK
}

2XV6.S1 {@ Minimum space between two VI6 regions is 0.20um
  E =  EXT VI6 < 0.20 ABUT>0<90 SINGULAR REGION
  E NOT LOGOMK
}

2XM6_2XV6.EN2_.EN3_.EN4 {@ EN2: Minimum METAL6 line end enclosure of MVIA6 is 0.03 um
                         @ EN3: METAL6 line end enclosure of MVIA6 at METAL6 outer corner is 0.03 um
                         @      ( for two adjacent sides, at least one side should be treated as metal line end )
                         @ EN4: Minimum METAL6 line end enclosure of MVIA6, including diagonal enclosure,
                         @      is 0.02 um for four sides if 2XM6-2XV6.EN2 is not fufilled.                              
    X = ENC VI6 ME6 < 0.02  ABUT < 90 SINGULAR REGION
    Y = VI6 INTERACT X 
    E = RECTANGLE ENC Y ME6
    GOOD 0.00 0.03 OPPOSITE 0.00 0.03 OPPOSITE
    E NOT LOGOMK
}

2XV6.R1 {@ All VI6 shapes must be orthogonal except LOGO area.
         @ MVIA6_BAR is only allowed in die seal ring and fuse area.
   E = ANGLE VI6 >0<90
   E OUTSIDE EDGE LOGOMK
   ( VI6BAR NOT SEALRMARK ) NOT FUSEMARK
}

//

M6_COIN = ME6 AND ME7
V6_OCT  = VI6 NOT (INT VI6<0.001 ABUT REGION)
V6_X    = SIZE V6_OCT BY 0.3 INSIDE OF M6_COIN

//

2XV6.R2 {@ Minimum two VI6 spacing is <= 0.6 um when ME6,ME7 => 1.0
      
   WMA = M6_COIN AND WM6_100
   WMB = M6_COIN AND WM7_100  
   WVIA_A = VI6 INSIDE WMA
   WVIA_B = VI6 INSIDE WMB
   
   Y = (V6_X INTERACT WVIA_A) INTERACT VI6>=2
   E1 = (WMA NOT INTERACT Y) AND WVIA_A
   ( E1 NOT LOGOMK ) NOT SEALRMARK
   Z = (V6_X INTERACT WVIA_B) INTERACT VI6>=2
   E2 = (WMB NOT INTERACT Z) AND WVIA_B
   ( E2 NOT LOGOMK ) NOT SEALRMARK

}

2XV6.R3 {@ Minimum 3 VI6 spacing is <= 0.6 must connect ME6 and ME7
       @ when ME6,ME7 => 1.4 
       
   WMA = M6_COIN AND WM6_140
   WMB = M6_COIN AND WM7_140  
   WVIA_A = VI6 INSIDE WMA
   WVIA_B = VI6 INSIDE WMB
   
   Y = (V6_X INTERACT WVIA_A) INTERACT VI6>=3
   E1 = (WMA NOT INTERACT Y) AND WVIA_A
   E1 NOT LOGOMK
   Z = (V6_X INTERACT WVIA_B) INTERACT VI6>=3
   E2 = (WMB NOT INTERACT Z) AND WVIA_B
   E2 NOT LOGOMK
}

2XV6.R4 {@ Minimum 4 VI6 spacing is <= 0.6 um must connect ME6 and ME7
       @ when ME6,ME7 => 3.0 
       
   WMA = M6_COIN AND WM6_300
   WMB = M6_COIN AND WM7_300  
   WVIA_A = VI6 INSIDE WMA
   WVIA_B = VI6 INSIDE WMB
   
   Y = (V6_X INTERACT WVIA_A) INTERACT VI6>=4
   E1 = (WMA NOT INTERACT Y) AND WVIA_A
   E1 NOT LOGOMK
   Z = (V6_X INTERACT WVIA_B) INTERACT VI6>=4
   E2 = (WMB NOT INTERACT Z) AND WVIA_B
   E2 NOT LOGOMK
}

// 2XV6.R5 not checked


2XM6_2XV6.EN1 {@ Minimum ME6 overlap VI6 is 0um, no VI6 outside ME6
   E = VI6 NOT ME6 
   E NOT LOGOMK
}

//
//============================
//===  Via-7 Rule        =====
//============================
//
 
WM8_100 = SIZE ( SIZE ME8  BY -0.499 ) BY 0.499 TRUNCATE 0.499
WM8_140 = SIZE ( SIZE ME8  BY -0.699 ) BY 0.699 TRUNCATE 0.699
WM8_300 = SIZE ( SIZE ME8  BY -1.499 ) BY 1.499 TRUNCATE 1.499

//

OFF_GRID_VI7 {@ Grid SIZE of VI7 is 0.001
  OFFGRID VI7 1

}

SKEW_EDGE_VI7 {@ SKEW EDGE 
   ANGLE VI7 >0<45
   ANGLE VI7 >45<90
}

2XV7.SZ1 {@ Minimum and maximum width of a VI7 region is 0.20um
   E = NOT RECTANGLE VI7 == 0.20 BY == 0.20  
   E NOT LOGOMK
}

2XV7.S1 {@ Minimum space between two VI7 regions is 0.20um
   E =EXT VI7 < 0.20 ABUT>0<90 SINGULAR REGION
   E NOT LOGOMK
}

2XM7_2XV7.EN1 {@ Minimum ME7 overlap VI7 is 0um, no VI7 outside ME7
   E = ( VI7 NOT ME7 ) NOT MMCBP
   E NOT LOGOMK
}

2XM7_2XV7.EN2_.EN3_.EN4 {@ EN2: Minimum METAL7 line end enclosure of MVIA7 is 0.03 um
                         @ EN3: METAL7 line end enclosure of MVIA7 at METAL7 outer corner is 0.03 um
                         @      ( for two adjacent sides, at least one side should be treated as metal line end )
                         @ EN4: Minimum METAL7 line end enclosure of MVIA7, including diagonal enclosure,
                         @      is 0.02 um for four sides if 2XM7-2XV7.EN2 is not fufilled.                              
    X = ENC VI7 ME7 < 0.02  ABUT < 90 SINGULAR REGION
    Y = VI7 INTERACT X 
    E = RECTANGLE ENC Y ME7
    GOOD 0.00 0.03 OPPOSITE 0.00 0.03 OPPOSITE
    E NOT LOGOMK
}

2XV7.R1 {@ All VI7 shapes must be orthogonal except LOGO area.
            @ MVIA7_BAR is only allowed in die seal ring and fuse area.
   E = ANGLE VI7 >0<90
   E OUTSIDE EDGE LOGOMK
   ( VI7BAR NOT SEALRMARK ) NOT FUSEMARK
}

//

M7_COIN = ME7 AND ME8
V7_OCT  = VI7 NOT (INT VI7<0.001 ABUT REGION)
V7_X    = SIZE V7_OCT BY 0.3 INSIDE OF M7_COIN

//

2XV7.R2 {@ Minimum two VI7 spacing is <= 0.6 um when ME7,ME8 => 1.0
      
   WMA = M7_COIN AND WM7_100
   WMB = M7_COIN AND WM8_100  
   WVIA_A = VI7 INSIDE WMA
   WVIA_B = VI7 INSIDE WMB
   
   Y = (V7_X INTERACT WVIA_A) INTERACT VI7>=2
   E1 = (WMA NOT INTERACT Y) AND WVIA_A
   ( E1 NOT LOGOMK ) NOT SEALRMARK
   Z = (V7_X INTERACT WVIA_B) INTERACT VI7>=2
   E2 = (WMB NOT INTERACT Z) AND WVIA_B
   ( E2 NOT LOGOMK ) NOT SEALRMARK

}

2XV7.R3 {@ Minimum 3 VI7 spacing is <= 0.6 must connect ME7 and ME8
       @ when ME7,ME8 => 1.4 
       
   WMA = M7_COIN AND WM7_140
   WMB = M7_COIN AND WM8_140  
   WVIA_A = VI7 INSIDE WMA
   WVIA_B = VI7 INSIDE WMB
   
   Y = (V7_X INTERACT WVIA_A) INTERACT VI7>=3
   E1 = (WMA NOT INTERACT Y) AND WVIA_A
   E1 NOT LOGOMK
   Z = (V7_X INTERACT WVIA_B) INTERACT VI7>=3
   E2 = (WMB NOT INTERACT Z) AND WVIA_B
   E2 NOT LOGOMK
}

2XV7.R4 {@ Minimum 4 VI7 spacing is <= 0.6 um must connect ME7 and ME8
       @ when ME7,ME8 => 3.0 
       
   WMA = M7_COIN AND WM7_300
   WMB = M7_COIN AND WM8_300  
   WVIA_A = VI7 INSIDE WMA
   WVIA_B = VI7 INSIDE WMB
   
   Y = (V7_X INTERACT WVIA_A) INTERACT VI7>=4
   E1 = (WMA NOT INTERACT Y) AND WVIA_A
   E1 NOT LOGOMK
   Z = (V7_X INTERACT WVIA_B) INTERACT VI7>=4
   E2 = (WMB NOT INTERACT Z) AND WVIA_B
   E2 NOT LOGOMK
}

// 2XV7.R5 not checked
 



//
//============================
//===  Via-8 Rule        =====
//============================
//

OFF_GRID_VI8 {@ Grid SIZE of VI8 is 0.005
  OFFGRID VI8 5
}

SKEW_EDGE_VI8 {@ SKEW EDGE 
   ANGLE VI8 >0<45
   ANGLE VI8 >45<90
}


4XV8.SZ1 {@ Minimum and maximum width of a VI8 region is 0.40 um
  E = NOT RECTANGLE VI8 == 0.40 BY == 0.40  
  E NOT LOGOMK
}

4XV8.S1 {@ Minimum space between two VI8 regions is 0.40 um
  E = EXT VI8 < 0.40 ABUT>0<90 SINGULAR REGION
  E NOT LOGOMK
}

4XM8_4XV8.EN1 {@ Minimum ME8 overlap VI8 is 0um, No VI8 outside ME8
   E = VI8 NOT ME8
   E NOT LOGOMK
}

4XV8.R1 {@ All VI8 shapes must be orthogonal except LOGO area.
            @ MVIA8_BAR is only allowed in die seal ring and fuse area.
   E = ANGLE VI8 >0<90
   E OUTSIDE EDGE LOGOMK
   ( VI8BAR NOT SEALRMARK ) NOT FUSEMARK
}

// 4XV8.R2 not checked


//
//============================
//===  Via-9 Rule        =====
//============================
//
 
 
OFF_GRID_VI9 {@ Grid SIZE of VI9 is 0.005
  OFFGRID VI9 5
}

SKEW_EDGE_VI9 {@ SKEW EDGE 
   ANGLE VI9 >0<45
   ANGLE VI9 >45<90
}
 
4XV9.SZ1 {@ Minimum and maximum width of a VI9 region is 0.40 um
  E = NOT RECTANGLE VI9 == 0.40 BY == 0.40  
  E NOT LOGOMK
}

4XV9.S1 {@ Minimum space between two VI9 regions is 0.40 um
  E = EXT VI9 < 0.40 ABUT>0<90 SINGULAR REGION
  E NOT LOGOMK
}

4XM9_4XV9.EN1 {@ Minimum ME9 overlap VI9 is 0um, No VI9 outside ME9
   E = VI9 NOT ME9
   E NOT LOGOMK
}

4XV9.R1 {@ All VI9 shapes must be orthogonal except LOGO area.
            @ MVIA9_BAR is only allowed in die seal ring and fuse area.
   E = ANGLE VI9 >0<90
   E OUTSIDE EDGE LOGOMK
   ( VI9BAR NOT SEALRMARK ) NOT FUSEMARK
}


// 4XV9.R2 not checked


1XVn.R7 {@ Maximum layers of stacked via including MVIA1, 1X, 2X, 4XVn and 32.5KA MVIA is 4
         @ Exclude all layers with stacked redundant via.
  VIA_34 = VI3  AND  VI4

    M12     = ( ME1    AND ME2 ) ENCLOSE VI1 >1 
  R_V1    =  VI1  AND  M12
    M23     = ( ME2    AND ME3 ) ENCLOSE VI2 >1 
  R_V2    =  VI2 AND   M23
    M34     = ( ME3    AND ME4 ) ENCLOSE VI3 >1 
  R_V3    =  VI3  AND  M34
    M45     = ( ME4    AND ME5 ) ENCLOSE VI4 >1 
  R_V4    =  VI4  AND  M45
    M56     = ( ME5    AND ME6 ) ENCLOSE VI5 >1 
  R_V5    =  VI5  AND  M56
  
  R_V34     =  R_V3     AND   R_V4
  R_V345    =  R_V34    AND   R_V5

  R_V45     =  R_V4     AND   R_V5
  
  R_V234    =  R_V2     AND   R_V34
  R_V1234   =  R_V1     AND   R_V234  
  R_V2345   =  R_V234   AND   R_V5  

  R_V12345  =  R_V5     AND   R_V1234 
  

  VIA_345  = VIA_34   AND  VI5
  VIA_3456 = VIA_345  AND  VI6
  VIA_2345 = VIA_345  AND  VI2
  
      M67     = ( ME6    AND ME7 ) ENCLOSE VI6 >1 
  R_V6    =  VI6  AND  M67
      M78     = ( ME7    AND ME8 ) ENCLOSE VI7 >1 
  R_V7    =  VI7  AND  M78   
      M89     = ( ME8    AND ME9 ) ENCLOSE VI8 >1 
  R_V8    =  VI8  AND  M89 
      M90     = ( ME9    AND ME10 ) ENCLOSE VI9 >1 
  R_V9    =  VI9  AND  M90      
  
  R_V23456 =  R_V2345 AND R_V6 

  R_V3456  =  R_V345  AND R_V6 
  R_V34567 =  R_V3456 AND R_V7   

  R_V456   =  R_V45   AND R_V6 
  R_V4567  =  R_V456  AND R_V7 
  R_V45678 =  R_V4567 AND R_V8 
  
  R_V56    =  R_V5    AND R_V6 
  R_V567   =  R_V56   AND R_V7   
  R_V5678  =  R_V567  AND R_V8 
  R_V56789 =  R_V5678 AND R_V9     
  
  (( VIA_2345  AND  VI1 ) NOT R_V12345 ) NOT LOGOMK
  (( VIA_2345  AND  VI6 ) NOT R_V23456 ) NOT LOGOMK 
  (( VIA_3456  AND  VI7 ) NOT R_V34567 ) NOT LOGOMK   
  VIA_45   = VI4      AND  VI5
  VIA_456  = VIA_45   AND  VI6
  VIA_4567 = VIA_456  AND  VI7
  (( VIA_4567  AND VI8 ) NOT  R_V45678 ) NOT LOGOMK
  VIA_56   = VI5     AND  VI6
  VIA_567  = VIA_56  AND  VI7
  VIA_5678 = VIA_567 AND  VI8
  (( VIA_5678  AND VI9 ) NOT  R_V56789 ) NOT LOGOMK
  
}

//
//=======================
//===  PAD guide line ===
//=======================
//

GROUP High_Temperature_Pad L3.W1_L2.?

GROUP   Inline  ?.inline
 
PAD_AL   = AL_RDL    INTERACT  PADMARK
PAD_PASV = PASV_RDL  INTERACT  PADMARK
PAD_TMV  = TMV_RDL   INTERACT  PADMARK

PAD_MET = PADMARK AND  PAD_AL

//

OFF_GRID_PASV_RDL {@ Grid SIZE of PASV_RDL is 0.005
  OFFGRID PASV_RDL 5

}
 
SKEW_EDGE_PASV_RDL {@ SKEW EDGE 
   ANGLE PASV_RDL >0<45
   ANGLE PASV_RDL >45<90
}
 
OFF_GRID_TMV_RDL {@ Grid SIZE of TMV_RDL is 0.005
  OFFGRID TMV_RDL 5

}
 
SKEW_EDGE_TMV_RDL {@ SKEW EDGE 
   ANGLE TMV_RDL >0<45
   ANGLE TMV_RDL >45<90
}
  
OFF_GRID_AL_RDL {@ Grid SIZE of AL_RDL is 0.005
  OFFGRID AL_RDL 5

}

SKEW_EDGE_AL_RDL {@ SKEW EDGE 
   ANGLE AL_RDL >0<45
   ANGLE AL_RDL >45<90
}

L3.W1_L1.inline {@ Minimum size of a PASV_RDL region is 43.0um X 56.0um (<85 degree)
   X = INT PAD_PASV < 43 ABUT>0<90 SINGULAR REGION
   PASV_RDL_A = EXTENTS PAD_PASV
   Y = (NOT RECTANGLE PASV_RDL_A >= 43.0 BY >= 56.0 ) AND PAD_PASV
   E =  X OR Y 
   E NOT LOGOMK
}

L3.W1_L2.inline {@ Minimum size of a PASV_RDL region is 43.0um X 72.0um (>85 degree)
   X = INT PAD_PASV < 43 ABUT>0<90 SINGULAR REGION
   PASV_RDL_A = EXTENTS PAD_PASV
   Z = (NOT RECTANGLE PASV_RDL_A >= 43.0 BY >= 72.0 ) AND PAD_PASV 
   E = X OR Z
   E NOT LOGOMK
}


// L3.P1  not checked

L3.S1.inline {@ Minimum space between two PASV_RDL regions is 7um
  E = EXT PAD_PASV < 7 ABUT>0<90 SINGULAR REGION
  E NOT LOGOMK
}

L1.SZ1.inline {@ Exact TMV_RDL size is 4 X 4
  E = NOT RECTANGLE PAD_TMV  == 4.0 BY == 4.0   
  E NOT LOGOMK
}

L2.S2.inline {@ Minimum space between two AL_RDL regions is 3.0um
  E = EXT PAD_MET   < 3.0 ABUT>0<90 SINGULAR REGION
  E NOT LOGOMK
}

L3_L1.S3.inline {@ Minimum PASV_RDL to TMV_RDL is 4.11um
  E = EXT PAD_PASV  PAD_TMV < 4.11 ABUT SINGULAR INSIDE ALSO REGION
  E NOT LOGOMK
}

L1.S4.inline {@ Minimum TMV_RDL spacing is 2.0um
  E = EXT  PAD_TMV  < 2.0  ABUT<90 SINGULAR REGION
  E NOT LOGOMK
}
   
L2_DSR.S5.inline {@ Minimum spacing of AL_RDL to Die Seal Ring is 3.0um
  E = EXT PAD_AL SEALRMARK < 3.0 ABUT<90 SINGULAR REGION
  E NOT LOGOMK
}

L3_WELL.S6.inline {@ Minimum spacing of PASV_RDL to NWEL spacing is 12 um
                   @ ( BOAC and die seal ring are excluded from this rule )
   E1 = EXT ( ( PAD_PASV NOT BOACMK ) NOT SEALRMARK ) NWEL < 12 ABUT SINGULAR REGION
   E1 NOT LOGOMK
   E2 = EXT ( ( PAD_PASV NOT BOACMK ) NOT SEALRMARK ) DIFF < 12 ABUT SINGULAR REGION 
   E2 NOT LOGOMK
   E3 = EXT ( ( PAD_PASV NOT BOACMK ) NOT SEALRMARK ) PO1  < 12 ABUT SINGULAR REGION
   E3 NOT LOGOMK
}

// SL-SLP.EN1  SL.W2  not  checked

L2_L1.EN2.inline {@ Minimum AL_RDL enclosure of TMV_RDL is 0.5um
  E =  ENC  PAD_TMV  PAD_AL < 0.5  ABUT<90 SINGULAR OUTSIDE ALSO REGION
  E NOT LOGOMK
}

L2_L3.EN3.inline {@ Minimum AL_RDL enclosure of PASV_RDL is 2.0um
  E =  ENC  PAD_PASV  PAD_AL  < 2.0 ABUT<90 SINGULAR OUTSIDE ALSO REGION
  E NOT LOGOMK
}

L2.S8.inline {@ Minimum spacing of corner pad center to center is 100 nm
              @ when one side pad to die seal ring corner is 150 um
  AL_RDL_40 = AL_RDL WITH WIDTH >= 40              
              
  SEAL_RING = COPY SEALRMARK 
  EXTENTS_SEAL_RING = EXTENTS SEAL_RING 

  CORNER_150_TRIANGLE = INT EXTENTS_SEAL_RING <= 150 ABUT == 90 REGION
  CORNER_150_RECTANGLE = EXTENTS CORNER_150_TRIANGLE
  CORNER_L2_150 = ( ( AL_RDL_40 NOT SEALRMARK ) INTERACT PASV_RDL ) INTERACT CORNER_150_RECTANGLE  
  CORNER_L3_150 = PASV_RDL INTERACT CORNER_L2_150 
  
  CORNER_300_TRIANGLE = INT EXTENTS_SEAL_RING <= 300 ABUT == 90 REGION
  CORNER_300_RECTANGLE = EXTENTS CORNER_300_TRIANGLE    
  CORNER_L2_300 = ( ( AL_RDL_40 NOT SEALRMARK ) INTERACT PASV_RDL ) INTERACT CORNER_300_RECTANGLE  
  CORNER_L3_300 = PASV_RDL INTERACT CORNER_L2_300

  E = WITH NEIGHBOR CORNER_L3_300  >= 1 SPACE < 141.42 CENTERS
  E AND CORNER_L3_150 
}

AC.S.DIFF.inline {@ Minimum active circuit(diffusion) to die seal ring spacing is 3.0um
   E = EXT  SEALRMARK  DIFF < 3.0  ABUT<90 SINGULAR  REGION  
   E NOT LOGOMK
}

AC.S.PO1.inline {@ Minimum active circuit(PO1) to die seal ring spacing is 3.0um
  E =  EXT  SEALRMARK  PO1 < 3.0  ABUT<90 SINGULAR  REGION  
  E NOT LOGOMK
}


AC.S.ME10.inline {@ Minimum active circuit(ME10) to die seal ring spacing is 3.0um
    E = EXT  SEALRMARK  ME10 < 3.0  ABUT<90 SINGULAR  REGION  
    E NOT LOGOMK
}        

AC.S.ME9.inline {@ Minimum active circuit(ME9) to die seal ring spacing is 3.0um
    E = EXT  SEALRMARK  ME9 < 3.0  ABUT<90 SINGULAR  REGION  
    E NOT LOGOMK
}        

AC.S.ME8.inline {@ Minimum active circuit(ME8) to die seal ring spacing is 3.0um
    E = EXT  SEALRMARK  ME8 < 3.0  ABUT<90 SINGULAR  REGION  
    E NOT LOGOMK
}        

AC.S.ME7.inline {@ Minimum active circuit(ME7) to die seal ring spacing is 3.0um
    E = EXT  SEALRMARK  ME7 < 3.0  ABUT<90 SINGULAR  REGION  
    E NOT LOGOMK
}        

AC.S.ME6.inline {@ Minimum active circuit(ME6) to die seal ring spacing is 3.0um
    E = EXT  SEALRMARK  ME6 < 3.0  ABUT<90 SINGULAR  REGION  
    E NOT LOGOMK
}        

AC.S.ME5.inline {@ Minimum active circuit(ME5) to die seal ring spacing is 3.0um
    E = EXT  SEALRMARK  ME5 < 3.0  ABUT<90 SINGULAR  REGION  
    E NOT LOGOMK
}        

AC.S.ME4.inline {@ Minimum active circuit(ME4) to die seal ring spacing is 3.0um
    E = EXT  SEALRMARK  ME4 < 3.0  ABUT<90 SINGULAR  REGION  
    E NOT LOGOMK
}        

AC.S.ME3.inline {@ Minimum active circuit(ME3) to die seal ring spacing is 3.0um
    E = EXT  SEALRMARK  ME3 < 3.0  ABUT<90 SINGULAR  REGION  
    E NOT LOGOMK
}        

AC.S.ME2.inline {@ Minimum active circuit(ME2) to die seal ring spacing is 3.0um
    E = EXT  SEALRMARK  ME2 < 3.0  ABUT<90 SINGULAR  REGION  
    E NOT LOGOMK
}        

AC.S.ME1.inline {@ Minimum active circuit(ME1) to die seal ring spacing is 3.0um
    E = EXT  SEALRMARK  ME1 < 3.0  ABUT<90 SINGULAR  REGION  
    E NOT LOGOMK
}        


L3.M10.S7.inline {@ Minimum spacing of PASV_RDL to unrelated METALn (ME10) is 5.0 um
   E =  EXT  ( PAD_PASV NOT BOACMK )  ME10 < 5.0  ABUT<90 SINGULAR MEASURE ALL REGION  
   ( E NOT PADMARK ) NOT LOGOMK 
} 
       

L3.M9.S7.inline {@ Minimum spacing of PASV_RDL to unrelated METALn (ME9) is 5.0 um
   E =  EXT  ( PAD_PASV NOT BOACMK )  ME9 < 5.0  ABUT<90 SINGULAR MEASURE ALL REGION  
   ( E NOT PADMARK ) NOT LOGOMK 
} 
       

L3.M8.S7.inline {@ Minimum spacing of PASV_RDL to unrelated METALn (ME8) is 5.0 um
   E =  EXT  ( PAD_PASV NOT BOACMK )  ME8 < 5.0  ABUT<90 SINGULAR MEASURE ALL REGION  
   ( E NOT PADMARK ) NOT LOGOMK 
} 
       

L3.M7.S7.inline {@ Minimum spacing of PASV_RDL to unrelated METALn (ME7) is 5.0 um
   E =  EXT  ( PAD_PASV NOT BOACMK )  ME7 < 5.0  ABUT<90 SINGULAR MEASURE ALL REGION  
   ( E NOT PADMARK ) NOT LOGOMK 
} 
       

L3.M6.S7.inline {@ Minimum spacing of PASV_RDL to unrelated METALn (ME6) is 5.0 um
   E =  EXT  ( PAD_PASV NOT BOACMK )  ME6 < 5.0  ABUT<90 SINGULAR MEASURE ALL REGION  
   ( E NOT PADMARK ) NOT LOGOMK 
} 
       

L3.M5.S7.inline {@ Minimum spacing of PASV_RDL to unrelated METALn (ME5) is 5.0 um
   E =  EXT  ( PAD_PASV NOT BOACMK )  ME5 < 5.0  ABUT<90 SINGULAR MEASURE ALL REGION  
   ( E NOT PADMARK ) NOT LOGOMK 
} 
       

L3.M4.S7.inline {@ Minimum spacing of PASV_RDL to unrelated METALn (ME4) is 5.0 um
   E =  EXT  ( PAD_PASV NOT BOACMK )  ME4 < 5.0  ABUT<90 SINGULAR MEASURE ALL REGION  
   ( E NOT PADMARK ) NOT LOGOMK 
} 
       

L3.M3.S7.inline {@ Minimum spacing of PASV_RDL to unrelated METALn (ME3) is 5.0 um
   E =  EXT  ( PAD_PASV NOT BOACMK )  ME3 < 5.0  ABUT<90 SINGULAR MEASURE ALL REGION  
   ( E NOT PADMARK ) NOT LOGOMK 
} 
       

L3.M2.S7.inline {@ Minimum spacing of PASV_RDL to unrelated METALn (ME2) is 5.0 um
   E =  EXT  ( PAD_PASV NOT BOACMK )  ME2 < 5.0  ABUT<90 SINGULAR MEASURE ALL REGION  
   ( E NOT PADMARK ) NOT LOGOMK 
} 
       

L3.M1.S7.inline {@ Minimum spacing of PASV_RDL to unrelated METALn (ME1) is 5.0 um
   E =  EXT  ( PAD_PASV NOT BOACMK )  ME1 < 5.0  ABUT<90 SINGULAR MEASURE ALL REGION  
   ( E NOT PADMARK ) NOT LOGOMK 
} 
       


GROUP  Staggered  ?.staggered
 
//


L3.W1_L1.staggered {@ Minimum size of a PASV_RDL region is 43.0um X 56.0um (<85 degree)
   X = INT PAD_PASV < 43 ABUT>0<90 SINGULAR REGION
   PASV_RDL_A = EXTENTS PAD_PASV
   Y = (NOT RECTANGLE PASV_RDL_A >= 43.0 BY >= 56.0 ) AND PAD_PASV
   E =  X OR Y 
   E NOT LOGOMK
}

L3.W1_L2.staggered {@ Minimum size of a PASV_RDL region is 43.0um X 72.0um (>85 degree)
   X = INT PAD_PASV < 43 ABUT>0<90 SINGULAR REGION
   PASV_RDL_A = EXTENTS PAD_PASV
   Z = (NOT RECTANGLE PASV_RDL_A >= 43.0 BY >= 72.0 ) AND PAD_PASV 
   E = X OR Z
   E NOT LOGOMK
}


// L3.P1 not checked

L3.S1.staggered {@ Minimum space between two PASV_RDL regions is 7um
   E = EXT PAD_PASV < 7 ABUT>0<90 SINGULAR REGION
   E NOT LOGOMK
}

L1.SZ1.staggered {@ Exact TMV_RDL size is 4 X 4
   E = NOT RECTANGLE PAD_TMV  == 4.0 BY == 4.0   
   E NOT LOGOMK
}

L2.S2.staggered {@ Minimum space between two AL_RDL regions is 3.0um
   E = EXT PAD_MET  < 3.0 ABUT>0<90 SINGULAR REGION
   E NOT LOGOMK
}

L3_L1.S3.staggered {@ Minimum PASV_RDL to TMV_RDL is 4.11um
   E = EXT PAD_PASV  PAD_TMV < 4.11 ABUT SINGULAR INSIDE ALSO REGION
   E NOT LOGOMK
}

L1.S4.staggered {@ Minimum TMV_RDL spacing is 2.0um
   E = EXT  PAD_TMV  < 2.0  ABUT<90 SINGULAR REGION
   E NOT LOGOMK
}
   
L2_DSR.S5.staggered {@ Minimum spacing of AL_RDL to Die Seal Ring is 3.0um
   E = EXT PAD_AL SEALRMARK < 3.0 ABUT<90 SINGULAR REGION
   E NOT LOGOMK
}

L3_WELL.S6.staggered {@ Minimum spacing of PASV_RDL to NWEL spacing is 12 (exclude BOAC case)
   E1 = EXT ( ( PAD_PASV NOT BOACMK ) NOT SEALRMARK ) NWEL < 12 ABUT SINGULAR REGION
   E1 NOT LOGOMK
   E2 = EXT ( ( PAD_PASV NOT BOACMK ) NOT SEALRMARK ) DIFF < 12 ABUT SINGULAR REGION 
   E2 NOT LOGOMK
   E3 = EXT ( ( PAD_PASV NOT BOACMK ) NOT SEALRMARK ) PO1  < 12 ABUT SINGULAR REGION
   E3 NOT LOGOMK
}

L3.SP1.staggered {@ The pad center spacing of two close rows pad for multi-row BOAC pad (non-shrinkable) is 70um

  PASV_RDL_LINE_EDGE_1       = ENC (PASV_RDL) AL_RDL < 5
  PASV_RDL_LINE_EDGE         = PASV_RDL TOUCH INSIDE EDGE PASV_RDL_LINE_EDGE_1 // To find out the PASV_RDL near to TMV_RDL edge.
  PASV_RDL_LINE_EDGE_EXPAND  = EXPAND EDGE PASV_RDL_LINE_EDGE INSIDE BY 0.01 
  PASV_RDL_LINE_END_EDGE = PASV_RDL NOT TOUCH INSIDE EDGE PASV_RDL_LINE_EDGE_EXPAND
  CHECK_EDGE = OR EDGE PASV_RDL_LINE_EDGE PASV_RDL_LINE_END_EDGE 
  
  REVERSE_PASV_RDL      = BULK NOT PASV_RDL  
  REVERSE_PASV_RDL_EDGE = REVERSE_PASV_RDL COIN OUTSIDE EDGE CHECK_EDGE
  
  E = EXT REVERSE_PASV_RDL_EDGE PASV_RDL < 70 MEASURE ALL REGION
  E NOT INSIDE AL_RDL  
} 

// SL-SLP.EN1  SL.W2  not  checked

L2_L1.EN2.staggered {@ Minimum AL_RDL enclosure of TMV_RDL is 0.5um
    E = ENC  PAD_TMV  PAD_AL < 0.5  ABUT<90 SINGULAR OUTSIDE ALSO REGION
    E NOT LOGOMK
}

L2_L3.EN3.staggered {@ Minimum AL_RDL enclosure of PASV_RDL is 2.0um
    E = ENC  PAD_PASV  PAD_AL  < 2.0 ABUT<90 SINGULAR OUTSIDE ALSO REGION
    E NOT LOGOMK
}

L2.S8.staggered {@ Minimum spacing of corner pad center to center is 100 nm
                 @ when one side pad to die seal ring corner is 150 um
  AL_RDL_40 = AL_RDL WITH WIDTH >= 40              
              
  SEAL_RING = COPY SEALRMARK 
  EXTENTS_SEAL_RING = EXTENTS SEAL_RING 

  CORNER_150_TRIANGLE = INT EXTENTS_SEAL_RING <= 150 ABUT == 90 REGION
  CORNER_150_RECTANGLE = EXTENTS CORNER_150_TRIANGLE
  CORNER_L2_150 = ( ( AL_RDL_40 NOT SEALRMARK ) INTERACT PASV_RDL ) INTERACT CORNER_150_RECTANGLE  
  CORNER_L3_150 = PASV_RDL INTERACT CORNER_L2_150 
  
  CORNER_300_TRIANGLE = INT EXTENTS_SEAL_RING <= 300 ABUT == 90 REGION
  CORNER_300_RECTANGLE = EXTENTS CORNER_300_TRIANGLE    
  CORNER_L2_300 = ( ( AL_RDL_40 NOT SEALRMARK ) INTERACT PASV_RDL ) INTERACT CORNER_300_RECTANGLE  
  CORNER_L3_300 = PASV_RDL INTERACT CORNER_L2_300

  E = WITH NEIGHBOR CORNER_L3_300  >= 1 SPACE < 141.42 CENTERS
  E AND CORNER_L3_150 
}
AC.S.DIFF.staggered {@ Minimum active circuit(diffusion) to die seal ring spacing is 3.0um
    E = EXT  SEALRMARK  DIFF < 3.0  ABUT<90 SINGULAR  REGION  
    E NOT LOGOMK
}

AC.S.PO1.staggered {@ Minimum active circuit(PO1) to die seal ring spacing is 3.0um
    E = EXT  SEALRMARK  PO1 < 3.0  ABUT<90 SINGULAR  REGION  
    E NOT LOGOMK
}

AC.S.ME10.staggered {@ Minimum active circuit(ME10) to die seal ring spacing is 3.0um
    E = EXT  SEALRMARK  ME10 < 3.0  ABUT<90 SINGULAR  REGION  
    E NOT LOGOMK
}        

AC.S.ME9.staggered {@ Minimum active circuit(ME9) to die seal ring spacing is 3.0um
    E = EXT  SEALRMARK  ME9 < 3.0  ABUT<90 SINGULAR  REGION  
    E NOT LOGOMK
}        

AC.S.ME8.staggered {@ Minimum active circuit(ME8) to die seal ring spacing is 3.0um
    E = EXT  SEALRMARK  ME8 < 3.0  ABUT<90 SINGULAR  REGION  
    E NOT LOGOMK
}        

AC.S.ME7.staggered {@ Minimum active circuit(ME7) to die seal ring spacing is 3.0um
    E = EXT  SEALRMARK  ME7 < 3.0  ABUT<90 SINGULAR  REGION  
    E NOT LOGOMK
}        

AC.S.ME6.staggered {@ Minimum active circuit(ME6) to die seal ring spacing is 3.0um
    E = EXT  SEALRMARK  ME6 < 3.0  ABUT<90 SINGULAR  REGION  
    E NOT LOGOMK
}        

AC.S.ME5.staggered {@ Minimum active circuit(ME5) to die seal ring spacing is 3.0um
    E = EXT  SEALRMARK  ME5 < 3.0  ABUT<90 SINGULAR  REGION  
    E NOT LOGOMK
}        

AC.S.ME4.staggered {@ Minimum active circuit(ME4) to die seal ring spacing is 3.0um
    E = EXT  SEALRMARK  ME4 < 3.0  ABUT<90 SINGULAR  REGION  
    E NOT LOGOMK
}        

AC.S.ME3.staggered {@ Minimum active circuit(ME3) to die seal ring spacing is 3.0um
    E = EXT  SEALRMARK  ME3 < 3.0  ABUT<90 SINGULAR  REGION  
    E NOT LOGOMK
}        

AC.S.ME2.staggered {@ Minimum active circuit(ME2) to die seal ring spacing is 3.0um
    E = EXT  SEALRMARK  ME2 < 3.0  ABUT<90 SINGULAR  REGION  
    E NOT LOGOMK
}        

AC.S.ME1.staggered {@ Minimum active circuit(ME1) to die seal ring spacing is 3.0um
    E = EXT  SEALRMARK  ME1 < 3.0  ABUT<90 SINGULAR  REGION  
    E NOT LOGOMK
}        

L3.M10.S7.staggered {@ Minimum spacing of PASV_RDL to unrelated METALn (ME10) spacing is 5.0 um
    E = EXT  ( PAD_PASV NOT BOACMK )  ME10 < 5.0  ABUT<90 SINGULAR MEASURE ALL REGION  
    ( E NOT PADMARK ) NOT LOGOMK
}           

L3.M9.S7.staggered {@ Minimum spacing of PASV_RDL to unrelated METALn (ME9) spacing is 5.0 um
    E = EXT  ( PAD_PASV NOT BOACMK )  ME9 < 5.0  ABUT<90 SINGULAR MEASURE ALL REGION  
    ( E NOT PADMARK ) NOT LOGOMK
}           

L3.M8.S7.staggered {@ Minimum spacing of PASV_RDL to unrelated METALn (ME8) spacing is 5.0 um
    E = EXT  ( PAD_PASV NOT BOACMK )  ME8 < 5.0  ABUT<90 SINGULAR MEASURE ALL REGION  
    ( E NOT PADMARK ) NOT LOGOMK
}           

L3.M7.S7.staggered {@ Minimum spacing of PASV_RDL to unrelated METALn (ME7) spacing is 5.0 um
    E = EXT  ( PAD_PASV NOT BOACMK )  ME7 < 5.0  ABUT<90 SINGULAR MEASURE ALL REGION  
    ( E NOT PADMARK ) NOT LOGOMK
}           

L3.M6.S7.staggered {@ Minimum spacing of PASV_RDL to unrelated METALn (ME6) spacing is 5.0 um
    E = EXT  ( PAD_PASV NOT BOACMK )  ME6 < 5.0  ABUT<90 SINGULAR MEASURE ALL REGION  
    ( E NOT PADMARK ) NOT LOGOMK
}           

L3.M5.S7.staggered {@ Minimum spacing of PASV_RDL to unrelated METALn (ME5) spacing is 5.0 um
    E = EXT  ( PAD_PASV NOT BOACMK )  ME5 < 5.0  ABUT<90 SINGULAR MEASURE ALL REGION  
    ( E NOT PADMARK ) NOT LOGOMK
}           

L3.M4.S7.staggered {@ Minimum spacing of PASV_RDL to unrelated METALn (ME4) spacing is 5.0 um
    E = EXT  ( PAD_PASV NOT BOACMK )  ME4 < 5.0  ABUT<90 SINGULAR MEASURE ALL REGION  
    ( E NOT PADMARK ) NOT LOGOMK
}           

L3.M3.S7.staggered {@ Minimum spacing of PASV_RDL to unrelated METALn (ME3) spacing is 5.0 um
    E = EXT  ( PAD_PASV NOT BOACMK )  ME3 < 5.0  ABUT<90 SINGULAR MEASURE ALL REGION  
    ( E NOT PADMARK ) NOT LOGOMK
}           

L3.M2.S7.staggered {@ Minimum spacing of PASV_RDL to unrelated METALn (ME2) spacing is 5.0 um
    E = EXT  ( PAD_PASV NOT BOACMK )  ME2 < 5.0  ABUT<90 SINGULAR MEASURE ALL REGION  
    ( E NOT PADMARK ) NOT LOGOMK
}           

L3.M1.S7.staggered {@ Minimum spacing of PASV_RDL to unrelated METALn (ME1) spacing is 5.0 um
    E = EXT  ( PAD_PASV NOT BOACMK )  ME1 < 5.0  ABUT<90 SINGULAR MEASURE ALL REGION  
    ( E NOT PADMARK ) NOT LOGOMK
}           

// ** Tri-tier Rules

GROUP  Tri_tier  ?.tritier
 
//


L3.W1_L1.tritier {@ Minimum size of a PASV_RDL region is 43.0um X 56.0um (<85 degree)
   X = INT PAD_PASV < 43 ABUT>0<90 SINGULAR REGION
   PASV_RDL_A = EXTENTS PAD_PASV
   Y = (NOT RECTANGLE PASV_RDL_A >= 43.0 BY >= 56.0 ) AND PAD_PASV
   E =  X OR Y 
   E NOT LOGOMK
}

L3.W1_L2.tritier {@ Minimum size of a PASV_RDL region is 43.0um X 72.0um (>85 degree)
   X = INT PAD_PASV < 43 ABUT>0<90 SINGULAR REGION
   PASV_RDL_A = EXTENTS PAD_PASV
   Z = (NOT RECTANGLE PASV_RDL_A >= 43.0 BY >= 72.0 ) AND PAD_PASV 
   E = X OR Z
   E NOT LOGOMK
}


// L3.P1 not checked

L3.S1.tritier {@ Minimum space between two PASV_RDL regions is 7um
   E = EXT PAD_PASV < 7 ABUT>0<90 SINGULAR REGION
   E NOT LOGOMK
}

L1.SZ1.tritier {@ Exact TMV_RDL size is 4 X 4
   E = NOT RECTANGLE PAD_TMV  == 4.0 BY == 4.0   
   E NOT LOGOMK
}

L2.S2.tritier {@ Minimum space between two AL_RDL regions is 3.0um
   E = EXT PAD_MET  < 3.0 ABUT>0<90 SINGULAR REGION
   E NOT LOGOMK
}

L3_L1.S3.tritier {@ Minimum PASV_RDL to TMV_RDL is 4.11um
   E = EXT PAD_PASV  PAD_TMV < 4.11 ABUT SINGULAR INSIDE ALSO REGION
   E NOT LOGOMK
}

L1.S4.tritier {@ Minimum TMV_RDL spacing is 2.0um
   E = EXT  PAD_TMV  < 2.0  ABUT<90 SINGULAR REGION
   E NOT LOGOMK
}
   
L2_DSR.S5.tritier {@ Minimum spacing of AL_RDL to Die Seal Ring is 3.0um
   E = EXT PAD_AL SEALRMARK < 3.0 ABUT<90 SINGULAR REGION
   E NOT LOGOMK
}

L3_WELL.S6.tritier {@ Minimum spacing of PASV_RDL to NWEL spacing is 12 (exclude BOAC case)
   E1 = EXT ( ( PAD_PASV NOT BOACMK ) NOT SEALRMARK ) NWEL < 12 ABUT SINGULAR REGION
   E1 NOT LOGOMK
   E2 = EXT ( ( PAD_PASV NOT BOACMK ) NOT SEALRMARK ) DIFF < 12 ABUT SINGULAR REGION 
   E2 NOT LOGOMK
   E3 = EXT ( ( PAD_PASV NOT BOACMK ) NOT SEALRMARK ) PO1  < 12 ABUT SINGULAR REGION
   E3 NOT LOGOMK
}

L3.SP1.tritier {@ The pad center spacing of two close rows pad for multi-row BOAC pad (non-shrinkable) is 70um

  PASV_RDL_LINE_EDGE_1       = ENC (PASV_RDL) AL_RDL < 5
  PASV_RDL_LINE_EDGE         = PASV_RDL TOUCH INSIDE EDGE PASV_RDL_LINE_EDGE_1 // To find out the PASV_RDL near to TMV_RDL edge.
  PASV_RDL_LINE_EDGE_EXPAND  = EXPAND EDGE PASV_RDL_LINE_EDGE INSIDE BY 0.01 
  PASV_RDL_LINE_END_EDGE = PASV_RDL NOT TOUCH INSIDE EDGE PASV_RDL_LINE_EDGE_EXPAND
  CHECK_EDGE = OR EDGE PASV_RDL_LINE_EDGE PASV_RDL_LINE_END_EDGE 
  
  REVERSE_PASV_RDL      = BULK NOT PASV_RDL  
  REVERSE_PASV_RDL_EDGE = REVERSE_PASV_RDL COIN OUTSIDE EDGE CHECK_EDGE
  
  E = EXT REVERSE_PASV_RDL_EDGE PASV_RDL < 70 MEASURE ALL REGION
  E NOT INSIDE AL_RDL  
} 

// SL-SLP.EN1  SL.W2  not  checked

L2_L1.EN2.tritier {@ Minimum AL_RDL enclosure of TMV_RDL is 0.5um
    E = ENC  PAD_TMV  PAD_AL < 0.5  ABUT<90 SINGULAR OUTSIDE ALSO REGION
    E NOT LOGOMK
}

L2_L3.EN3.tritier {@ Minimum AL_RDL enclosure of PASV_RDL is 2.0um
    E = ENC  PAD_PASV  PAD_AL  < 2.0 ABUT<90 SINGULAR OUTSIDE ALSO REGION
    E NOT LOGOMK
}

L2.S8.tritier {@ Minimum spacing of corner pad center to center is 100 nm
               @ when one side pad to die seal ring corner is 150 um
  AL_RDL_40 = AL_RDL WITH WIDTH >= 40              
              
  SEAL_RING = COPY SEALRMARK 
  EXTENTS_SEAL_RING = EXTENTS SEAL_RING 

  CORNER_150_TRIANGLE = INT EXTENTS_SEAL_RING <= 150 ABUT == 90 REGION
  CORNER_150_RECTANGLE = EXTENTS CORNER_150_TRIANGLE
  CORNER_L2_150 = ( ( AL_RDL_40 NOT SEALRMARK ) INTERACT PASV_RDL ) INTERACT CORNER_150_RECTANGLE  
  CORNER_L3_150 = PASV_RDL INTERACT CORNER_L2_150 
  
  CORNER_300_TRIANGLE = INT EXTENTS_SEAL_RING <= 300 ABUT == 90 REGION
  CORNER_300_RECTANGLE = EXTENTS CORNER_300_TRIANGLE    
  CORNER_L2_300 = ( ( AL_RDL_40 NOT SEALRMARK ) INTERACT PASV_RDL ) INTERACT CORNER_300_RECTANGLE  
  CORNER_L3_300 = PASV_RDL INTERACT CORNER_L2_300

  E = WITH NEIGHBOR CORNER_L3_300  >= 1 SPACE < 141.42 CENTERS
  E AND CORNER_L3_150 
}

AC.S.DIFF.tritier {@ Minimum active circuit(diffusion) to die seal ring spacing is 3.0um
    E = EXT  SEALRMARK  DIFF < 3.0  ABUT<90 SINGULAR  REGION  
    E NOT LOGOMK
}

AC.S.PO1.tritier {@ Minimum active circuit(PO1) to die seal ring spacing is 3.0um
    E = EXT  SEALRMARK  PO1 < 3.0  ABUT<90 SINGULAR  REGION  
    E NOT LOGOMK
}

AC.S.ME10.tritier {@ Minimum active circuit(ME10) to die seal ring spacing is 3.0um
    E = EXT  SEALRMARK  ME10 < 3.0  ABUT<90 SINGULAR  REGION  
    E NOT LOGOMK
}        

AC.S.ME9.tritier {@ Minimum active circuit(ME9) to die seal ring spacing is 3.0um
    E = EXT  SEALRMARK  ME9 < 3.0  ABUT<90 SINGULAR  REGION  
    E NOT LOGOMK
}        

AC.S.ME8.tritier {@ Minimum active circuit(ME8) to die seal ring spacing is 3.0um
    E = EXT  SEALRMARK  ME8 < 3.0  ABUT<90 SINGULAR  REGION  
    E NOT LOGOMK
}        

AC.S.ME7.tritier {@ Minimum active circuit(ME7) to die seal ring spacing is 3.0um
    E = EXT  SEALRMARK  ME7 < 3.0  ABUT<90 SINGULAR  REGION  
    E NOT LOGOMK
}        

AC.S.ME6.tritier {@ Minimum active circuit(ME6) to die seal ring spacing is 3.0um
    E = EXT  SEALRMARK  ME6 < 3.0  ABUT<90 SINGULAR  REGION  
    E NOT LOGOMK
}        

AC.S.ME5.tritier {@ Minimum active circuit(ME5) to die seal ring spacing is 3.0um
    E = EXT  SEALRMARK  ME5 < 3.0  ABUT<90 SINGULAR  REGION  
    E NOT LOGOMK
}        

AC.S.ME4.tritier {@ Minimum active circuit(ME4) to die seal ring spacing is 3.0um
    E = EXT  SEALRMARK  ME4 < 3.0  ABUT<90 SINGULAR  REGION  
    E NOT LOGOMK
}        

AC.S.ME3.tritier {@ Minimum active circuit(ME3) to die seal ring spacing is 3.0um
    E = EXT  SEALRMARK  ME3 < 3.0  ABUT<90 SINGULAR  REGION  
    E NOT LOGOMK
}        

AC.S.ME2.tritier {@ Minimum active circuit(ME2) to die seal ring spacing is 3.0um
    E = EXT  SEALRMARK  ME2 < 3.0  ABUT<90 SINGULAR  REGION  
    E NOT LOGOMK
}        

AC.S.ME1.tritier {@ Minimum active circuit(ME1) to die seal ring spacing is 3.0um
    E = EXT  SEALRMARK  ME1 < 3.0  ABUT<90 SINGULAR  REGION  
    E NOT LOGOMK
}        

L3.M10.S7.tritier {@ Minimum spacing of PASV_RDL to unrelated METALn (ME10) spacing is 5.0 um
    E = EXT  ( PAD_PASV NOT BOACMK )  ME10 < 5.0  ABUT<90 SINGULAR MEASURE ALL REGION  
    ( E NOT PADMARK ) NOT LOGOMK
}           

L3.M9.S7.tritier {@ Minimum spacing of PASV_RDL to unrelated METALn (ME9) spacing is 5.0 um
    E = EXT  ( PAD_PASV NOT BOACMK )  ME9 < 5.0  ABUT<90 SINGULAR MEASURE ALL REGION  
    ( E NOT PADMARK ) NOT LOGOMK
}           

L3.M8.S7.tritier {@ Minimum spacing of PASV_RDL to unrelated METALn (ME8) spacing is 5.0 um
    E = EXT  ( PAD_PASV NOT BOACMK )  ME8 < 5.0  ABUT<90 SINGULAR MEASURE ALL REGION  
    ( E NOT PADMARK ) NOT LOGOMK
}           

L3.M7.S7.tritier {@ Minimum spacing of PASV_RDL to unrelated METALn (ME7) spacing is 5.0 um
    E = EXT  ( PAD_PASV NOT BOACMK )  ME7 < 5.0  ABUT<90 SINGULAR MEASURE ALL REGION  
    ( E NOT PADMARK ) NOT LOGOMK
}           

L3.M6.S7.tritier {@ Minimum spacing of PASV_RDL to unrelated METALn (ME6) spacing is 5.0 um
    E = EXT  ( PAD_PASV NOT BOACMK )  ME6 < 5.0  ABUT<90 SINGULAR MEASURE ALL REGION  
    ( E NOT PADMARK ) NOT LOGOMK
}           

L3.M5.S7.tritier {@ Minimum spacing of PASV_RDL to unrelated METALn (ME5) spacing is 5.0 um
    E = EXT  ( PAD_PASV NOT BOACMK )  ME5 < 5.0  ABUT<90 SINGULAR MEASURE ALL REGION  
    ( E NOT PADMARK ) NOT LOGOMK
}           

L3.M4.S7.tritier {@ Minimum spacing of PASV_RDL to unrelated METALn (ME4) spacing is 5.0 um
    E = EXT  ( PAD_PASV NOT BOACMK )  ME4 < 5.0  ABUT<90 SINGULAR MEASURE ALL REGION  
    ( E NOT PADMARK ) NOT LOGOMK
}           

L3.M3.S7.tritier {@ Minimum spacing of PASV_RDL to unrelated METALn (ME3) spacing is 5.0 um
    E = EXT  ( PAD_PASV NOT BOACMK )  ME3 < 5.0  ABUT<90 SINGULAR MEASURE ALL REGION  
    ( E NOT PADMARK ) NOT LOGOMK
}           

L3.M2.S7.tritier {@ Minimum spacing of PASV_RDL to unrelated METALn (ME2) spacing is 5.0 um
    E = EXT  ( PAD_PASV NOT BOACMK )  ME2 < 5.0  ABUT<90 SINGULAR MEASURE ALL REGION  
    ( E NOT PADMARK ) NOT LOGOMK
}           

L3.M1.S7.tritier {@ Minimum spacing of PASV_RDL to unrelated METALn (ME1) spacing is 5.0 um
    E = EXT  ( PAD_PASV NOT BOACMK )  ME1 < 5.0  ABUT<90 SINGULAR MEASURE ALL REGION  
    ( E NOT PADMARK ) NOT LOGOMK
}           

//
//============================
//===  CLVS  Rule          ===
//============================
//

GROUP  CLVS  ?.CLVS CLVS.?


VIA9_PAD = VI9  AND  PADMARK
VIA8_PAD = VI8  AND  PADMARK
VIA7_PAD = VI7  AND  PADMARK
VIA6_PAD = VI6  AND  PADMARK
VIA5_PAD = VI5  AND  PADMARK
VIA4_PAD = VI4  AND  PADMARK
VIA3_PAD = VI3  AND  PADMARK
VIA2_PAD = VI2  AND  PADMARK
VIA1_PAD = VI1  AND  PADMARK

MET10_PAD_PASV = (ME10 AND PADMARK) INTERACT  PASV_RDL
MET9_PAD_PASV = (ME9 AND PADMARK) INTERACT  PASV_RDL
MET8_PAD_PASV = (ME8 AND PADMARK) INTERACT  PASV_RDL
MET7_PAD_PASV = (ME7 AND PADMARK) INTERACT  PASV_RDL
MET6_PAD_PASV = (ME6 AND PADMARK) INTERACT  PASV_RDL
MET5_PAD_PASV = (ME5 AND PADMARK) INTERACT  PASV_RDL
MET4_PAD_PASV = (ME4 AND PADMARK) INTERACT  PASV_RDL
MET3_PAD_PASV = (ME3 AND PADMARK) INTERACT  PASV_RDL
MET2_PAD_PASV = (ME2 AND PADMARK) INTERACT  PASV_RDL
MET1_PAD_PASV = (ME1 AND PADMARK) INTERACT  PASV_RDL

MER_MET6_PAD = SIZE (SIZE MET6_PAD_PASV BY 0.48) BY -0.48
MER_MET5_PAD = SIZE (SIZE MET5_PAD_PASV BY 0.48) BY -0.48
MER_MET4_PAD = SIZE (SIZE MET4_PAD_PASV BY 0.48) BY -0.48
MER_MET3_PAD = SIZE (SIZE MET3_PAD_PASV BY 0.48) BY -0.48
MER_MET2_PAD = SIZE (SIZE MET2_PAD_PASV BY 0.48) BY -0.48
MER_MET1_PAD = SIZE (SIZE MET1_PAD_PASV BY 0.48) BY -0.48

PASV_RDL_PAD = PASV_RDL INTERACT  PADMARK

   
1XM6.W1.CLVS {@ Exact 1X ME6 width over PASV-RDL is 2.42um
  
E1 = INT MET6_PAD_PASV < 2.42 ABUT>0<90 SINGULAR REGION
( E1 NOT LOGOMK ) NOT BOACMK
E2 = SIZE (SIZE MET6_PAD_PASV BY -1.21) BY 1.21
( E2 NOT LOGOMK ) NOT BOACMK
}
   
1XM5.W1.CLVS {@ Exact 1X ME5 width over PASV-RDL is 2.42um
  
E1 = INT MET5_PAD_PASV < 2.42 ABUT>0<90 SINGULAR REGION
( E1 NOT LOGOMK ) NOT BOACMK
E2 = SIZE (SIZE MET5_PAD_PASV BY -1.21) BY 1.21
( E2 NOT LOGOMK ) NOT BOACMK
}
   
1XM4.W1.CLVS {@ Exact 1X ME4 width over PASV-RDL is 2.42um
  
E1 = INT MET4_PAD_PASV < 2.42 ABUT>0<90 SINGULAR REGION
( E1 NOT LOGOMK ) NOT BOACMK
E2 = SIZE (SIZE MET4_PAD_PASV BY -1.21) BY 1.21
( E2 NOT LOGOMK ) NOT BOACMK
}
   
1XM3.W1.CLVS {@ Exact 1X ME3 width over PASV-RDL is 2.42um
  
E1 = INT MET3_PAD_PASV < 2.42 ABUT>0<90 SINGULAR REGION
( E1 NOT LOGOMK ) NOT BOACMK
E2 = SIZE (SIZE MET3_PAD_PASV BY -1.21) BY 1.21
( E2 NOT LOGOMK ) NOT BOACMK
}
   
1XM2.W1.CLVS {@ Exact 1X ME2 width over PASV-RDL is 2.42um
  
E1 = INT MET2_PAD_PASV < 2.42 ABUT>0<90 SINGULAR REGION
( E1 NOT LOGOMK ) NOT BOACMK
E2 = SIZE (SIZE MET2_PAD_PASV BY -1.21) BY 1.21
( E2 NOT LOGOMK ) NOT BOACMK
}
   
1XM1.W1.CLVS {@ Exact 1X ME1 width over PASV-RDL is 2.42um
  
E1 = INT MET1_PAD_PASV < 2.42 ABUT>0<90 SINGULAR REGION
( E1 NOT LOGOMK ) NOT BOACMK
E2 = SIZE (SIZE MET1_PAD_PASV BY -1.21) BY 1.21
( E2 NOT LOGOMK ) NOT BOACMK
}
 
1XM6.S1.CLVS {@ Minimum space between two 1X ME6 spacing over PASV_RDL is 0.35um
  
E = EXT MET6_PAD_PASV < 0.35 ABUT>0<90 SINGULAR REGION
( E NOT LOGOMK ) NOT BOACMK
} 
 
1XM5.S1.CLVS {@ Minimum space between two 1X ME5 spacing over PASV_RDL is 0.35um
  
E = EXT MET5_PAD_PASV < 0.35 ABUT>0<90 SINGULAR REGION
( E NOT LOGOMK ) NOT BOACMK
} 
 
1XM4.S1.CLVS {@ Minimum space between two 1X ME4 spacing over PASV_RDL is 0.35um
  
E = EXT MET4_PAD_PASV < 0.35 ABUT>0<90 SINGULAR REGION
( E NOT LOGOMK ) NOT BOACMK
} 
 
1XM3.S1.CLVS {@ Minimum space between two 1X ME3 spacing over PASV_RDL is 0.35um
  
E = EXT MET3_PAD_PASV < 0.35 ABUT>0<90 SINGULAR REGION
( E NOT LOGOMK ) NOT BOACMK
} 
 
1XM2.S1.CLVS {@ Minimum space between two 1X ME2 spacing over PASV_RDL is 0.35um
  
E = EXT MET2_PAD_PASV < 0.35 ABUT>0<90 SINGULAR REGION
( E NOT LOGOMK ) NOT BOACMK
} 
 
1XM1.S1.CLVS {@ Minimum space between two 1X ME1 spacing over PASV_RDL is 0.35um
  
E = EXT MET1_PAD_PASV < 0.35 ABUT>0<90 SINGULAR REGION
( E NOT LOGOMK ) NOT BOACMK
} 

1XM6.SX.CLVS {@ Maximum 1X pitch ME6 spacing over PASV_RDL is 0.96um
  E =  PASV_RDL_PAD NOT  MER_MET6_PAD      
( E NOT LOGOMK ) NOT BOACMK
}
1XM5.SX.CLVS {@ Maximum 1X pitch ME5 spacing over PASV_RDL is 0.96um
  E =  PASV_RDL_PAD NOT  MER_MET5_PAD      
( E NOT LOGOMK ) NOT BOACMK
}
1XM4.SX.CLVS {@ Maximum 1X pitch ME4 spacing over PASV_RDL is 0.96um
  E =  PASV_RDL_PAD NOT  MER_MET4_PAD      
( E NOT LOGOMK ) NOT BOACMK
}
1XM3.SX.CLVS {@ Maximum 1X pitch ME3 spacing over PASV_RDL is 0.96um
  E =  PASV_RDL_PAD NOT  MER_MET3_PAD      
( E NOT LOGOMK ) NOT BOACMK
}
1XM2.SX.CLVS {@ Maximum 1X pitch ME2 spacing over PASV_RDL is 0.96um
  E =  PASV_RDL_PAD NOT  MER_MET2_PAD      
( E NOT LOGOMK ) NOT BOACMK
}
1XM1.SX.CLVS {@ Maximum 1X pitch ME1 spacing over PASV_RDL is 0.96um
  E =  PASV_RDL_PAD NOT  MER_MET1_PAD      
( E NOT LOGOMK ) NOT BOACMK
}

1XM6_L3.OH1.CLVS {@ Exact 1X pitch metal6 overhang of PASV_RDL is 2.0um
   X = SIZE  PASV_RDL_PAD BY 2
   E =  XOR X MER_MET6_PAD
   ( E NOT LOGOMK ) NOT BOACMK
}     
1XM5_L3.OH1.CLVS {@ Exact 1X pitch metal5 overhang of PASV_RDL is 2.0um
   X = SIZE  PASV_RDL_PAD BY 2
   E =  XOR X MER_MET5_PAD
   ( E NOT LOGOMK ) NOT BOACMK
}     
1XM4_L3.OH1.CLVS {@ Exact 1X pitch metal4 overhang of PASV_RDL is 2.0um
   X = SIZE  PASV_RDL_PAD BY 2
   E =  XOR X MER_MET4_PAD
   ( E NOT LOGOMK ) NOT BOACMK
}     
1XM3_L3.OH1.CLVS {@ Exact 1X pitch metal3 overhang of PASV_RDL is 2.0um
   X = SIZE  PASV_RDL_PAD BY 2
   E =  XOR X MER_MET3_PAD
   ( E NOT LOGOMK ) NOT BOACMK
}     
1XM2_L3.OH1.CLVS {@ Exact 1X pitch metal2 overhang of PASV_RDL is 2.0um
   X = SIZE  PASV_RDL_PAD BY 2
   E =  XOR X MER_MET2_PAD
   ( E NOT LOGOMK ) NOT BOACMK
}     
1XM1_L3.OH1.CLVS {@ Exact 1X pitch metal1 overhang of PASV_RDL is 2.0um
   X = SIZE  PASV_RDL_PAD BY 2
   E =  XOR X MER_MET1_PAD
   ( E NOT LOGOMK ) NOT BOACMK
}     
1XM6_1XV5.EN1.CLVS {@ Min. 1X pitch metal6 overlap mvia5 in CLVS is 0.02um
   E = ENC VIA5_PAD MET6_PAD_PASV < 0.02 ABUT SINGULAR REGION
   ( E NOT LOGOMK ) NOT BOACMK
}

1XM5_1XV4.EN1.CLVS {@ Min. 1X pitch metal5 overlap mvia4 in CLVS is 0.02um
   E = ENC VIA4_PAD MET5_PAD_PASV < 0.02 ABUT SINGULAR REGION
   ( E NOT LOGOMK ) NOT BOACMK
}

1XM4_1XV3.EN1.CLVS {@ Min. 1X pitch metal4 overlap mvia3 in CLVS is 0.02um
   E = ENC VIA3_PAD MET4_PAD_PASV < 0.02 ABUT SINGULAR REGION
   ( E NOT LOGOMK ) NOT BOACMK
}

1XM3_1XV2.EN1.CLVS {@ Min. 1X pitch metal3 overlap mvia2 in CLVS is 0.02um
   E = ENC VIA2_PAD MET3_PAD_PASV < 0.02 ABUT SINGULAR REGION
   ( E NOT LOGOMK ) NOT BOACMK
}

1XM2_1XV1.EN1.CLVS {@ Min. 1X pitch metal2 overlap mvia1 in CLVS is 0.02um
   E = ENC VIA1_PAD MET2_PAD_PASV < 0.02 ABUT SINGULAR REGION
   ( E NOT LOGOMK ) NOT BOACMK
}

1XM5_1XV5.EN2.CLVS {@ Min. 1X pitch metal5 overlap mvia5 in CLVS is 0.02um
  E = ENC VIA5_PAD MET5_PAD_PASV < 0.02 ABUT SINGULAR REGION
  ( E NOT LOGOMK ) NOT BOACMK
   }
1XM4_1XV4.EN2.CLVS {@ Min. 1X pitch metal4 overlap mvia4 in CLVS is 0.02um
  E = ENC VIA4_PAD MET4_PAD_PASV < 0.02 ABUT SINGULAR REGION
  ( E NOT LOGOMK ) NOT BOACMK
   }
1XM3_1XV3.EN2.CLVS {@ Min. 1X pitch metal3 overlap mvia3 in CLVS is 0.02um
  E = ENC VIA3_PAD MET3_PAD_PASV < 0.02 ABUT SINGULAR REGION
  ( E NOT LOGOMK ) NOT BOACMK
   }
1XM2_1XV2.EN2.CLVS {@ Min. 1X pitch metal2 overlap mvia2 in CLVS is 0.02um
  E = ENC VIA2_PAD MET2_PAD_PASV < 0.02 ABUT SINGULAR REGION
  ( E NOT LOGOMK ) NOT BOACMK
   }
1XM1_1XV1.EN2.CLVS {@ Min. 1X pitch metal1 overlap mvia1 in CLVS is 0.02um
  E = ENC VIA1_PAD MET1_PAD_PASV < 0.02 ABUT SINGULAR REGION
  ( E NOT LOGOMK ) NOT BOACMK
   }

1XV5.SZ1.CLVS {@ Exact 1X pitch mvia5 size in CLVS is 0.1um X 0.1um
   E = NOT RECTANGLE VIA5_PAD == 0.1 BY == 0.1
   ( E NOT LOGOMK ) NOT BOACMK
   }
1XV4.SZ1.CLVS {@ Exact 1X pitch mvia4 size in CLVS is 0.1um X 0.1um
   E = NOT RECTANGLE VIA4_PAD == 0.1 BY == 0.1
   ( E NOT LOGOMK ) NOT BOACMK
   }
1XV3.SZ1.CLVS {@ Exact 1X pitch mvia3 size in CLVS is 0.1um X 0.1um
   E = NOT RECTANGLE VIA3_PAD == 0.1 BY == 0.1
   ( E NOT LOGOMK ) NOT BOACMK
   }
1XV2.SZ1.CLVS {@ Exact 1X pitch mvia2 size in CLVS is 0.1um X 0.1um
   E = NOT RECTANGLE VIA2_PAD == 0.1 BY == 0.1
   ( E NOT LOGOMK ) NOT BOACMK
   }
1XV1.SZ1.CLVS {@ Exact 1X pitch mvia1 size in CLVS is 0.1um X 0.1um
   E = NOT RECTANGLE VIA1_PAD == 0.1 BY == 0.1
   ( E NOT LOGOMK ) NOT BOACMK
   }
1XV5.S2.CLVS {@ Exact 1X pitch VIA5 spacing in CLVS is 0.14um
   E = EXT  VIA5_PAD  < 0.14  OPPOSITE  REGION
   ( E NOT LOGOMK ) NOT BOACMK
}
1XV4.S2.CLVS {@ Exact 1X pitch VIA4 spacing in CLVS is 0.14um
   E = EXT  VIA4_PAD  < 0.14  OPPOSITE  REGION
   ( E NOT LOGOMK ) NOT BOACMK
}
1XV3.S2.CLVS {@ Exact 1X pitch VIA3 spacing in CLVS is 0.14um
   E = EXT  VIA3_PAD  < 0.14  OPPOSITE  REGION
   ( E NOT LOGOMK ) NOT BOACMK
}
1XV2.S2.CLVS {@ Exact 1X pitch VIA2 spacing in CLVS is 0.14um
   E = EXT  VIA2_PAD  < 0.14  OPPOSITE  REGION
   ( E NOT LOGOMK ) NOT BOACMK
}
1XV1.S2.CLVS {@ Exact 1X pitch VIA1 spacing in CLVS is 0.14um
   E = EXT  VIA1_PAD  < 0.14  OPPOSITE  REGION
   ( E NOT LOGOMK ) NOT BOACMK
}
M5.D.CLVS {@ Minimum VIA5 density under PAD window area(PASV_RDL) is 12%
   DENSITY VIA5_PAD INSIDE OF LAYER (PADMARK AND PASV_RDL) < 0.12 PRINT M5.D.CLVS.DEN
}
M4.D.CLVS {@ Minimum VIA4 density under PAD window area(PASV_RDL) is 12%
   DENSITY VIA4_PAD INSIDE OF LAYER (PADMARK AND PASV_RDL) < 0.12 PRINT M4.D.CLVS.DEN
}
M3.D.CLVS {@ Minimum VIA3 density under PAD window area(PASV_RDL) is 12%
   DENSITY VIA3_PAD INSIDE OF LAYER (PADMARK AND PASV_RDL) < 0.12 PRINT M3.D.CLVS.DEN
}
M2.D.CLVS {@ Minimum VIA2 density under PAD window area(PASV_RDL) is 12%
   DENSITY VIA2_PAD INSIDE OF LAYER (PADMARK AND PASV_RDL) < 0.12 PRINT M2.D.CLVS.DEN
}
M1.D.CLVS {@ Minimum VIA1 density under PAD window area(PASV_RDL) is 12%
   DENSITY VIA1_PAD INSIDE OF LAYER (PADMARK AND PASV_RDL) < 0.12 PRINT M1.D.CLVS.DEN
}
CLVS.R {@ 2X, 4X, 6X pitch metal & mvia over PASV is not allowed
  ( ( PASV_RDL AND VIA9_PAD ) NOT LOGOMK ) NOT BOACMK
  ( ( PASV_RDL AND MET10_PAD_PASV ) NOT LOGOMK ) NOT BOACMK

  ( ( PASV_RDL AND VIA8_PAD ) NOT LOGOMK ) NOT BOACMK
  ( ( PASV_RDL AND MET9_PAD_PASV ) NOT LOGOMK ) NOT BOACMK

   ( ( PASV_RDL AND VIA7_PAD ) NOT LOGOMK ) NOT BOACMK 

   ( ( PASV_RDL AND MET8_PAD_PASV ) NOT LOGOMK ) NOT BOACMK

   ( ( PASV_RDL AND VIA6_PAD ) NOT LOGOMK ) NOT BOACMK 

   ( ( PASV_RDL AND MET7_PAD_PASV ) NOT LOGOMK ) NOT BOACMK


}
//
CLVS.ME10 {@ Pad area (AL_RDL) must be within M10DMBK 
   E = PAD_AL NOT M10DMBK
   E NOT BOACMK
 }

CLVS.ME9 {@ Pad area (AL_RDL) must be within M9DMBK 
   E = PAD_AL NOT M9DMBK
   E NOT BOACMK
 }

CLVS.ME8 {@ Pad area (AL_RDL) must be within M8DMBK 
   E = PAD_AL NOT M8DMBK
   E NOT BOACMK
 }

CLVS.ME7 {@ Pad area (AL_RDL) must be within M7DMBK 
   E = PAD_AL NOT M7DMBK
   E NOT BOACMK
 }

CLVS.ME6 {@ Pad area (AL_RDL) must be within M6DMBK 
   E = PAD_AL NOT M6DMBK
   E NOT BOACMK
 }

CLVS.ME5 {@ Pad area (AL_RDL) must be within M5DMBK 
   E = PAD_AL NOT M5DMBK
   E NOT BOACMK
 }

CLVS.ME4 {@ Pad area (AL_RDL) must be within M4DMBK 
   E = PAD_AL NOT M4DMBK
   E NOT BOACMK
 }

CLVS.ME3 {@ Pad area (AL_RDL) must be within M3DMBK 
   E = PAD_AL NOT M3DMBK
   E NOT BOACMK
 }

CLVS.ME2 {@ Pad area (AL_RDL) must be within M2DMBK 
   E = PAD_AL NOT M2DMBK
   E NOT BOACMK
 }

CLVS.ME1 {@ Pad area (AL_RDL) must be within M1DMBK 
   E = PAD_AL NOT M1DMBK
   E NOT BOACMK
 }

  
//============================
//===  MMC Rule (P62)      ===
//============================
GROUP  MMC_RULES  MIM? 2XV7_MIM? BDBK_BM.S5 UDBK_MIMBP.EN2 ?_MIMBP.EN? UM_2XV7.EN6



OFF_GRID_MMCTP {@ Grid SIZE of MMCTP is 0.005
  OFFGRID MMCTP 5

}

SKEW_EDGE_MMCTP {@ SKEW EDGE 
   ANGLE MMCTP >0<45
   ANGLE MMCTP >45<90
}

OFF_GRID_MMCBP {@ Grid SIZE of MMCBP is 0.005
  OFFGRID MMCBP 5

}

SKEW_EDGE_MMCBP {@ SKEW EDGE 
   ANGLE MMCBP >0<45
   ANGLE MMCBP >45<90
}

MIMTP.W1 {@ Minimum MMCTP width is 2um
   E = INT MMCTP < 2 ABUT>0<90 SINGULAR REGION
   E NOT LOGOMK
}

MIMTP.WX {@ Maximum MMCTP width is 100 um
   x = SIZE MMCTP BY -50
   E = SIZE x BY 50
   E NOT LOGOMK
}

MIMBP.S1 {@ Minimum MIMBP spacing is 2.0um
   E = EXT MMCBP < 2.0 ABUT>0<90 SINGULAR REGION
   E NOT LOGOMK
}

MIMTP.S2 {@ Minimum MIMTP spacing is 0.8um
   E = EXT MMCTP < 0.8 ABUT>0<90 SINGULAR REGION
   E NOT LOGOMK
}

2XV7_MIMTP.S3 {@ Minimum spacing of MVIA_7 over MIMTP is 0.88um
   E = EXT  ( VI7 NOT OUTSIDE MMCTP )  VI7  < 0.88 ABUT<90 SINGULAR REGION
   E NOT LOGOMK
}  

2XV7_MIMBP.S4 {@ Minimum spacing of MVIA_7 over MIMBP is 0.28um
   E = EXT  ( VI7 NOT OUTSIDE MMCBP )  VI7  < 0.28 ABUT<90 SINGULAR REGION
   E NOT LOGOMK
}  

BDBK_BM.S5 {@ Minimum spacing of BM_DUMMY_BLOCK (under MIMBP) to BM is 0.4um
  X = M7DMBK  INTERACT  MMCBP
  E = EXT  X  ME7 < 0.4 ABUT<90 SINGULAR  REGION
  E NOT LOGOMK
}

2XV7_MIMTP.S6 {@ Minimum spacing of MIMTP to MVIA7 is 0.30um
  E = EXT MMCTP VI7 < 0.3 ABUT<90 SINGULAR REGION 
  E NOT LOGOMK  
}

MIMTP_UM.S7 {@ Minimum spacing of MIMTP to UM is 0.30um
  E = EXT MMCTP ME8 < 0.3 ABUT<90 SINGULAR REGION 
  E NOT LOGOMK  
}

// MIMBP_UM.S8: checked below.

MIMBP_2XV7.EN1 {@ Minimum MIMBP enclosure of MVIA_7 is 0.30um
  E = ENC  VI7  MMCBP < 0.3 ABUT<90 SINGULAR REGION
  E NOT LOGOMK  
}

UDBK_MIMBP.EN2 {@ UM_DUMMY_BLOCK enclosure of MIMBP is 0.40um
  E =  ENC MMCBP M8DMBK < 0.4 ABUT<90 SINGULAR REGION
  E NOT LOGOMK   
}

// MnBK_MIMBP.EN3: checked below.

MIMBP_MIMTP.EN4 {@ Minimum MIMBP enclosure of MIMTP is 0.4um
  E = ENC MMCTP MMCBP < 0.4 ABUT SINGULAR OUTSIDE ALSO REGION
  E NOT LOGOMK
}

MIMTP_2XV7.EN5 {@ Minimum MIMTP enclosure of MVIA_7 is 0.28um
  E = ENC VI7 MMCTP < 0.28 ABUT<90 SINGULAR REGION
  E NOT LOGOMK
}

UM_2XV7.EN6 {@ Minimum UM (over MIMBP) enclosure of MVIA_7 is 0.50um
  X =  VI7 NOT OUTSIDE MMCBP
  E = ENC X ME8 < 0.5 ABUT SINGULAR OUTSIDE ALSO REGION
  E NOT LOGOMK  
}

BULK_CONNECT = COPY BULK
MMCTP_FAKE   = BULK_CONNECT AND MMCTP
CONNECT MMCTP_FAKE BULK_CONNECT

MIMTP.AX {@ Maximum MIMTP total area per chip is 10 sq.mm
  NET AREA MMCTP_FAKE > 10*1000*1000
}

//2XV7_MIMBP.SZ1 {@ Exact MVIA_7 size over MIMBP is 0.2 X 0.2
//  
//} Coverred by 2X VIA SIZE rule

MIM.R1 {@ MIMBP not over MIMTP is not allowed
  E1 = NOT MMCTP MMCBP
  E1 NOT LOGOMK
  E2 = MMCBP OUTSIDE MMCTP
  E2 NOT LOGOMK  
}

MIM.R2 {@ MIMBP must be within UM_DUMMY_BLOCK and BM_DUMMY_BLOCK layers
  E1 = MMCBP NOT M8DMBK
  E2 = MMCBP NOT M7DMBK  
  E1 NOT LOGOMK
  E2 NOT LOGOMK
}

MIM.R3 {@ MIMBP over BM is not allowed
  E = AND MMCBP ME7
  E NOT LOGOMK
}

MIM.R4 {@ All MIMBP shapes must be rectangular and orthogonal 
  E1 = ANGLE  MMCBP >0<90
  E2 = VERTEX MMCBP >4
  E1 OUTSIDE EDGE LOGOMK
  E2 NOT LOGOMK
}

MIM.R5 {@ All MIMTP shapes must be rectangular and orthogonal 
  E1 = ANGLE  MMCTP >0<90
  E2 = VERTEX MMCTP >4
  E1 OUTSIDE EDGE LOGOMK
  E2 NOT LOGOMK
}

MIM.R6 {@ MIMTP and MIMBP must touch two or more MVIA_7
  X = MMCBP AND MMCTP
  E = X ENCLOSE VI7 < 2
  E NOT LOGOMK
}

 GROUP MIMBP_UM.S8_.R7  MIMBP_UM.S8_.R7_M?   
 
MnBK_MIMBP.EN3_M1 {@ METALn_DUMMY_BLOCK enclosure of MIMBP is 0.40um  
  E =  ENC MMCBP M1DMBK < 0.4 ABUT<90 SINGULAR REGION  
  E NOT LOGOMK     
}  
                    
MIMBP_UM.S8_.R7_M1 {@ Minimum spacing of MIMBP to METAL_DUMMY/METAL (all below MIM layer) is 0.40um  
                    @ METAL DUMMY/METAL (all below MIM layer) touching MIMBP are not allowed.  
  E1 = EXT MMCBP ME1 < 0.4 ABUT<90 SINGULAR INSIDE ALSO REGION   
  E1 NOT LOGOMK    
  E2 = EXT MMCBP M1DUMY < 0.4 ABUT<90 SINGULAR INSIDE ALSO REGION   
  E2 NOT LOGOMK   
}     
                    
MnBK_MIMBP.EN3_M2 {@ METALn_DUMMY_BLOCK enclosure of MIMBP is 0.40um  
  E =  ENC MMCBP M2DMBK < 0.4 ABUT<90 SINGULAR REGION  
  E NOT LOGOMK     
}  
                    
MIMBP_UM.S8_.R7_M2 {@ Minimum spacing of MIMBP to METAL_DUMMY/METAL (all below MIM layer) is 0.40um  
                    @ METAL DUMMY/METAL (all below MIM layer) touching MIMBP are not allowed.  
  E1 = EXT MMCBP ME2 < 0.4 ABUT<90 SINGULAR INSIDE ALSO REGION   
  E1 NOT LOGOMK    
  E2 = EXT MMCBP M2DUMY < 0.4 ABUT<90 SINGULAR INSIDE ALSO REGION   
  E2 NOT LOGOMK   
}     
                    
MnBK_MIMBP.EN3_M3 {@ METALn_DUMMY_BLOCK enclosure of MIMBP is 0.40um  
  E =  ENC MMCBP M3DMBK < 0.4 ABUT<90 SINGULAR REGION  
  E NOT LOGOMK     
}  
                    
MIMBP_UM.S8_.R7_M3 {@ Minimum spacing of MIMBP to METAL_DUMMY/METAL (all below MIM layer) is 0.40um  
                    @ METAL DUMMY/METAL (all below MIM layer) touching MIMBP are not allowed.  
  E1 = EXT MMCBP ME3 < 0.4 ABUT<90 SINGULAR INSIDE ALSO REGION   
  E1 NOT LOGOMK    
  E2 = EXT MMCBP M3DUMY < 0.4 ABUT<90 SINGULAR INSIDE ALSO REGION   
  E2 NOT LOGOMK   
}     
                    
MnBK_MIMBP.EN3_M4 {@ METALn_DUMMY_BLOCK enclosure of MIMBP is 0.40um  
  E =  ENC MMCBP M4DMBK < 0.4 ABUT<90 SINGULAR REGION  
  E NOT LOGOMK     
}  
                    
MIMBP_UM.S8_.R7_M4 {@ Minimum spacing of MIMBP to METAL_DUMMY/METAL (all below MIM layer) is 0.40um  
                    @ METAL DUMMY/METAL (all below MIM layer) touching MIMBP are not allowed.  
  E1 = EXT MMCBP ME4 < 0.4 ABUT<90 SINGULAR INSIDE ALSO REGION   
  E1 NOT LOGOMK    
  E2 = EXT MMCBP M4DUMY < 0.4 ABUT<90 SINGULAR INSIDE ALSO REGION   
  E2 NOT LOGOMK   
}     
                    
MnBK_MIMBP.EN3_M5 {@ METALn_DUMMY_BLOCK enclosure of MIMBP is 0.40um  
  E =  ENC MMCBP M5DMBK < 0.4 ABUT<90 SINGULAR REGION  
  E NOT LOGOMK     
}  
                    
MIMBP_UM.S8_.R7_M5 {@ Minimum spacing of MIMBP to METAL_DUMMY/METAL (all below MIM layer) is 0.40um  
                    @ METAL DUMMY/METAL (all below MIM layer) touching MIMBP are not allowed.  
  E1 = EXT MMCBP ME5 < 0.4 ABUT<90 SINGULAR INSIDE ALSO REGION   
  E1 NOT LOGOMK    
  E2 = EXT MMCBP M5DUMY < 0.4 ABUT<90 SINGULAR INSIDE ALSO REGION   
  E2 NOT LOGOMK   
}     
                    
MnBK_MIMBP.EN3_M6 {@ METALn_DUMMY_BLOCK enclosure of MIMBP is 0.40um  
  E =  ENC MMCBP M6DMBK < 0.4 ABUT<90 SINGULAR REGION  
  E NOT LOGOMK     
}  
                    
MIMBP_UM.S8_.R7_M6 {@ Minimum spacing of MIMBP to METAL_DUMMY/METAL (all below MIM layer) is 0.40um  
                    @ METAL DUMMY/METAL (all below MIM layer) touching MIMBP are not allowed.  
  E1 = EXT MMCBP ME6 < 0.4 ABUT<90 SINGULAR INSIDE ALSO REGION   
  E1 NOT LOGOMK    
  E2 = EXT MMCBP M6DUMY < 0.4 ABUT<90 SINGULAR INSIDE ALSO REGION   
  E2 NOT LOGOMK   
}     
                    
MnBK_MIMBP.EN3_M7 {@ METALn_DUMMY_BLOCK enclosure of MIMBP is 0.40um  
  E =  ENC MMCBP M7DMBK < 0.4 ABUT<90 SINGULAR REGION  
  E NOT LOGOMK     
}  
                    
MIMBP_UM.S8_.R7_M7 {@ Minimum spacing of MIMBP to METAL_DUMMY/METAL (all below MIM layer) is 0.40um  
                    @ METAL DUMMY/METAL (all below MIM layer) touching MIMBP are not allowed.  
  E1 = EXT MMCBP ME7 < 0.4 ABUT<90 SINGULAR INSIDE ALSO REGION   
  E1 NOT LOGOMK    
  E2 = EXT MMCBP M7DUMY < 0.4 ABUT<90 SINGULAR INSIDE ALSO REGION   
  E2 NOT LOGOMK   
}     
                    

//
//====================
//===  INDUCTOR    ===
//====================
//

OFF_GRID_IND {@ Grid SIZE of IND is 0.005
  OFFGRID IND 5
}

SKEW_EDGE_IND {@ SKEW EDGE 
   ANGLE IND >0<45
   ANGLE IND >45<90
}

ME10_IND = ME10 AND IND
ME9_IND = ME9 AND IND
ME8_IND = ME8 AND IND
ME7_IND = ME7 AND IND
ME6_IND = ME6 AND IND
ME5_IND = ME5 AND IND
ME4_IND = ME4 AND IND
ME3_IND = ME3 AND IND
ME2_IND = ME2 AND IND
ME1_IND = ME1 AND IND


IND.WX.ME1 {@ Maximum ME1 width of 1X, 2X, 4X, 325KA within IND is 12um
   E = SIZE ( SIZE ME1_IND BY -6 ) BY 6     
   E NOT LOGOMK
}



IND.WX.ME2 {@ Maximum ME2 width of 1X, 2X, 4X, 325KA within IND is 12um
   E = SIZE ( SIZE ME2_IND BY -6 ) BY 6     
   E NOT LOGOMK
}



IND.WX.ME3 {@ Maximum ME3 width of 1X, 2X, 4X, 325KA within IND is 12um
   E = SIZE ( SIZE ME3_IND BY -6 ) BY 6     
   E NOT LOGOMK
}



IND.WX.ME4 {@ Maximum ME4 width of 1X, 2X, 4X, 325KA within IND is 12um
   E = SIZE ( SIZE ME4_IND BY -6 ) BY 6     
   E NOT LOGOMK
}



IND.WX.ME5 {@ Maximum ME5 width of 1X, 2X, 4X, 325KA within IND is 12um
   E = SIZE ( SIZE ME5_IND BY -6 ) BY 6     
   E NOT LOGOMK
}



IND.WX.ME6 {@ Maximum ME6 width of 1X, 2X, 4X, 325KA within IND is 12um
   E = SIZE ( SIZE ME6_IND BY -6 ) BY 6     
   E NOT LOGOMK
}



IND.WX.ME7 {@ Maximum ME7 width of 1X, 2X, 4X, 325KA within IND is 12um
   E = SIZE ( SIZE ME7_IND BY -6 ) BY 6     
   E NOT LOGOMK
}



IND.WX.ME8 {@ Maximum ME8 width of 1X, 2X, 4X, 325KA within IND is 12um
   E = SIZE ( SIZE ME8_IND BY -6 ) BY 6     
   E NOT LOGOMK
}



IND.WX.ME9 {@ Maximum ME9 width of 1X, 2X, 4X, 325KA within IND is 12um
   E = SIZE ( SIZE ME9_IND BY -6 ) BY 6     
   E NOT LOGOMK
}



IND.WX.ME10 {@ Maximum ME10 width of 1X, 2X, 4X, 325KA within IND is 12um
   E = SIZE ( SIZE ME10_IND BY -6 ) BY 6     
   E NOT LOGOMK
}


IND.WL {@ Minimum IND width and length is 30um
   E = INT IND < 30 ABUT>0<90 SINGULAR REGION
   E NOT LOGOMK
}

IND.WLX {@ Maximum IND width and length is 430um
//   E = NOT RECTANGLE IND <=430 BY <=430   
//   E NOT LOGOMK

   X = EXTENTS IND
   E = NOT RECTANGLE X <=430 BY <=430  
   E NOT LOGOMK  
}

// IND.R1 {@ Width of 1X, 2X, 4X, 325KA Metal within IND must refer to BEOL layout rule.
// }

// IND.R2 {@ Spacing of 1X, 2X, 4X, 325KA Metal within IND must refer to BEOL layout rule.
// }

// IND.R3 {@ 1X pitch MVIA rule within IND  must refer to BEOL layout rule.
// }

// IND.R4 {@ 2X pitch MVIA rule within IND  must refer to BEOL layout rule.
// }

// IND.R5 {@ 4X pitch MVIA rule within IND  must refer to BEOL layout rule.
// }
// Removed in version 1.5 P1
//IND.R6 {@ IND shapes must be orthogonal rectangle
//   E1 = ANGLE  IND >0<90
//   E2 = VERTEX IND >4
//   E1 OUTSIDE EDGE LOGOMK
//   E2 OUTSIDE EDGE LOGOMK
//}

//IND.R7 {@ Circular metal regions are allowed inside IND.
//    
// }  // This is NOT a constraint for a layout, DRC can't check.
//


//IND.R8 {@ Metal edges that interest at acute angles greater than 80 degree 
//        @ inside IND (i.e. inductor line begin/end ) are excluded from metal 
//        @ width design rule check.
//}
//   This rule exclude somerule checks, they will be considered by rule  
//   MX.W1
//

IND.R9 {@ GATE under IND is NOT allowed
   GATE AND IND 
}

//
//IND.R10 {@ TMV_RDL (L1) within IND must follow the layout rules in section 7.2
//}
//
//IND.R11 {@ AL_RDL (L2) within IND must follow the layout rules in section 7.2
//}
//



//
//  =============================
//  ===== METAL DENSITY RULE ====
//  =============================

GROUP METAL_DENSITY  M?.D?


LIM1_LAY = M1DMBK NOT ( ( PADMARK OR WATPADMK ) OR IND )
MET1_ALL = ((ME1 OR M1DUMY) AND LIM1_LAY) NOT (M1SLOT OR ( ( PADMARK OR WATPADMK ) OR IND ) ) 
LIM1_LAY_CHECK = DRC:1 AND LIM1_LAY

M1.D {@ The Metal1 coverage must be larger than 15% over local 50um * 50um area step 25um within M1DMBK        
   DENSITY MET1_ALL LIM1_LAY  INSIDE OF LAYER LIM1_LAY_CHECK < 0.15 WINDOW 50 STEP 25 BACKUP   
   [AREA(MET1_ALL)/AREA(LIM1_LAY)]           
}

M1.D1 {@ The Metal1 coverage must be less than 80% over local 50um * 50um area step 25um
  
   MET1_X   = ( ME1 OR M1DUMY )  NOT  ( ( PADMARK OR WATPADMK ) OR IND )
   LIM1_X   =  DRC:1   NOT  ( ( PADMARK OR WATPADMK ) OR IND )
   LIM1_X_CHECK = BULK AND LIM1_X

   E = DENSITY MET1_X LIM1_X INSIDE OF LAYER LIM1_X_CHECK > 0.80 WINDOW 50 STEP 25 BACKUP    
   [AREA(MET1_X)/AREA(LIM1_X)]  

   HIGHLIGHT_WINDOW = ( SIZE E  BY 5 UNDEROVER TRUNCATE 5 ) NOT ( ( PADMARK OR WATPADMK ) OR IND )
   DENSITY MET1_X LIM1_X INSIDE OF LAYER HIGHLIGHT_WINDOW > 0.80 WINDOW 50 STEP 25 BACKUP   PRINT M1.local.DEN
   [AREA(MET1_X)/AREA(LIM1_X)]     
}

M1.NOTE3 {@ Metal line is forbidden in CAD_RF_PAD_MARK area except for the top copper metal layer
   AND ME1 RFPADMK
}   

LIM2_LAY = M2DMBK NOT ( ( PADMARK OR WATPADMK ) OR IND )
MET2_ALL = ((ME2 OR M2DUMY) AND LIM2_LAY) NOT (M2SLOT OR ( ( PADMARK OR WATPADMK ) OR IND ) ) 
LIM2_LAY_CHECK = DRC:1 AND LIM2_LAY

M2.D {@ The Metal2 coverage must be larger than 15% over local 50um * 50um area step 25um within M2DMBK        
   DENSITY MET2_ALL LIM2_LAY  INSIDE OF LAYER LIM2_LAY_CHECK < 0.15 WINDOW 50 STEP 25 BACKUP   
   [AREA(MET2_ALL)/AREA(LIM2_LAY)]           
}

M2.D1 {@ The Metal2 coverage must be less than 80% over local 50um * 50um area step 25um
  
   MET2_X   = ( ME2 OR M2DUMY )  NOT  ( ( PADMARK OR WATPADMK ) OR IND )
   LIM2_X   =  DRC:1   NOT  ( ( PADMARK OR WATPADMK ) OR IND )
   LIM2_X_CHECK = BULK AND LIM2_X

   E = DENSITY MET2_X LIM2_X INSIDE OF LAYER LIM2_X_CHECK > 0.80 WINDOW 50 STEP 25 BACKUP    
   [AREA(MET2_X)/AREA(LIM2_X)]  

   HIGHLIGHT_WINDOW = ( SIZE E  BY 5 UNDEROVER TRUNCATE 5 ) NOT ( ( PADMARK OR WATPADMK ) OR IND )
   DENSITY MET2_X LIM2_X INSIDE OF LAYER HIGHLIGHT_WINDOW > 0.80 WINDOW 50 STEP 25 BACKUP   PRINT M2.local.DEN
   [AREA(MET2_X)/AREA(LIM2_X)]     
}

M2.NOTE3 {@ Metal line is forbidden in CAD_RF_PAD_MARK area except for the top copper metal layer
   AND ME2 RFPADMK
}   

LIM3_LAY = M3DMBK NOT ( ( PADMARK OR WATPADMK ) OR IND )
MET3_ALL = ((ME3 OR M3DUMY) AND LIM3_LAY) NOT (M3SLOT OR ( ( PADMARK OR WATPADMK ) OR IND ) ) 
LIM3_LAY_CHECK = DRC:1 AND LIM3_LAY

M3.D {@ The Metal3 coverage must be larger than 15% over local 50um * 50um area step 25um within M3DMBK        
   DENSITY MET3_ALL LIM3_LAY  INSIDE OF LAYER LIM3_LAY_CHECK < 0.15 WINDOW 50 STEP 25 BACKUP   
   [AREA(MET3_ALL)/AREA(LIM3_LAY)]           
}

M3.D1 {@ The Metal3 coverage must be less than 80% over local 50um * 50um area step 25um
  
   MET3_X   = ( ME3 OR M3DUMY )  NOT  ( ( PADMARK OR WATPADMK ) OR IND )
   LIM3_X   =  DRC:1   NOT  ( ( PADMARK OR WATPADMK ) OR IND )
   LIM3_X_CHECK = BULK AND LIM3_X

   E = DENSITY MET3_X LIM3_X INSIDE OF LAYER LIM3_X_CHECK > 0.80 WINDOW 50 STEP 25 BACKUP    
   [AREA(MET3_X)/AREA(LIM3_X)]  

   HIGHLIGHT_WINDOW = ( SIZE E  BY 5 UNDEROVER TRUNCATE 5 ) NOT ( ( PADMARK OR WATPADMK ) OR IND )
   DENSITY MET3_X LIM3_X INSIDE OF LAYER HIGHLIGHT_WINDOW > 0.80 WINDOW 50 STEP 25 BACKUP   PRINT M3.local.DEN
   [AREA(MET3_X)/AREA(LIM3_X)]     
}

M3.NOTE3 {@ Metal line is forbidden in CAD_RF_PAD_MARK area except for the top copper metal layer
   AND ME3 RFPADMK
}   

LIM4_LAY = M4DMBK NOT ( ( PADMARK OR WATPADMK ) OR IND )
MET4_ALL = ((ME4 OR M4DUMY) AND LIM4_LAY) NOT (M4SLOT OR ( ( PADMARK OR WATPADMK ) OR IND ) ) 
LIM4_LAY_CHECK = DRC:1 AND LIM4_LAY

M4.D {@ The Metal4 coverage must be larger than 15% over local 50um * 50um area step 25um within M4DMBK        
   DENSITY MET4_ALL LIM4_LAY  INSIDE OF LAYER LIM4_LAY_CHECK < 0.15 WINDOW 50 STEP 25 BACKUP   
   [AREA(MET4_ALL)/AREA(LIM4_LAY)]           
}

M4.D1 {@ The Metal4 coverage must be less than 80% over local 50um * 50um area step 25um
  
   MET4_X   = ( ME4 OR M4DUMY )  NOT  ( ( PADMARK OR WATPADMK ) OR IND )
   LIM4_X   =  DRC:1   NOT  ( ( PADMARK OR WATPADMK ) OR IND )
   LIM4_X_CHECK = BULK AND LIM4_X

   E = DENSITY MET4_X LIM4_X INSIDE OF LAYER LIM4_X_CHECK > 0.80 WINDOW 50 STEP 25 BACKUP    
   [AREA(MET4_X)/AREA(LIM4_X)]  

   HIGHLIGHT_WINDOW = ( SIZE E  BY 5 UNDEROVER TRUNCATE 5 ) NOT ( ( PADMARK OR WATPADMK ) OR IND )
   DENSITY MET4_X LIM4_X INSIDE OF LAYER HIGHLIGHT_WINDOW > 0.80 WINDOW 50 STEP 25 BACKUP   PRINT M4.local.DEN
   [AREA(MET4_X)/AREA(LIM4_X)]     
}

M4.NOTE3 {@ Metal line is forbidden in CAD_RF_PAD_MARK area except for the top copper metal layer
   AND ME4 RFPADMK
}   

LIM5_LAY = M5DMBK NOT ( ( PADMARK OR WATPADMK ) OR IND )
MET5_ALL = ((ME5 OR M5DUMY) AND LIM5_LAY) NOT (M5SLOT OR ( ( PADMARK OR WATPADMK ) OR IND ) ) 
LIM5_LAY_CHECK = DRC:1 AND LIM5_LAY

M5.D {@ The Metal5 coverage must be larger than 15% over local 50um * 50um area step 25um within M5DMBK        
   DENSITY MET5_ALL LIM5_LAY  INSIDE OF LAYER LIM5_LAY_CHECK < 0.15 WINDOW 50 STEP 25 BACKUP   
   [AREA(MET5_ALL)/AREA(LIM5_LAY)]           
}

M5.D1 {@ The Metal5 coverage must be less than 80% over local 50um * 50um area step 25um
  
   MET5_X   = ( ME5 OR M5DUMY )  NOT  ( ( PADMARK OR WATPADMK ) OR IND )
   LIM5_X   =  DRC:1   NOT  ( ( PADMARK OR WATPADMK ) OR IND )
   LIM5_X_CHECK = BULK AND LIM5_X

   E = DENSITY MET5_X LIM5_X INSIDE OF LAYER LIM5_X_CHECK > 0.80 WINDOW 50 STEP 25 BACKUP    
   [AREA(MET5_X)/AREA(LIM5_X)]  

   HIGHLIGHT_WINDOW = ( SIZE E  BY 5 UNDEROVER TRUNCATE 5 ) NOT ( ( PADMARK OR WATPADMK ) OR IND )
   DENSITY MET5_X LIM5_X INSIDE OF LAYER HIGHLIGHT_WINDOW > 0.80 WINDOW 50 STEP 25 BACKUP   PRINT M5.local.DEN
   [AREA(MET5_X)/AREA(LIM5_X)]     
}

M5.NOTE3 {@ Metal line is forbidden in CAD_RF_PAD_MARK area except for the top copper metal layer
   AND ME5 RFPADMK
}   

LIM6_LAY = M6DMBK NOT ( ( PADMARK OR WATPADMK ) OR IND )
MET6_ALL = ((ME6 OR M6DUMY) AND LIM6_LAY) NOT (M6SLOT OR ( ( PADMARK OR WATPADMK ) OR IND ) ) 
LIM6_LAY_CHECK = DRC:1 AND LIM6_LAY

M6.D {@ The Metal6 coverage must be larger than 15% over local 50um * 50um area step 25um within M6DMBK        
   DENSITY MET6_ALL LIM6_LAY  INSIDE OF LAYER LIM6_LAY_CHECK < 0.15 WINDOW 50 STEP 25 BACKUP   
   [AREA(MET6_ALL)/AREA(LIM6_LAY)]           
}

M6.D1 {@ The Metal6 coverage must be less than 80% over local 50um * 50um area step 25um
  
   MET6_X   = ( ME6 OR M6DUMY )  NOT  ( ( PADMARK OR WATPADMK ) OR IND )
   LIM6_X   =  DRC:1   NOT  ( ( PADMARK OR WATPADMK ) OR IND )
   LIM6_X_CHECK = BULK AND LIM6_X

   E = DENSITY MET6_X LIM6_X INSIDE OF LAYER LIM6_X_CHECK > 0.80 WINDOW 50 STEP 25 BACKUP    
   [AREA(MET6_X)/AREA(LIM6_X)]  

   HIGHLIGHT_WINDOW = ( SIZE E  BY 5 UNDEROVER TRUNCATE 5 ) NOT ( ( PADMARK OR WATPADMK ) OR IND )
   DENSITY MET6_X LIM6_X INSIDE OF LAYER HIGHLIGHT_WINDOW > 0.80 WINDOW 50 STEP 25 BACKUP   PRINT M6.local.DEN
   [AREA(MET6_X)/AREA(LIM6_X)]     
}

M6.NOTE3 {@ Metal line is forbidden in CAD_RF_PAD_MARK area except for the top copper metal layer
   AND ME6 RFPADMK
}   

LIM7_LAY = M7DMBK NOT ( ( PADMARK OR ( WATPADMK OR CUFLIPMK ) ) OR IND ) 
MET7_ALL = ((ME7 OR M7DUMY) AND LIM7_LAY) NOT (M7SLOT OR ( ( PADMARK OR ( WATPADMK OR CUFLIPMK ) ) OR IND ) ) 
LIM7_LAY_CHECK = DRC:1 AND LIM7_LAY

M7.D {@ The Metal7 coverage must be larger than 15% over local 50um * 50um area step 25um within M7DMBK       
   DENSITY MET7_ALL LIM7_LAY  INSIDE OF LAYER LIM7_LAY_CHECK < 0.15 WINDOW 50 STEP 25 BACKUP   
   [AREA(MET7_ALL)/AREA(LIM7_LAY)]              
}

M7.D1 {@ The Metal7 coverage must be less than 80% over local 50um * 50um area step 25um
  
   MET7_X   = ( ME7 OR M7DUMY )  NOT  ( ( PADMARK OR ( WATPADMK OR CUFLIPMK ) ) OR IND )
   LIM7_X   = DRC:1                    NOT  ( ( PADMARK OR ( WATPADMK OR CUFLIPMK ) ) OR IND )
   LIM7_X_CHECK = BULK AND LIM7_X  
   
   E = DENSITY MET7_X LIM7_X INSIDE OF LAYER LIM7_X_CHECK > 0.80 WINDOW 50 STEP 25 BACKUP    
   [AREA(MET7_X)/AREA(LIM7_X)]  

   HIGHLIGHT_WINDOW = ( SIZE E  BY 5 UNDEROVER TRUNCATE 5 ) NOT  ( ( PADMARK OR ( WATPADMK OR CUFLIPMK ) ) OR IND )
   DENSITY MET7_X LIM7_X INSIDE OF LAYER HIGHLIGHT_WINDOW > 0.80 WINDOW 50 STEP 25 BACKUP   PRINT M7.local.DEN
   [AREA(MET7_X)/AREA(LIM7_X)]      
}

M7.NOTE3 {@ Metal line is forbidden in CAD_RF_PAD_MARK area except for the top copper metal layer
   AND ME7 RFPADMK
}   

LIM8_LAY = M8DMBK NOT ( ( PADMARK OR ( WATPADMK OR CUFLIPMK ) ) OR IND ) 
MET8_ALL = ((ME8 OR M8DUMY) AND LIM8_LAY) NOT (M8SLOT OR ( ( PADMARK OR ( WATPADMK OR CUFLIPMK ) ) OR IND ) ) 
LIM8_LAY_CHECK = DRC:1 AND LIM8_LAY

M8.D {@ The Metal8 coverage must be larger than 15% over local 50um * 50um area step 25um within M8DMBK       
   DENSITY MET8_ALL LIM8_LAY  INSIDE OF LAYER LIM8_LAY_CHECK < 0.15 WINDOW 50 STEP 25 BACKUP   
   [AREA(MET8_ALL)/AREA(LIM8_LAY)]              
}

M8.D1 {@ The Metal8 coverage must be less than 80% over local 50um * 50um area step 25um
  
   MET8_X   = ( ME8 OR M8DUMY )  NOT  ( ( PADMARK OR ( WATPADMK OR CUFLIPMK ) ) OR IND )
   LIM8_X   = DRC:1                    NOT  ( ( PADMARK OR ( WATPADMK OR CUFLIPMK ) ) OR IND )
   LIM8_X_CHECK = BULK AND LIM8_X  
   
   E = DENSITY MET8_X LIM8_X INSIDE OF LAYER LIM8_X_CHECK > 0.80 WINDOW 50 STEP 25 BACKUP    
   [AREA(MET8_X)/AREA(LIM8_X)]  

   HIGHLIGHT_WINDOW = ( SIZE E  BY 5 UNDEROVER TRUNCATE 5 ) NOT  ( ( PADMARK OR ( WATPADMK OR CUFLIPMK ) ) OR IND )
   DENSITY MET8_X LIM8_X INSIDE OF LAYER HIGHLIGHT_WINDOW > 0.80 WINDOW 50 STEP 25 BACKUP   PRINT M8.local.DEN
   [AREA(MET8_X)/AREA(LIM8_X)]      
}

M8.NOTE3 {@ Metal line is forbidden in CAD_RF_PAD_MARK area except for the top copper metal layer
   AND ME8 RFPADMK
}   

LIM9_LAY = M9DMBK NOT ( ( PADMARK OR ( WATPADMK OR CUFLIPMK ) ) OR IND ) 
MET9_ALL = ((ME9 OR M9DUMY) AND LIM9_LAY) NOT (M9SLOT OR ( ( PADMARK OR ( WATPADMK OR CUFLIPMK ) ) OR IND ) ) 
LIM9_LAY_CHECK = DRC:1 AND LIM9_LAY

M9.D {@ The Metal9 coverage must be larger than 15% over local 50um * 50um area step 25um within M9DMBK       
   DENSITY MET9_ALL LIM9_LAY  INSIDE OF LAYER LIM9_LAY_CHECK < 0.15 WINDOW 50 STEP 25 BACKUP   
   [AREA(MET9_ALL)/AREA(LIM9_LAY)]              
}

M9.D1 {@ The Metal9 coverage must be less than 80% over local 50um * 50um area step 25um
  
   MET9_X   = ( ME9 OR M9DUMY )  NOT  ( ( PADMARK OR ( WATPADMK OR CUFLIPMK ) ) OR IND )
   LIM9_X   = DRC:1                    NOT  ( ( PADMARK OR ( WATPADMK OR CUFLIPMK ) ) OR IND )
   LIM9_X_CHECK = BULK AND LIM9_X  
   
   E = DENSITY MET9_X LIM9_X INSIDE OF LAYER LIM9_X_CHECK > 0.80 WINDOW 50 STEP 25 BACKUP    
   [AREA(MET9_X)/AREA(LIM9_X)]  

   HIGHLIGHT_WINDOW = ( SIZE E  BY 5 UNDEROVER TRUNCATE 5 ) NOT  ( ( PADMARK OR ( WATPADMK OR CUFLIPMK ) ) OR IND )
   DENSITY MET9_X LIM9_X INSIDE OF LAYER HIGHLIGHT_WINDOW > 0.80 WINDOW 50 STEP 25 BACKUP   PRINT M9.local.DEN
   [AREA(MET9_X)/AREA(LIM9_X)]      
}

M9.NOTE3 {@ Metal line is forbidden in CAD_RF_PAD_MARK area except for the top copper metal layer
   AND ME9 RFPADMK
}   

LIM10_LAY = M10DMBK NOT ( ( ( PADMARK OR ( WATPADMK OR CUFLIPMK ) ) OR IND ) OR RFPADMK )

MET10_ALL = ((ME10 OR M10DUMY) AND LIM10_LAY) NOT (M10SLOT OR ( ( ( PADMARK OR ( WATPADMK OR CUFLIPMK ) ) OR IND ) OR RFPADMK ) ) 

LIM10_LAY_CHECK = DRC:1 AND LIM10_LAY

M10.D {@ The Metal10 coverage must be larger than 15% over local 50um * 50um area step 25um within M10DMBK     
   E = DENSITY MET10_ALL LIM10_LAY  INSIDE OF LAYER LIM10_LAY_CHECK < 0.15 WINDOW 50 STEP 25 BACKUP   
   [AREA(MET10_ALL)/AREA(LIM10_LAY)]  
   E NOT FUSEMARK 
}


M10.D1 {@ The Metal10 coverage must be less than 80% over local 50um * 50um area step 25um    
   MET10_X   = ( ME10 OR M10DUMY )    NOT     ( ( ( ( PADMARK OR ( WATPADMK OR CUFLIPMK ) ) OR IND ) OR BOACMK ) OR RFPADMK )
   LIM10_X   = DRC:1                    NOT     ( ( ( ( PADMARK OR ( WATPADMK OR CUFLIPMK ) ) OR IND ) OR BOACMK ) OR RFPADMK )
   LIM10_X_CHECK = BULK AND LIM10_X  
    
   E = DENSITY MET10_X LIM10_X INSIDE OF LAYER LIM10_X_CHECK > 0.80 WINDOW 50 STEP 25 BACKUP    
   [AREA(MET10_X)/AREA(LIM10_X)]  

   HIGHLIGHT_WINDOW = ( SIZE E  BY 5 UNDEROVER TRUNCATE 5 ) NOT  ( ( ( ( PADMARK OR ( WATPADMK OR CUFLIPMK ) ) OR IND ) OR BOACMK ) OR RFPADMK )    
   DENSITY MET10_X LIM10_X INSIDE OF LAYER HIGHLIGHT_WINDOW > 0.80 WINDOW 50 STEP 25 BACKUP   PRINT M10.local.DEN
   [AREA(MET10_X)/AREA(LIM10_X)]    
}


// Not applied for top metal.
//M10.NOTE3 {@ Metal line is forbidden in CAD_RF_PAD_MARK area except for the top copper metal layer
//   AND ME10 RFPADMK
//}   

   

//
//==============================================
//===  AL-RDL Layer Rules (For wire Bond)    ===
//==============================================
//

GEN_TMV    = TMV_RDL NOT INTERACT FUSEMARK
PAD_AL_RDL = AL_RDL  NOT INTERACT FUSEMARK 

//

GROUP L2_GENERAL L2_L.W1 L2_L.S1
GROUP L2_25K_36K L2_L.S1_2

L2_L.W1 {@ Minimum width of Al-metal line at AL_RDL (L2) layer region is 2.7 um
   E = INT PAD_AL_RDL < 2.7 ABUT>0<90 SINGULAR REGION
   E NOT LOGOMK
}

L2_L.S1 {@ Minimum spacing and notch of Al-metal line (Al thickness 12KA) is 1.60um
   E1 = EXT PAD_AL_RDL        < 1.60 ABUT>0<90 SINGULAR REGION
   E1 NOT LOGOMK
   E2 = EXT PAD_AL_RDL AL_RDL < 1.60 ABUT>0<90 SINGULAR REGION
   E2 NOT LOGOMK
}

L2_L.S1_2 {@ Minimum spacing and notch of Al-metal line (Al thickness 36KA or 25KA) is 1.80um
   E1 = EXT PAD_AL_RDL        < 1.80 ABUT>0<90 SINGULAR REGION
   E1 NOT LOGOMK
   E2 = EXT PAD_AL_RDL AL_RDL < 1.80 ABUT>0<90 SINGULAR REGION
   E2 NOT LOGOMK
} 

L2_L.S {@ Minimum spacing and notch of AL-metal line to (AL-metal line with width > 35um) is 3um
   WAL_350 =  (SIZE (SIZE PAD_AL_RDL BY -17.5) BY 17.5 TRUNCATE 0 INSIDE OF PAD_AL_RDL) NOT INTERACT (PADMARK AND PASV_RDL)
   WAL_350_CONN = STAMP WAL_350 BY AL_RDL
   WAL_350_E    = WAL_350	COIN INSIDE EDGE AL_RDL
   WAL_350_IE	= WAL_350_CONN       INSIDE EDGE AL_RDL
   X = EXT WAL_350_E  AL_RDL < 3.0 ABUT>0<90 REGION
   Y = EXT WAL_350_IE AL_RDL < 3.0 MEASURE ALL NOT CONNECTED REGION
   E = (X OR Y) NOT INTERACT FUSEMARK 
   E NOT LOGOMK
}

L1.SZ1 {@ Exact TMV_RDL size is 4.0 x 4.0 um or 3.0 x 3.0 um
   X = NOT RECTANGLE GEN_TMV == 4.0 BY == 4.0
   E = NOT RECTANGLE X == 3.0 BY == 3.0   
   E NOT LOGOMK
}

L1.S2 {@ Minimum spacing of TMV_RDL to TMV_RDL is 2.0um
   E = EXT GEN_TMV < 2.0 ABUT>0<90 REGION
   E NOT LOGOMK
}

LM_L1.EN1 {@ Minimum enclosure of last copper metal to TMV_RDL is 0.35um, no floating TMV_RDL
   E = ENC GEN_TMV ME10 < 0.35 ABUT SINGULAR OUTSIDE ALSO REGION
   E NOT LOGOMK
}

L2_L_L1.EN2 {@ Minimum enclosure of AL_RDL line at AL_RDL layer to TMV_RDL is 0.5um, no floating TMV_RDL
   E = ENC GEN_TMV AL_RDL < 0.5 ABUT<90 SINGULAR OUTSIDE ALSO REGION
   ( E NOT INTERACT FUSEMARK ) NOT LOGOMK
}

L1.R1 {@ All TMV_RDL shapes must be orthogonal except in LOGO, IND and die seal ring areas.
       @ TMV_RDL_BAR is allowed only in die seal ring and inductor areas.
   E = ANGLE TMV_RDL >0<90
   ((E OUTSIDE EDGE LOGOMK) OUTSIDE EDGE IND) OUTSIDE EDGE SEALRMARK
   ( TMVBAR NOT SEALRMARK ) NOT IND
}

GROUP L2_DENSITY L2.D1 L2.D2

L2.D1 {@ Minimum L2 density cross full chip is 10 %
   DENSITY AL_RDL < 0.1 INSIDE OF LAYER DRC:1  
}

L2.D2 {@ Maximum L2 density cross full chip is 85 %
   DENSITY AL_RDL > 0.85 INSIDE OF LAYER DRC:1 
}





//
//==============================
//====== AL_RDL SLOT RULE ======
//==============================
//

AL_NOT_PAD = (AL_RDL NOT PASV_RDL) NOT PADMARK 
AL_MET_HOLE= AL_NOT_PAD NOT L2SLOT
AL_EDGE    = AL_MET_HOLE COINCIDENT INSIDE EDGE AL_RDL

//

L2.W1.L2SLOT {@ Width of AL_metal except bounding pad area should be less than 35um 
   E = SIZE ( SIZE AL_MET_HOLE BY -17.499 ) BY 17.499 TRUNCATE 17.499
   E NOT LOGOMK
}

L2SLOT.W2 {@ Minimum Slot width is 2um            
   E = INT  L2SLOT < 2 ABUT<90  REGION
   E NOT LOGOMK               
}          

L2SLOT.WX {@ Maximum Slot width is 5um            
   E = SIZE (SIZE L2SLOT BY -2.5) BY 2.5                
   E NOT LOGOMK
}  

L2SLOT.L1_LX  {@ Minimum Slot length is  10um
               @ Maximum Slot length is 250um  
  SQR_L2SLOT = VERTEX L2SLOT == 4
  E1 = SQR_L2SLOT NOT WITH EDGE (LENGTH SQR_L2SLOT >= 10 <= 250)
  E1 NOT LOGOMK
  POLYGON_L2SLOT = L2SLOT NOT SQR_L2SLOT

  L2SLOT_LINE_END1 = CONVEX EDGE POLYGON_L2SLOT ==2 WITH LENGTH >=2 <= 5
  LINE_END_TEST = LENGTH POLYGON_L2SLOT > 5
  L2SLOT_LINE_END2 = INT [L2SLOT_LINE_END1] LINE_END_TEST <= 5 ABUT==90 PERP ONLY
  L2SLOT_LINE_END  = L2SLOT_LINE_END1 NOT TOUCH INSIDE EDGE (L2SLOT_LINE_END1 NOT COIN INSIDE EDGE L2SLOT_LINE_END2)
  L2SLOT_LEG = POLYGON_L2SLOT NOT COIN INSIDE EDGE L2SLOT_LINE_END

  E2 = PATH LENGTH L2SLOT_LEG < 10 
  E2 OUTSIDE EDGE LOGOMK
  E3 = PATH LENGTH L2SLOT_LEG > 250 
  E3 OUTSIDE EDGE LOGOMK
  
  E4 = POLYGON_L2SLOT NOT (POLYGON_L2SLOT WITH EDGE LINE_END_TEST)	// Sanity check for line end test
  E4 NOT LOGOMK
      
}

L2SLOT.S1  {@ Minimum space between slot regions is 9 um
   E = EXT L2SLOT < 9.0 ABUT>0<90 SINGULAR REGION
   E NOT LOGOMK
}

L2SLOT.SX {@ Maximun slot spacing is 20 um
   X =  SIZE (SIZE AL_MET_HOLE BY -10.00) BY 10.0 TRUNCATE 10.0 
   E = X  INTERACT  L2SLOT
   E NOT LOGOMK
}

L2SLOT_Mn.S2  {@ Minimum slot to Metal edge spacing 9 um
   E = ENC L2SLOT AL_RDL < 9.0 ABUT<90 SINGULAR OUTSIDE ALSO REGION
   E NOT LOGOMK
}

// L2SLOT_Mn.SX checked by L2SLOT.SX 

// L2SLOT.R1 and L2SLOT.R2 not checked


// 8 Cu-Fuse please refer to G-03F-GENERATION65N-CU-TLR/FUSE

// 9 ESD please refer to G-03E-GENERATION65N-TLR/ESD

// 10 Latch-up please refer to G-03L-GENERATION65N-TLR/LATCH_UP

// 11 Dummy and slot for Cu metal layers please refer to G-03DS-GENERATION65N-METAL-TLR/DUMMY_SLOT




//
//======================
//====== DFM RULE ======
//======================
//
GROUP  DFM_Priority1  ?.Priority1
GROUP  DFM_Priority2  ?.Priority2



V1.R.RCM._VI1.Priority1 {@ Use redundant via for all metal layer interconnection 
   X = AND ME1 ME2
   E = VI1 AND ( X INTERACT VI1 == 1 ) 
   ( E NOT LOGOMK ) NOT MEMORY_MARK_65
} 


V1.R.RCM._VI2.Priority1 {@ Use redundant via for all metal layer interconnection 
   X = AND ME2 ME3
   E = VI2 AND ( X INTERACT VI2 == 1 ) 
   ( E NOT LOGOMK ) NOT MEMORY_MARK_65
} 


V1.R.RCM._VI3.Priority1 {@ Use redundant via for all metal layer interconnection 
   X = AND ME3 ME4
   E = VI3 AND ( X INTERACT VI3 == 1 ) 
   ( E NOT LOGOMK ) NOT MEMORY_MARK_65
} 


V1.R.RCM._VI4.Priority1 {@ Use redundant via for all metal layer interconnection 
   X = AND ME4 ME5
   E = VI4 AND ( X INTERACT VI4 == 1 ) 
   ( E NOT LOGOMK ) NOT MEMORY_MARK_65
} 


V1.R.RCM._VI5.Priority1 {@ Use redundant via for all metal layer interconnection 
   X = AND ME5 ME6
   E = VI5 AND ( X INTERACT VI5 == 1 ) 
   ( E NOT LOGOMK ) NOT MEMORY_MARK_65
} 


V1.R.RCM._VI6.Priority1 {@ Use redundant via for all metal layer interconnection 
   X = AND ME6 ME7
   E = VI6 AND ( X INTERACT VI6 == 1 ) 
   ( E NOT LOGOMK ) NOT MEMORY_MARK_65
} 


V1.R.RCM._VI7.Priority1 {@ Use redundant via for all metal layer interconnection 
   X = AND ME7 ME8
   E = VI7 AND ( X INTERACT VI7 == 1 ) 
   ( E NOT LOGOMK ) NOT MEMORY_MARK_65
} 


V1.R.RCM._VI8.Priority1 {@ Use redundant via for all metal layer interconnection 
   X = AND ME8 ME9
   E = VI8 AND ( X INTERACT VI8 == 1 ) 
   ( E NOT LOGOMK ) NOT MEMORY_MARK_65
} 


V1.R.RCM._VI9.Priority1 {@ Use redundant via for all metal layer interconnection 
   X = AND ME9 ME10
   E = VI9 AND ( X INTERACT VI9 == 1 ) 
   ( E NOT LOGOMK ) NOT MEMORY_MARK_65
} 



GATE_02 = INT ( DIFF INSIDE EDGE PO1 ) < 0.2 REGION
//PLY_G.S.RCM.Priority2 {@ Minimum Poly spacing on diffusion regions is 0.15um
//             @ not over TG
//   X = GATE_W OUTSIDE EDGE TG
//   E = EXT X < 0.15 ABUT>0<90 REGION
//  (E AND DIFF) NOT MEMORY_MARK_65
//}
//
//PLY_G.P.RCM.Priority2 {@ Recommended POLY1 gate pitch when POLY1 gate pitch < 0.34um is 0.22um OR 0.26um
//   A = INT GATE_W < 0.22 REGION CENTERLINE          // 0.34 - 0.13  == 0.21, where 0.13 is the minimum spacing of poly gate
//   B =  ( DIFF INTERACT A ) NOT A                   // S/D between GATE
//   C =  ( B INTERACT A > 1 ) COIN OUTSIDE EDGE A    // S/D edge between GATE
//   E1 = INT C < 0.212         OPPOSITE REGION
//   ( E1 NOT LOGOMK ) NOT MEMORY_MARK_65
//   E2 = INT C > 0.212 < 0.252 OPPOSITE REGION   
//   ( E2 NOT LOGOMK ) NOT MEMORY_MARK_65
//   E3 = INT C > 0.252 < 0.332 OPPOSITE REGION    
//   ( E3 NOT LOGOMK ) NOT MEMORY_MARK_65
//}

// PLY_G.R4.RCM is same to rule PLY_G.R4

//PLY_G.RCM.Priority2 {@ POLY1 gates with width <=0.08um not over TG should be align one direction.
//                     @ Horizontal direction is preferred.
//   E = ANGLE GATE_W >0 
//   X = ( E OUTSIDE EDGE TG ) OUTSIDE EDGE LOGOMK
//   INT X GATE_W <= 0.08 REGION
//}


PLY_G.RCM.Priority2 {@ POLY1 gates length <= 0.08 not over TG should be aligned in one direction.
                     @ Horizontal direction is preferred.
                     @ ( If the gate directions are NOT all the same, all non-horizontal gate will be highlighted )

   CHECK_GATE_W = ( ( GATE_W NOT INSIDE EDGE MEMORY_MARK_65 ) NOT INSIDE EDGE TG ) NOT INSIDE EDGE LOGOMK
   GATE_W_008 =  INT [CHECK_GATE_W] GATE_W <= 0.08 
          
   H_GATE_W = ANGLE GATE_W_008 ==  0
   V_GATE_W = ANGLE GATE_W_008 == 90    
  
   H_GATE     = GATE WITH EDGE H_GATE_W  // horizontal gate    
   V_GATE     = GATE WITH EDGE V_GATE_W  // vertical gate       
 
   ( BULK INTERACT H_GATE ) AND V_GATE   
}

DF.W1.RCM.Priority2 {@ Minimum DIFF width for device(not over TG) is 0.12um
   X = DIFF_W OUTSIDE EDGE TG
   E = INT X < 0.12 ABUT>0<90 REGION
   ( E NOT MEMORY_MARK_65 ) NOT LOGOMK
}

PLY_DF.S3.RCM.Priority2 {@ Minimum PO1 endcap to RELATED DIFF spacing is 0.1um
   E = EXT GATE_E_ENDCAP  DIFF_E_NG < 0.1 PERP ONLY ABUT == 90 REGION
   ( E NOT MEMORY_MARK_65 ) NOT LOGOMK
}

PLY_DF.S4.RCM.Priority2 {@ Minimum PO1 corner to DIFFUSION ( POLY1 and DIFFUSION on the same MOS ) spacing is 0.1um
                         @ when the relative transistor width < 0.2um  
   EXPOL_FOR_GATE_02 = EXPOL INTERACT GATE_02                    
   A = EXT DIFF EXPOL_FOR_GATE_02 < 0.01 ABUT == 90 REGION       
   B = A COIN OUTSIDE EDGE DIFF 
   C = ( ( EXPAND EDGE B OUTSIDE BY 0.001 EXTEND BY 0.37 ) TOUCH OUTSIDE EDGE B ) NOT OUTSIDE EDGE EXDIFF   
   D = EXT EXPOL [C] < 0.1 OPPOSITE
   E = D TOUCH EDGE A
   F = EXT EXPOL E < 0.1 REGION 
   ( F NOT LOGOMK ) NOT MEMORY_MARK_65
}

PLY_DF.OH3.RCM.Priority2 {@ Minimum PO1 overhang of L-shape diffusion if PO1 common run with L-shape diffusion >= 0.05 is 0.16um
                          @ PO1 endcap to L-shape diffusion spacing < 0.1um
   X = EXT END_CAP_W DIFF < 0.1 OPPOSITE PROJ >= 0.05  PARALLEL ONLY REGION
   Y = END_CAP INTERACT X
   Z = DIFF_W TOUCH EDGE Y
   E = ENC Z Y < 0.16 ABUT>0<90 MEASURE COIN REGION
   E NOT ( ( MEMORY_MARK_55 OR MEMORY_MARK_65 ) OR LOGOMK )
}

PLY_CT.EN1_.EN2.RCM.Priority2 {@ Minimum PO1 overlap contact on at least two opposite sides is 0.06 um

   X = ENC CONT PO1 < 0.04 ABUT < 90 SINGULAR REGION  
   Y = CONT INTERACT X           
   E = RECTANGLE ENC Y PO1 
   GOOD 0.00 0.06 OPPOSITE 0.00 0.06 OPPOSITE  
   ( E NOT MEMORY_MARK_65  ) NOT LOGOMK
}

DF.S1.RCM.Priority2 {@ Minimum DIFF spacing and notch is 0.13um 
   E = EXT DIFF < 0.13 ABUT>0<90 SINGULAR REGION
   ( E NOT MEMORY_MARK_65 ) NOT LOGOMK
}

DF.S2.RCM.Priority2 {@ Minimum spacing and notch of diffusion pattern with width >=1.5um is 0.15um 
   X =  SIZE (SIZE DIFF BY -0.749) BY 0.749 TRUNCATE 0 INSIDE OF DIFF STEP 0.749
   E = EXT X DIFF < 0.15 ABUT>0<90 REGION
   ( E NOT MEMORY_MARK_65 ) NOT LOGOMK
}

PLY_F.S2.RCM.Priority2 {@ Minimum Poly spacing on field regions is 0.14um
                       @ not over TG
   E = EXT EXPO_E < 0.14 ABUT>0<90 REGION
   ( E NOT MEMORY_MARK_65 ) NOT LOGOMK
}

DF_CT.EN3_EN4.RCM.Priority2 {@ Minimum extension of an DIFF region beyond a CONT region is 0.03 
                             @ Minimum DIFF enclosure of CONTACT on at least two opposite sides is 0.06 um.
    X = ENC CONT DIFF< 0.03 ABUT < 90 SINGULAR REGION
    Y = CONT INTERACT X
    E = RECTANGLE ENC Y DIFF
    GOOD 0.00 0.06 OPPOSITE 0.00 0.06 OPPOSITE
   ( E NOT MEMORY_MARK_65  ) NOT LOGOMK
}

M1_CT.EN2.RCM.Priority2 {@ Minimum ME1 line end enclosure of CONT is 0.05 um 
    X = ENC CONT ME1 < 0.02 ABUT < 90 SINGULAR REGION  
    Y = CONT INTERACT X                       
    E = RECTANGLE ENC Y ME1
    GOOD 0.00 0.05 OPPOSITE 0.00 0.05 OPPOSITE
   ( E NOT MEMORY_MARK_65  ) NOT LOGOMK
}


1XM2_1XV2.EN2.RCM.Priority2 {@ ME2 line end enclosure of VI2 is 0.05
  X = ENC  VI2 ME2 < 0.02 ABUT < 90 SINGULAR REGION
  Y = VI2 INTERACT X
  E = RECTANGLE ENC Y ME2
  GOOD 0.00 0.05 OPPOSITE 0.00 0.05 OPPOSITE
  ( E  NOT  MEMORY_MARK_65  ) NOT LOGOMK
}


1XM3_1XV3.EN2.RCM.Priority2 {@ ME3 line end enclosure of VI3 is 0.05
  X = ENC  VI3 ME3 < 0.02 ABUT < 90 SINGULAR REGION
  Y = VI3 INTERACT X
  E = RECTANGLE ENC Y ME3
  GOOD 0.00 0.05 OPPOSITE 0.00 0.05 OPPOSITE
  ( E  NOT  MEMORY_MARK_65  ) NOT LOGOMK
}


1XM4_1XV4.EN2.RCM.Priority2 {@ ME4 line end enclosure of VI4 is 0.05
  X = ENC  VI4 ME4 < 0.02 ABUT < 90 SINGULAR REGION
  Y = VI4 INTERACT X
  E = RECTANGLE ENC Y ME4
  GOOD 0.00 0.05 OPPOSITE 0.00 0.05 OPPOSITE
  ( E  NOT  MEMORY_MARK_65  ) NOT LOGOMK
}


1XM5_1XV5.EN2.RCM.Priority2 {@ ME5 line end enclosure of VI5 is 0.05
  X = ENC  VI5 ME5 < 0.02 ABUT < 90 SINGULAR REGION
  Y = VI5 INTERACT X
  E = RECTANGLE ENC Y ME5
  GOOD 0.00 0.05 OPPOSITE 0.00 0.05 OPPOSITE
  ( E  NOT  MEMORY_MARK_65  ) NOT LOGOMK
}


1XM6_1XV6.EN2.RCM.Priority2 {@ ME6 line end enclosure of VI6 is 0.05
  X = ENC  VI6 ME6 < 0.02 ABUT < 90 SINGULAR REGION
  Y = VI6 INTERACT X
  E = RECTANGLE ENC Y ME6
  GOOD 0.00 0.05 OPPOSITE 0.00 0.05 OPPOSITE
  ( E  NOT  MEMORY_MARK_65  ) NOT LOGOMK
}


DF.W2.RCM.Priority2 {@ Minimum DIFF width for interconnect is 0.1um
   X = INT DIFF < 0.1 ABUT>0<90 SINGULAR REGION
   E = X  NOT  INTERACT  GATE
   ( E NOT MEMORY_MARK_65 ) NOT LOGOMK
}

CT.R.RCM.Priority2 {@ Use redundant CONTACT when layout is allowed
   E1 = ( ME1 AND PO1  ) INTERACT CONT == 1
   E2 = ( ME1 AND DIFF ) INTERACT CONT == 1
   ( E1 NOT LOGOMK ) NOT MEMORY_MARK_65
   ( E2 NOT LOGOMK ) NOT MEMORY_MARK_65
}


//
//============================
//====== OPC  GUIDELINE ======
//============================
//
  
  GROUP OPC_GUIDE_LINE OPC?

//OPC.1A {@ OPC recipes capability limitation
//        @ Provide a DRC clean database and no TLR rule violation.
//}

//OPC.1B {@ OPC recipes capability limitation
//        @ Layout line end to be rectangular shape. For X-architecture layout, 
//        @ please refer to X-architecture specfic TLR layout for detials. 
//        @ (X-architecture is not available yet)
//}

OPC.1C_DIFF {@ OPC recipes capability limitation
             @ Avoid using "head to head" corners at minimum width or space
             @ Check DIFFUSION width == 0.08 um case.
             @ Check DIFFUSION space == 0.11 um case. 
   A  = INT (DIFF) <= 0.08 OPPOSITE    
   E1 = INT A < 0.080001 REGION 
   
   B  = EXT (DIFF) <= 0.11 OPPOSITE  
   E2 = EXT B < 0.110001 REGION 
   
   ( E1 NOT LOGOMK ) NOT MEMORY_MARK_65   
   ( E2 NOT LOGOMK ) NOT MEMORY_MARK_65 
}

OPC.1C_POLY1 {@ OPC recipes capability limitation
              @ Avoid using "head to head" corners at minimum width or space
              @ Check POLY1 width == 0.06 um case.
              @ Check POLY1 space == 0.12 um case.  
   A  = INT (PO1) <= 0.06 OPPOSITE    
   E1 = INT A < 0.060001 REGION 
   
   B  = EXT (PO1) <= 0.12 OPPOSITE  
   E2 = EXT B < 0.120001 REGION 
   
   ( E1 NOT LOGOMK ) NOT MEMORY_MARK_65   
   ( E2 NOT LOGOMK ) NOT MEMORY_MARK_65 
}

OPC.1C_ME1 {@ OPC recipes capability limitation
            @ Avoid using "head to head" corners at minimum width or space
            @ Check METAL1 width == 0.09 um case.// space = 0.09 um case
   A  = INT (ME1) <= 0.09 OPPOSITE    
   E1 = INT A < 0.090001 REGION 
   
   B  = EXT (ME1) <= 0.09 OPPOSITE  
   E2 = EXT B < 0.090001 REGION 
   
   ( E1 NOT LOGOMK ) NOT MEMORY_MARK_65   
   ( E2 NOT LOGOMK ) NOT MEMORY_MARK_65  
}



OPC.1C_ME2 {@ OPC recipes capability limitation
            @ Avoid using "head to head" corners at minimum width or space
            @ Check METAL2 width == 0.10 um case.// space == 0.10 um case.
   A  = INT (ME2) <= 0.10 OPPOSITE    
   E1 = INT A < 0.100001 REGION 
   
   B  = EXT (ME2) <= 0.10 OPPOSITE  
   E2 = EXT B < 0.100001 REGION 
   
   ( E1 NOT LOGOMK ) NOT MEMORY_MARK_65   
   ( E2 NOT LOGOMK ) NOT MEMORY_MARK_65 
}


OPC.1C_ME3 {@ OPC recipes capability limitation
            @ Avoid using "head to head" corners at minimum width or space
            @ Check METAL3 width == 0.10 um case.// space == 0.10 um case.
   A  = INT (ME3) <= 0.10 OPPOSITE    
   E1 = INT A < 0.100001 REGION 
   
   B  = EXT (ME3) <= 0.10 OPPOSITE  
   E2 = EXT B < 0.100001 REGION 
   
   ( E1 NOT LOGOMK ) NOT MEMORY_MARK_65   
   ( E2 NOT LOGOMK ) NOT MEMORY_MARK_65 
}


OPC.1C_ME4 {@ OPC recipes capability limitation
            @ Avoid using "head to head" corners at minimum width or space
            @ Check METAL4 width == 0.10 um case.// space == 0.10 um case.
   A  = INT (ME4) <= 0.10 OPPOSITE    
   E1 = INT A < 0.100001 REGION 
   
   B  = EXT (ME4) <= 0.10 OPPOSITE  
   E2 = EXT B < 0.100001 REGION 
   
   ( E1 NOT LOGOMK ) NOT MEMORY_MARK_65   
   ( E2 NOT LOGOMK ) NOT MEMORY_MARK_65 
}


OPC.1C_ME5 {@ OPC recipes capability limitation
            @ Avoid using "head to head" corners at minimum width or space
            @ Check METAL5 width == 0.10 um case.// space == 0.10 um case.
   A  = INT (ME5) <= 0.10 OPPOSITE    
   E1 = INT A < 0.100001 REGION 
   
   B  = EXT (ME5) <= 0.10 OPPOSITE  
   E2 = EXT B < 0.100001 REGION 
   
   ( E1 NOT LOGOMK ) NOT MEMORY_MARK_65   
   ( E2 NOT LOGOMK ) NOT MEMORY_MARK_65 
}


OPC.1C_ME6 {@ OPC recipes capability limitation
            @ Avoid using "head to head" corners at minimum width or space
            @ Check METAL6 width == 0.10 um case.// space == 0.10 um case.
   A  = INT (ME6) <= 0.10 OPPOSITE    
   E1 = INT A < 0.100001 REGION 
   
   B  = EXT (ME6) <= 0.10 OPPOSITE  
   E2 = EXT B < 0.100001 REGION 
   
   ( E1 NOT LOGOMK ) NOT MEMORY_MARK_65   
   ( E2 NOT LOGOMK ) NOT MEMORY_MARK_65 
}


OPC.1C_ME7 {@ OPC recipes capability limitation
            @ Avoid using "head to head" corners at minimum width or space
            @ Check METAL7 width == 0.20 um case.// space == 0.20 um case.
   A  = INT (ME7) <= 0.20 OPPOSITE    
   E1 = INT A < 0.200001 REGION 
   
   B  = EXT (ME7) <= 0.20 OPPOSITE  
   E2 = EXT B < 0.200001 REGION 
   
   ( E1 NOT LOGOMK ) NOT MEMORY_MARK_65   
   ( E2 NOT LOGOMK ) NOT MEMORY_MARK_65 
}

OPC.1C_ME8 {@ OPC recipes capability limitation
            @ Avoid using "head to head" corners at minimum width or space
            @ Check METAL8 width == 0.20 um case.// space == 0.20 um case.
   A  = INT (ME8) <= 0.20 OPPOSITE    
   E1 = INT A < 0.200001 REGION 
   
   B  = EXT (ME8) <= 0.20 OPPOSITE  
   E2 = EXT B < 0.200001 REGION 
   
   ( E1 NOT LOGOMK ) NOT MEMORY_MARK_65   
   ( E2 NOT LOGOMK ) NOT MEMORY_MARK_65 
}
 
 //OPC.2A {@ OPC run time, database size and mask-making cycle time reduction
 //        @ Avoid using small jogs. Distance between jogs is recommended to 
 //        @ be greater than half pitch.
 //} // The jog can't be well-defined. DRC not check.
 
 //OPC.2B {@ OPC run time, database size and mask-making cycle time reduction
 //        @ Avoid using small zigzag. Distance between zigzags is recommended to 
 //        @ be greater than half pitch.
 //} // The zigzag can't be well-defined. DRC not check.

Rule_OPC.2C_DIFF {@ OPC run time, database size and mask-making cycle time reduction.
                  @ Remommend that you do not have no more than 3 consecutive sides with length < 1/4 pitch of 
                  @ DIFFUSION/POLY1/METAL1/1X pitch metal/2X pitch metal
                  @ 1/4 pitch of DIFFUSION is 0.048 um
       
  X = LENGTH DIFF < 0.048
  E1 = INT X < 0.048 ABUT==90 INTERSECTING ONLY REGION
  E2 = EXT X < 0.048 ABUT==90 INTERSECTING ONLY REGION  
  ( ( ( E1 INTERACT E2 > 1 ) NOT LOGOMK ) NOT MEMORY_MARK_55 ) NOT MEMORY_MARK_65
  ( ( ( E2 INTERACT E1 > 1 ) NOT LOGOMK ) NOT MEMORY_MARK_55 ) NOT MEMORY_MARK_65
} 


Rule_OPC.2C_PO1 {@ OPC run time, database size and mask-making cycle time reduction
                 @ Remommend that you do not have no more than 3 consecutive sides with length < 1/4 pitch of 
                 @ DIFFUSION/POLY1/METAL1/1X pitch metal/2X pitch metal
                 @ 1/4 pitch of POLY1 is 0.048 um
  X = LENGTH PO1 < 0.048
  E1 = INT X < 0.048 ABUT==90 INTERSECTING ONLY REGION
  E2 = EXT X < 0.048 ABUT==90 INTERSECTING ONLY REGION  
  ( ( ( E1 INTERACT E2 > 1 ) NOT LOGOMK ) NOT MEMORY_MARK_55 ) NOT MEMORY_MARK_65
  ( ( ( E2 INTERACT E1 > 1 ) NOT LOGOMK ) NOT MEMORY_MARK_55 ) NOT MEMORY_MARK_65
} 
  
Rule_OPC.2C_ME1 {@ OPC run time, database size and mask-making cycle time reduction
                 @ Remommend that you do not have no more than 3 consecutive sides with length < 1/4 pitch of 
                 @ DIFFUSION/POLY1/METAL1/1X pitch metal/2X pitch metal
                 @ 1/4 pitch of METAL1 is 0.045 um                                
  X = LENGTH ME1 < 0.045
  E1 = INT X < 0.045 ABUT==90 INTERSECTING ONLY REGION
  E2 = EXT X < 0.045 ABUT==90 INTERSECTING ONLY REGION  
  ( ( ( E1 INTERACT E2 > 1 ) NOT LOGOMK ) NOT MEMORY_MARK_55 ) NOT MEMORY_MARK_65
  ( ( ( E2 INTERACT E1 > 1 ) NOT LOGOMK ) NOT MEMORY_MARK_55 ) NOT MEMORY_MARK_65
} 

Rule_OPC.2C_ME2 {@ OPC run time, database size and mask-making cycle time reduction
                 @ Remommend that you do not have no more than 3 consecutive sides with length < 1/4 pitch of 
                 @ DIFFUSION/POLY1/METAL1/1X pitch metal/2X pitch metal
                 @ 1/4 pitch of 1X pitch metal is 0.05 um 

  X  = LENGTH ME2 < 0.05
  E1 = INT X < 0.05 ABUT==90 INTERSECTING ONLY REGION
  E2 = EXT X < 0.05 ABUT==90 INTERSECTING ONLY REGION  
  ( E1 INTERACT E2 > 1 ) NOT LOGOMK
  ( E2 INTERACT E1 > 1 ) NOT LOGOMK  
} 

Rule_OPC.2C_ME3 {@ OPC run time, database size and mask-making cycle time reduction
                 @ Remommend that you do not have no more than 3 consecutive sides with length < 1/4 pitch of 
                 @ DIFFUSION/POLY1/METAL1/1X pitch metal/2X pitch metal
                 @ 1/4 pitch of 1X pitch metal is 0.05 um 

  X  = LENGTH ME3 < 0.05
  E1 = INT X < 0.05 ABUT==90 INTERSECTING ONLY REGION
  E2 = EXT X < 0.05 ABUT==90 INTERSECTING ONLY REGION  
  ( E1 INTERACT E2 > 1 ) NOT LOGOMK
  ( E2 INTERACT E1 > 1 ) NOT LOGOMK  
} 

Rule_OPC.2C_ME4 {@ OPC run time, database size and mask-making cycle time reduction
                 @ Remommend that you do not have no more than 3 consecutive sides with length < 1/4 pitch of 
                 @ DIFFUSION/POLY1/METAL1/1X pitch metal/2X pitch metal
                 @ 1/4 pitch of 1X pitch metal is 0.05 um 

  X  = LENGTH ME4 < 0.05
  E1 = INT X < 0.05 ABUT==90 INTERSECTING ONLY REGION
  E2 = EXT X < 0.05 ABUT==90 INTERSECTING ONLY REGION  
  ( E1 INTERACT E2 > 1 ) NOT LOGOMK
  ( E2 INTERACT E1 > 1 ) NOT LOGOMK  
} 

Rule_OPC.2C_ME5 {@ OPC run time, database size and mask-making cycle time reduction
                 @ Remommend that you do not have no more than 3 consecutive sides with length < 1/4 pitch of 
                 @ DIFFUSION/POLY1/METAL1/1X pitch metal/2X pitch metal
                 @ 1/4 pitch of 1X pitch metal is 0.05 um 

  X  = LENGTH ME5 < 0.05
  E1 = INT X < 0.05 ABUT==90 INTERSECTING ONLY REGION
  E2 = EXT X < 0.05 ABUT==90 INTERSECTING ONLY REGION  
  ( E1 INTERACT E2 > 1 ) NOT LOGOMK
  ( E2 INTERACT E1 > 1 ) NOT LOGOMK  
} 

Rule_OPC.2C_ME6 {@ OPC run time, database size and mask-making cycle time reduction
                 @ Remommend that you do not have no more than 3 consecutive sides with length < 1/4 pitch of 
                 @ DIFFUSION/POLY1/METAL1/1X pitch metal/2X pitch metal
                 @ 1/4 pitch of 1X pitch metal is 0.05 um 

  X  = LENGTH ME6 < 0.05
  E1 = INT X < 0.05 ABUT==90 INTERSECTING ONLY REGION
  E2 = EXT X < 0.05 ABUT==90 INTERSECTING ONLY REGION  
  ( E1 INTERACT E2 > 1 ) NOT LOGOMK
  ( E2 INTERACT E1 > 1 ) NOT LOGOMK  
} 

Rule_OPC.2C_ME7 {@ OPC run time, database size and mask-making cycle time reduction
                 @ Remommend that you do not have no more than 3 consecutive sides with length < 1/4 pitch of 
                 @ DIFFUSION/POLY1/METAL1/1X pitch metal/2X pitch metal
                 @ 1/4 pitch of 2X pitch metal is 0.1 um 
  X  = LENGTH ME7 < 0.10
  E1 = INT X < 0.10 ABUT==90 INTERSECTING ONLY REGION
  E2 = EXT X < 0.10 ABUT==90 INTERSECTING ONLY REGION  
  ( E1 INTERACT E2 > 1 ) NOT LOGOMK
  ( E2 INTERACT E1 > 1 ) NOT LOGOMK   
} 

Rule_OPC.2C_ME8 {@ OPC run time, database size and mask-making cycle time reduction
                 @ Remommend that you do not have no more than 3 consecutive sides with length < 1/4 pitch of 
                 @ DIFFUSION/POLY1/METAL1/1X pitch metal/2X pitch metal
                 @ 1/4 pitch of 2X pitch metal is 0.1 um 
  X  = LENGTH ME8 < 0.10
  E1 = INT X < 0.10 ABUT==90 INTERSECTING ONLY REGION
  E2 = EXT X < 0.10 ABUT==90 INTERSECTING ONLY REGION  
  ( E1 INTERACT E2 > 1 ) NOT LOGOMK
  ( E2 INTERACT E1 > 1 ) NOT LOGOMK   
} 

 // OPC.3A {@ Layout rounding effect minimization
 //         @ Minimize H shape diffusion utilization if possible.
 // }
 
 // OPC.3B {@ Layout rounding effect minimization
 //         @ If H shape diffusion is needed, please follow TLR rule with POLY to 
 // }       @ diffusion corner >=0.10, when the relative transistor width < 0.2um
 
 // OPC.3C {@ Layout rounding effect minimization
 //         @ Place Contact/Via at the center of POLY/DIFFUSION/METAL lines to 
 //         @ minimize the impact of Poly/Metal shape rounding effect.
 // } 

 // OPC.3D {@ Layout rounding effect minimization
 //         @ Adopt DFM recommended DIFFUSION/POLY/METAL enclosure rules if space allowed
 // } 

 // OPC.4A {@ Critical CD varition minimization for better device matching.
 //         @ Poly1 gates aligned in one direction. Horizontal direction is preferred.
 // } // Covered by DFM rules.
  
 // OPC.4B {@ Critical CD varition minimization for better device matching.
 //         @ Add dummy feature (using same width/space as ending transistor) adjacent to 
 //         @ REAL ending transistor, ideally with same pitch as active POLY lines.
 // } 
 

// From G-03LO-GENERATION25_BEYOND-TLR/LOGO 
//
//=============================
//====== LOGO Guidelines ======
//=============================
//

GROUP LOGO_RULES LOGO_?

//

DIFF_LOGO  = DIFF  AND  LOGOMK
NWEL_LOGO  = NWEL  AND  LOGOMK
DNW_LOGO   = DNW   AND LOGOMK
//TWEL_LOGO  = TWEL  AND  LOGOMK
MG_LOGO    = MG    AND  LOGOMK
TG_LOGO    = TG    AND  LOGOMK
HR_LOGO    = HR    AND  LOGOMK
PO1_LOGO   = PO1   AND  LOGOMK
NPLUS_LOGO = NPLUS AND  LOGOMK
PPLUS_LOGO = PPLUS AND  LOGOMK
PESD_LOGO  = PESD  AND  LOGOMK
SAB_LOGO   = SAB   AND  LOGOMK
CONT_LOGO  = CONT  AND  LOGOMK


// 6.1 DIFFUSION layer


LOGO_6.1A {@ Minimum diffusion width is 0.3um
   INT  DIFF_LOGO < 0.3  ABUT>0<90 SINGULAR REGION   
}

LOGO_6.1B {@ Minimum diffusion to diffusion spacing(in the same well) is 0.4um
   
   X = DIFF_LOGO  INTERACT  NWEL_LOGO
   
   EXT  X < 0.4  ABUT>0<90  SINGULAR REGION  
   
   Y = DIFF_LOGO  NOT  INTERACT  NWEL_LOGO
   
   EXT  Y < 0.4  ABUT>0<90  SINGULAR REGION

}

// 6.2A NWEL layer 


LOGO_6.2A {@ Minimum NWEL width is 1.2um

   INT  NWEL_LOGO < 1.2  ABUT>0<90 SINGULAR REGION      

}

LOGO_6.2B {@ Minimum NWEL spacing is 2.0um

   EXT  NWEL_LOGO < 2.0  ABUT>0<90 SINGULAR REGION      

}


// 6.3 T_WELL layer
//
//
//LOGO_6.3A {@ Minimum NWEL width is 1.2um
//
//   INT  TWEL_LOGO < 1.2  ABUT>0<90 SINGULAR REGION      
//
//}
//
//LOGO_6.3B {@ Minimum NWEL spacing is 2.0um
//
//   EXT  TWEL_LOGO < 2.0  ABUT>0<90 SINGULAR REGION      
//
//}
//

// 6.4 DEEP_N_WELL layer

LOGO_6.4A {@ Minimum DEEP_N_WELL width is 3.5um
    INT DNW_LOGO < 3.5 ABUT<90 SINGULAR REGION
}

LOGO_6.4B {@ Minimum DEEP_N_WELL to DEEP_N_WELL spacing is 3.5um
    EXT DNW_LOGO < 3.5 ABUT<90  REGION
}


// 6.5 MG layer

LOGO_6.5A {@ Minimum MG width is 0.6um

   INT  MG_LOGO < 0.6  ABUT>0<90 SINGULAR REGION      

}

LOGO_6.5B {@ Minimum MG spacing is 0.6um

   EXT  MG_LOGO < 0.6  ABUT>0<90 SINGULAR REGION      

}

// 6.6 TG layer

LOGO_6.6A {@ Minimum TG width is 0.6um

   INT  TG_LOGO < 0.6  ABUT>0<90 SINGULAR REGION      

}

LOGO_6.6B {@ Minimum TG spacing is 0.6um

   EXT  TG_LOGO < 0.6  ABUT>0<90 SINGULAR REGION      

}

// 6.7 HR layer

LOGO_6.7A {@ Minimum HR width is 0.8um

   INT  HR_LOGO < 0.8  ABUT>0<90 SINGULAR REGION      

}

LOGO_6.7B {@ Minimum HR spacing is 0.8um

   EXT  HR_LOGO < 0.8  ABUT>0<90 SINGULAR REGION      

}

// 6.8 POLY1 layer

LOGO_6.8A {@ Minimum POLY1 width is 0.24um

   INT  PO1_LOGO < 0.24  ABUT>0<90 SINGULAR REGION      

}

LOGO_6.8B {@ Minimum POLY spacing is 0.32um

   EXT  PO1_LOGO < 0.32  ABUT>0<90 SINGULAR REGION      

}

// 6.9 N+ layer

LOGO_6.9A {@ Minimum NPLUS width is 0.42um

   INT  NPLUS_LOGO < 0.42  ABUT>0<90 SINGULAR REGION      

}

LOGO_6.9B {@ Minimum NPLUS spacing is 0.42um

   EXT  NPLUS_LOGO < 0.42  ABUT>0<90 SINGULAR REGION      

}

// 6.10 P+ layer

LOGO_6.10A {@ Minimum PPLUS width is 0.42um

   INT  PPLUS_LOGO < 0.42  ABUT>0<90 SINGULAR REGION      

}

LOGO_6.10B {@ Minimum PPLUS spacing is 0.42um

   EXT  PPLUS_LOGO < 0.42  ABUT>0<90 SINGULAR REGION      

}

// 6.11 PESD layer

LOGO_6.11A {@ Minimum PESD width is 0.8um

   INT  PESD_LOGO < 0.8  ABUT>0<90 SINGULAR REGION      

}

LOGO_6.11B {@ Minimum PESD spacing is 0.8um

   EXT  PESD_LOGO < 0.8  ABUT>0<90 SINGULAR REGION      

}


// 6.12 SAB layer

LOGO_6.12A {@ Minimum SAB width is 0.6um

   INT  SAB_LOGO < 0.6  ABUT>0<90 SINGULAR REGION      

}

LOGO_6.12B {@ Minimum SAB to SAB spacing is 0.6um

   EXT  SAB_LOGO < 0.6  ABUT>0<90 SINGULAR REGION      

}

// 6.13 CONTACT layer

LOGO_6.13A {@ Minimum CONTACT width is 0.32um

   INT  CONT_LOGO < 0.32  ABUT>0<90 SINGULAR REGION      

}

LOGO_6.13B {@ Minimum CONTACT to CONTACT spacing is 0.4um

   EXT  CONT_LOGO < 0.4  ABUT>0<90 SINGULAR REGION      

}

LOGO_6.13D {@ Minimum POLY/DIFF enclosure of CONTACT is 0.14um

   ENC  CONT_LOGO PO1_LOGO  < 0.14  ABUT<90 SINGULAR REGION  
   ENC  CONT_LOGO DIFF_LOGO < 0.14  ABUT<90 SINGULAR REGION    
  
   CONT_LOGO NOT (PO1_LOGO OR DIFF_LOGO)

}


// 6.14 Metal1 layer

LOGO_6.14A {@ Minimum ME1 width is 0.32um
   
   ME1_LOGO = ME1  AND  LOGOMK
   
   INT  ME1_LOGO < 0.32  ABUT>0<90 SINGULAR REGION      

}

LOGO_6.14B {@ Minimum ME1 to ME1 spacing is 0.32um

   ME1_LOGO = ME1  AND  LOGOMK 
   EXT  ME1_LOGO < 0.32  ABUT>0<90 SINGULAR REGION      

}

// 14C

LOGO_6.14D {@ CONTACT must be within Metal1,minimum ME1 enclosure of CONTACT is 0.3um

   ME1_LOGO = ME1  AND  LOGOMK
   
   ENC  CONT_LOGO   ME1_LOGO  < 0.3  ABUT OUTSIDE ALSO REGION

}



// VI1 layer

VI1_LOGO = VI1  AND LOGOMK

//


LOGO_6.15A.VI1 {@ Minimum VI1 width is 0.6um

   INT  VI1_LOGO < 0.6  ABUT>0<90 SINGULAR REGION      

}

LOGO_6.15B.VI1 {@ Minimum VI1 to VI1 spacing is 0.6um

   EXT  VI1_LOGO < 0.6  ABUT>0<90 SINGULAR REGION      

}

LOGO_6.15D.VI1 {@ In order to minimize the possible process, VI1 has to connect with ME1 underneath and ME2 on the top
   
    ME1_LOGO  =  ME1  AND  LOGOMK
    ME2_LOGO  =  ME2  AND  LOGOMK
              
    VI1_LOGO   NOT    ME1_LOGO
    VI1_LOGO   NOT    ME2_LOGO
}

LOGO_6.15D.a.VI1 {@ Minimum ME1 enclosure of VI1 is 0.3um
             
    ME1_LOGO  =  ME1  AND  LOGOMK
    
    ENC VI1_LOGO  ME1_LOGO  < 0.3  ABUT<90  SINGULAR REGION  
}

       

// VI2 layer

VI2_LOGO = VI2  AND LOGOMK

//


LOGO_6.15A.VI2 {@ Minimum VI2 width is 0.6um

   INT  VI2_LOGO < 0.6  ABUT>0<90 SINGULAR REGION      

}

LOGO_6.15B.VI2 {@ Minimum VI2 to VI2 spacing is 0.6um

   EXT  VI2_LOGO < 0.6  ABUT>0<90 SINGULAR REGION      

}

LOGO_6.15D.VI2 {@ In order to minimize the possible process, VI2 has to connect with ME2 underneath and ME3 on the top
   
    ME2_LOGO  =  ME2  AND  LOGOMK
    ME3_LOGO  =  ME3  AND  LOGOMK
              
    VI2_LOGO   NOT    ME2_LOGO
    VI2_LOGO   NOT    ME3_LOGO
}

LOGO_6.15D.a.VI2 {@ Minimum ME2 enclosure of VI2 is 0.3um
             
    ME2_LOGO  =  ME2  AND  LOGOMK
    
    ENC VI2_LOGO  ME2_LOGO  < 0.3  ABUT<90  SINGULAR REGION  
}

       

// VI3 layer

VI3_LOGO = VI3  AND LOGOMK

//


LOGO_6.15A.VI3 {@ Minimum VI3 width is 0.6um

   INT  VI3_LOGO < 0.6  ABUT>0<90 SINGULAR REGION      

}

LOGO_6.15B.VI3 {@ Minimum VI3 to VI3 spacing is 0.6um

   EXT  VI3_LOGO < 0.6  ABUT>0<90 SINGULAR REGION      

}

LOGO_6.15D.VI3 {@ In order to minimize the possible process, VI3 has to connect with ME3 underneath and ME4 on the top
   
    ME3_LOGO  =  ME3  AND  LOGOMK
    ME4_LOGO  =  ME4  AND  LOGOMK
              
    VI3_LOGO   NOT    ME3_LOGO
    VI3_LOGO   NOT    ME4_LOGO
}

LOGO_6.15D.a.VI3 {@ Minimum ME3 enclosure of VI3 is 0.3um
             
    ME3_LOGO  =  ME3  AND  LOGOMK
    
    ENC VI3_LOGO  ME3_LOGO  < 0.3  ABUT<90  SINGULAR REGION  
}

       

// VI4 layer

VI4_LOGO = VI4  AND LOGOMK

//


LOGO_6.15A.VI4 {@ Minimum VI4 width is 0.6um

   INT  VI4_LOGO < 0.6  ABUT>0<90 SINGULAR REGION      

}

LOGO_6.15B.VI4 {@ Minimum VI4 to VI4 spacing is 0.6um

   EXT  VI4_LOGO < 0.6  ABUT>0<90 SINGULAR REGION      

}

LOGO_6.15D.VI4 {@ In order to minimize the possible process, VI4 has to connect with ME4 underneath and ME5 on the top
   
    ME4_LOGO  =  ME4  AND  LOGOMK
    ME5_LOGO  =  ME5  AND  LOGOMK
              
    VI4_LOGO   NOT    ME4_LOGO
    VI4_LOGO   NOT    ME5_LOGO
}

LOGO_6.15D.a.VI4 {@ Minimum ME4 enclosure of VI4 is 0.3um
             
    ME4_LOGO  =  ME4  AND  LOGOMK
    
    ENC VI4_LOGO  ME4_LOGO  < 0.3  ABUT<90  SINGULAR REGION  
}

       

// VI5 layer

VI5_LOGO = VI5  AND LOGOMK

//


LOGO_6.15A.VI5 {@ Minimum VI5 width is 0.6um

   INT  VI5_LOGO < 0.6  ABUT>0<90 SINGULAR REGION      

}

LOGO_6.15B.VI5 {@ Minimum VI5 to VI5 spacing is 0.6um

   EXT  VI5_LOGO < 0.6  ABUT>0<90 SINGULAR REGION      

}

LOGO_6.15D.VI5 {@ In order to minimize the possible process, VI5 has to connect with ME5 underneath and ME6 on the top
   
    ME5_LOGO  =  ME5  AND  LOGOMK
    ME6_LOGO  =  ME6  AND  LOGOMK
              
    VI5_LOGO   NOT    ME5_LOGO
    VI5_LOGO   NOT    ME6_LOGO
}

LOGO_6.15D.a.VI5 {@ Minimum ME5 enclosure of VI5 is 0.3um
             
    ME5_LOGO  =  ME5  AND  LOGOMK
    
    ENC VI5_LOGO  ME5_LOGO  < 0.3  ABUT<90  SINGULAR REGION  
}

       

// VI6 layer

VI6_LOGO = VI6  AND LOGOMK

//


LOGO_6.15A.VI6 {@ Minimum VI6 width is 0.6um

   INT  VI6_LOGO < 0.6  ABUT>0<90 SINGULAR REGION      

}

LOGO_6.15B.VI6 {@ Minimum VI6 to VI6 spacing is 0.6um

   EXT  VI6_LOGO < 0.6  ABUT>0<90 SINGULAR REGION      

}

LOGO_6.15D.VI6 {@ In order to minimize the possible process, VI6 has to connect with ME6 underneath and ME7 on the top
   
    ME6_LOGO  =  ME6  AND  LOGOMK
    ME7_LOGO  =  ME7  AND  LOGOMK
              
    VI6_LOGO   NOT    ME6_LOGO
    VI6_LOGO   NOT    ME7_LOGO
}

LOGO_6.15D.a.VI6 {@ Minimum ME6 enclosure of VI6 is 0.3um
             
    ME6_LOGO  =  ME6  AND  LOGOMK
    
    ENC VI6_LOGO  ME6_LOGO  < 0.3  ABUT<90  SINGULAR REGION  
}

       

// VI7 layer

VI7_LOGO = VI7  AND LOGOMK

//


LOGO_6.15A.VI7 {@ Minimum VI7 width is 0.6um

   INT  VI7_LOGO < 0.6  ABUT>0<90 SINGULAR REGION      

}

LOGO_6.15B.VI7 {@ Minimum VI7 to VI7 spacing is 0.6um

   EXT  VI7_LOGO < 0.6  ABUT>0<90 SINGULAR REGION      

}

LOGO_6.15D.VI7 {@ In order to minimize the possible process, VI7 has to connect with ME7 underneath and ME8 on the top
   
    ME7_LOGO  =  ME7  AND  LOGOMK
    ME8_LOGO  =  ME8  AND  LOGOMK
              
    VI7_LOGO   NOT    ME7_LOGO
    VI7_LOGO   NOT    ME8_LOGO
}

LOGO_6.15D.a.VI7 {@ Minimum ME7 enclosure of VI7 is 0.3um
             
    ME7_LOGO  =  ME7  AND  LOGOMK
    
    ENC VI7_LOGO  ME7_LOGO  < 0.3  ABUT<90  SINGULAR REGION  
}

       

// VI8 layer

VI8_LOGO = VI8  AND LOGOMK

//


LOGO_6.15A.VI8 {@ Minimum VI8 width is 0.6um

   INT  VI8_LOGO < 0.6  ABUT>0<90 SINGULAR REGION      

}

LOGO_6.15B.VI8 {@ Minimum VI8 to VI8 spacing is 0.6um

   EXT  VI8_LOGO < 0.6  ABUT>0<90 SINGULAR REGION      

}

LOGO_6.15D.VI8 {@ In order to minimize the possible process, VI8 has to connect with ME8 underneath and ME9 on the top
   
    ME8_LOGO  =  ME8  AND  LOGOMK
    ME9_LOGO  =  ME9  AND  LOGOMK
              
    VI8_LOGO   NOT    ME8_LOGO
    VI8_LOGO   NOT    ME9_LOGO
}

LOGO_6.15D.a.VI8 {@ Minimum ME8 enclosure of VI8 is 0.3um
             
    ME8_LOGO  =  ME8  AND  LOGOMK
    
    ENC VI8_LOGO  ME8_LOGO  < 0.3  ABUT<90  SINGULAR REGION  
}

       

// VI9 layer

VI9_LOGO = VI9  AND LOGOMK

//


LOGO_6.15A.VI9 {@ Minimum VI9 width is 0.6um

   INT  VI9_LOGO < 0.6  ABUT>0<90 SINGULAR REGION      

}

LOGO_6.15B.VI9 {@ Minimum VI9 to VI9 spacing is 0.6um

   EXT  VI9_LOGO < 0.6  ABUT>0<90 SINGULAR REGION      

}

LOGO_6.15D.VI9 {@ In order to minimize the possible process, VI9 has to connect with ME9 underneath and ME10 on the top
   
    ME9_LOGO  =  ME9  AND  LOGOMK
    ME10_LOGO  =  ME10  AND  LOGOMK
              
    VI9_LOGO   NOT    ME9_LOGO
    VI9_LOGO   NOT    ME10_LOGO
}

LOGO_6.15D.a.VI9 {@ Minimum ME9 enclosure of VI9 is 0.3um
             
    ME9_LOGO  =  ME9  AND  LOGOMK
    
    ENC VI9_LOGO  ME9_LOGO  < 0.3  ABUT<90  SINGULAR REGION  
}

       

// ME2 layer

ME2_LOGO  =  ME2  AND  LOGOMK

//

LOGO_6.16A.ME2 {@ Minimum ME2 width is 0.6um

   INT  ME2_LOGO < 0.6  ABUT>0<90 SINGULAR REGION      

}

LOGO_6.16B.ME2 {@ Minimum ME2 to ME2 spacing is 0.6um

   EXT  ME2_LOGO < 0.6  ABUT>0<90 SINGULAR REGION      

}


// ME3 layer

ME3_LOGO  =  ME3  AND  LOGOMK

//

LOGO_6.16A.ME3 {@ Minimum ME3 width is 0.6um

   INT  ME3_LOGO < 0.6  ABUT>0<90 SINGULAR REGION      

}

LOGO_6.16B.ME3 {@ Minimum ME3 to ME3 spacing is 0.6um

   EXT  ME3_LOGO < 0.6  ABUT>0<90 SINGULAR REGION      

}


// ME4 layer

ME4_LOGO  =  ME4  AND  LOGOMK

//

LOGO_6.16A.ME4 {@ Minimum ME4 width is 0.6um

   INT  ME4_LOGO < 0.6  ABUT>0<90 SINGULAR REGION      

}

LOGO_6.16B.ME4 {@ Minimum ME4 to ME4 spacing is 0.6um

   EXT  ME4_LOGO < 0.6  ABUT>0<90 SINGULAR REGION      

}


// ME5 layer

ME5_LOGO  =  ME5  AND  LOGOMK

//

LOGO_6.16A.ME5 {@ Minimum ME5 width is 0.6um

   INT  ME5_LOGO < 0.6  ABUT>0<90 SINGULAR REGION      

}

LOGO_6.16B.ME5 {@ Minimum ME5 to ME5 spacing is 0.6um

   EXT  ME5_LOGO < 0.6  ABUT>0<90 SINGULAR REGION      

}


// ME6 layer

ME6_LOGO  =  ME6  AND  LOGOMK

//

LOGO_6.16A.ME6 {@ Minimum ME6 width is 0.6um

   INT  ME6_LOGO < 0.6  ABUT>0<90 SINGULAR REGION      

}

LOGO_6.16B.ME6 {@ Minimum ME6 to ME6 spacing is 0.6um

   EXT  ME6_LOGO < 0.6  ABUT>0<90 SINGULAR REGION      

}


// ME7 layer

ME7_LOGO  =  ME7  AND  LOGOMK

//

LOGO_6.16A.ME7 {@ Minimum ME7 width is 0.6um

   INT  ME7_LOGO < 0.6  ABUT>0<90 SINGULAR REGION      

}

LOGO_6.16B.ME7 {@ Minimum ME7 to ME7 spacing is 0.6um

   EXT  ME7_LOGO < 0.6  ABUT>0<90 SINGULAR REGION      

}


// ME8 layer

ME8_LOGO  =  ME8  AND  LOGOMK

//

LOGO_6.16A.ME8 {@ Minimum ME8 width is 0.6um

   INT  ME8_LOGO < 0.6  ABUT>0<90 SINGULAR REGION      

}

LOGO_6.16B.ME8 {@ Minimum ME8 to ME8 spacing is 0.6um

   EXT  ME8_LOGO < 0.6  ABUT>0<90 SINGULAR REGION      

}


// ME9 layer

ME9_LOGO  =  ME9  AND  LOGOMK

//

LOGO_6.16A.ME9 {@ Minimum ME9 width is 0.6um

   INT  ME9_LOGO < 0.6  ABUT>0<90 SINGULAR REGION      

}

LOGO_6.16B.ME9 {@ Minimum ME9 to ME9 spacing is 0.6um

   EXT  ME9_LOGO < 0.6  ABUT>0<90 SINGULAR REGION      

}


// ME10  layer

ME10_LOGO  =  ME10   AND  LOGOMK

//

LOGO_6.17A.ME10 {@ Minimum ME10 width is 2.0um

   INT  ME10_LOGO < 2.0  ABUT>0<90 SINGULAR REGION      

}

LOGO_6.17B.ME10 {@ Minimum ME10 to ME10 spacing is 2.0um

   EXT  ME10_LOGO < 2.0  ABUT>0<90 SINGULAR REGION      

}

// 6.18 MIMTP layer

MMCTP_LOGO = MMCTP    AND  LOGOMK
MMCBP_LOGO = MMCBP    AND  LOGOMK 
TMV_LOGO   = TMV_RDL  AND  LOGOMK
ALRDL_LOGO = AL_RDL   AND  LOGOMK
PASV_LOGO  = PASV_RDL AND  LOGOMK

//


LOGO_6.18A {@ Minimum MMCTP_LOGO width is 3.9um
   INT  MMCTP_LOGO < 3.9  ABUT>0<90 SINGULAR REGION      
}

LOGO_6.18B {@ Minimum MMCBP spacing is 1.0um
   EXT  MMCTP_LOGO < 1.0  ABUT>0<90 SINGULAR REGION      
}

//LOGO_6.18C {@ Acute angle is suggested to avoid in the drawing of a logo layout,
//            @ i.e. angle formed by two lines of patterns should be larger than 
//            @ or equal to 90 degrees.   
//} covered by LOGO_6.18A

LOGO_6.18D {@ Minimum MMCBP enclosure of MMCTP is 0.6um
   ENC  MMCTP_LOGO  MMCBP_LOGO < 0.6  ABUT>0<90 SINGULAR REGION      
}

LOGO_6.19A {@ Minimum MMCBP_LOGO width is 5.1um
   INT  MMCBP_LOGO < 5.1  ABUT>0<90 SINGULAR REGION      
}

LOGO_6.19B {@ Minimum MMCBP spacing is 1.0um
   EXT  MMCBP_LOGO < 1.0  ABUT>0<90 SINGULAR REGION      
}

//LOGO_6.19C {@ Acute angle is suggested to avoid in the drawing of a logo layout,
//            @ i.e. angle formed by two lines of patterns should be larger than 
//            @ or equal to 90 degrees.   
//} covered by LOGO_6.19A

LOGO_6.19D {@ Minimum MMCBP enclosure of TMV_RDL is 0.45um
   ENC  TMV_LOGO  MMCBP_LOGO < 0.45  ABUT>0<90 SINGULAR REGION      
}

// TMV_RDL layer

LOGO_6.20A {@ Minimum TMV_RDL width is 4.0um
            @ Minimum TMV_RDL space is 2.0um 
   INT  TMV_LOGO < 4.0  ABUT>0<90 SINGULAR REGION  
   EXT  TMV_LOGO < 2.0 ABUT>0<90 SINGULAR REGION    
}

LOGO_6.20B {@ TMV_RDL should be enclosed by AL_RDL

     TMV_LOGO  NOT   ALRDL_LOGO 
}

LOGO_6.20B_extra {@ TMV_RDL should be enclosed by TOP metal
     TMV_LOGO  NOT  ME10  
}

// AL_RDL layer

LOGO_6.21A {@ Minimum AL_RDL width is 3.0um
            @ Minimum AL_RDL space is 1.6um 

   INT  ALRDL_LOGO < 3.0  ABUT>0<90 SINGULAR REGION  
   EXT  ALRDL_LOGO < 1.6  ABUT>0<90 SINGULAR REGION    

}

LOGO_6.21B {@ Minimum AL_RDL enclosure of TMV_RDL is 2.0um

     ENC TMV_LOGO  ALRDL_LOGO < 2.0 ABUT SINGULAR REGION   

}

// PASV_RDL layer

LOGO_6.22A {@ Minimum PASV_RDL width is 43 um
            @ Minimum PASV_RDL space is 7  um
     INT  PASV_LOGO < 43   ABUT > 0 < 90 SINGULAR REGION             
     EXT  PASV_LOGO < 7    ABUT > 0 < 90 SINGULAR REGION
}


LOGO_6.22B {@ Minimum AL_RDL enclosure of PASV_RDL is 2.0um

     ENC PASV_LOGO  ALRDL_LOGO < 2.0 ABUT SINGULAR REGION   

}

// AL_FUSE_PAD rule

ALPD_LOGO = AL_FUSE_PAD  AND  LOGOMK

//

LOGO_6.23A {@ Minimum AL_FUSE_PAD width is 8.0um
            
   INT  ALPD_LOGO  < 8.0  ABUT>0<90 SINGULAR REGION      

}


// AL_FUSE_PAD rule

CUPD_LOGO = CU_FUSE_PAD  AND  LOGOMK

//

LOGO_6.24A {@ Minimum CU_FUSE_PAD width is 8.0um
            
   INT  CUPD_LOGO  < 8.0  ABUT>0<90 SINGULAR REGION      

}


GROUP ONLY_Manhattan_CHECK ManCK_M2 ManCK_V2 ManCK_M3 ManCK_V3 ManCK_M4 ManCK_V4 ManCK_M5 ManCK_V5 ManCK_M6
 
#IFDEF ONLY_Manhattan_CHECK
//INCLUDE ./umc-65-X_architecture_Calibre-drc-V6
 
#ELSE
DRC UNSELECT CHECK EXCLUDE_6
DRC UNSELECT CHECK ONLY_Manhattan_CHECK
//INCLUDE ./umc-65-X_architecture_Calibre-drc-V6
#ENDIF

INCLUDE ./umc65_memory_v2.15.cal
INCLUDE ./umc65_eDRAM_LL-vB.C_PB.cal

// END OF FILE
